{"version":3,"file":"static/js/2329.170f2efe.chunk.js","mappings":"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","sources":["views/staff/AddStaff.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport Multiselect from \"multiselect-react-dropdown\";\n\nconst AddStaff = () => {\n    const navigate = useNavigate();\n    const [location, setLocation] = useState([]);\n    const [LineOfBusiness, setLineOfBusiness] = useState([]);\n    const [userTypes, setUserTypes] = useState([]);\n    const [staff_lob, setStaff_lob] = useState(null);\n    const [staff_location, setStaff_location] = useState([]);\n    const [staff_Business_type, setBusiness_type] = useState([]);\n    const [staff_Business_type1, setBusiness_type1] = useState(null);\n    const [permission, setPermission] = useState([]);\n    const [companyfeild, setShowCompanyfeild] = useState([])\n    const [insuranceCompany, setInsuranceCompany] = useState([])\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token === null || token === undefined || token === '') {\n            navigate('/login')\n        }\n        else {\n            // getlistLineOfBusiness();\n            locationList();\n            userTypeList();\n            getlistCompany()\n            const Business_type = [\n                { label: \"New Business\", value: \"New Business\" },\n                { label: \"Renewal Business\", value: \"Renewal Business\" }\n            ];\n            setBusiness_type(Business_type);\n            // getCompanyList()\n        }\n    }, []);\n\n    useEffect(() => {\n        console.log('i worked toooooooooooooooooooo');\n        console.log(staff_location, \"staff_location\");\n        getlistLineOfBusiness();\n    }, [staff_location]);\n\n    const getlistCompany = () => {\n\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/getCompany`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                setInsuranceCompany(data.data);\n            });\n    }\n    const locationList = () => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                const locationdt = data.data;\n                console.log(locationdt);\n                const location_len = locationdt.length;\n                const location_list = [];\n                for (let i = 0; i < location_len; i++) {\n                    const location_obj = { label: locationdt[i].location_name, value: locationdt[i]._id };\n\n                    location_list.push(location_obj);\n                }\n                setLocation(location_list);\n                setStaff_location(location_list);\n            });\n    }\n\n    console.log(location);\n\n    console.log(staff_location);\n\n\n\n\n    const getlistLineOfBusiness = () => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n\n        const locationValues = staff_location == null || staff_location.length == 0 ?\n            location.map((val) => val.value) :\n            staff_location.map((val) => val.value);\n\n        // Create URLSearchParams object\n        const params = new URLSearchParams();\n        locationValues.forEach(value => {\n            params.append('location', value);\n        });\n\n\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_list?${params.toString()}`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                const line_of_businessdt = data.data;\n                const line_of_business_len = line_of_businessdt.length;\n                const line_of_business_list = [];\n                for (let i = 0; i < line_of_business_len; i++) {\n                    const line_of_business_obj = { label: line_of_businessdt[i].line_of_business_name, value: line_of_businessdt[i]._id };\n                    line_of_business_list.push(line_of_business_obj);\n                }\n                setLineOfBusiness(line_of_business_list);\n            });\n    }\n\n\n    const handlestafflocation = (selectedvalue) => {\n        setStaff_location(selectedvalue);\n    }\n\n\n\n    const userTypeList = () => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/get_user_type`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                setUserTypes(data.data);\n            });\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const data = new FormData(e.target);\n        const staff_name = data.get('staff_name');\n        const staff_email = data.get('staff_email');\n        const staff_mobile = data.get('staff_mobile');\n        const staff_usertype = data.get('staff_usertype');\n        const staff_password = data.get('staff_password');\n        const company = data.get('company')\n        const staff_lob_len = (staff_lob == null) ? LineOfBusiness.length : staff_lob.length;\n        const staff_lob_str = [];\n        for (let i = 0; i < staff_lob_len; i++) {\n            if (staff_lob == null) {\n                staff_lob_str.push(LineOfBusiness[i].value);\n            }\n            else {\n                staff_lob_str.push(staff_lob[i].value);\n            }\n        }\n        const staff_location_len = (staff_location == null) ? location.length : staff_location.length;\n        const staff_location_str = [];\n        for (let i = 0; i < staff_location_len; i++) {\n            if (staff_location == null) {\n                staff_location_str.push(location[i].value);\n            }\n            else {\n                staff_location_str.push(staff_location[i].value);\n            }\n        }\n        const staff_business_len = staff_Business_type1.length;\n        const staff_business = [];\n        for (let i = 0; i < staff_business_len; i++) {\n            staff_business.push(staff_Business_type1[i].value);\n        }\n\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                staff_name: staff_name,\n                staff_email: staff_email,\n                staff_mobile: staff_mobile,\n                staff_usertype: staff_usertype,\n                staff_business: staff_business,\n                staff_password: staff_password,\n                company: company,\n                staff_lob: staff_lob_str,\n                staff_location: staff_location_str\n            }),\n        };\n        fetch('https://insuranceapi-3o5t.onrender.com/api/addStaff', requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status === 200) {\n                    const staff_id = data.data._id;\n                    copypermission(staff_id);\n                    swal({\n                        title: \"Success!\",\n                        text: data.message,\n                        type: \"success\",\n                        icon: \"success\"\n                    }).then(function () {\n                        navigate('/ViewStaff')\n                    });\n                }\n                else {\n                    swal({\n                        title: \"Error!\",\n                        text: data.message,\n                        type: \"error\",\n                        icon: \"error\"\n                    }).then(function () {\n                        navigate('/ViewStaff')\n                    });\n                }\n            });\n    }\n\n    const copypermission = (id) => {\n        const requestOptions = {\n            method: 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/update_user_permission/${id}`, requestOptions)\n            .then((response) => response.json())\n            .then((data) => {\n                const result = convertResponse(data.data);\n                const parsedPermission = JSON.stringify(result, null, 2);\n                setPermission(JSON.parse(parsedPermission));\n            });\n    }\n\n    console.log('permission>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>', permission);\n\n    const convertResponse = (response) => {\n        const convertedResponse = [];\n\n        for (const module in response[0]) {\n            const permission = response[0][module][0];\n            const moduleName = module.split('_')[0];\n\n            const convertedModule =\n            {\n                module_name: moduleName.charAt(0).toUpperCase() + moduleName.slice(1),\n                permission: [{ ...permission, _id: \"64a3b25ba1f5ea6cfdbad390\", __v: 0 }]\n            };\n\n            convertedResponse.push(convertedModule);\n        }\n\n        return convertedResponse;\n    };\n    const HandleUserTypeChange = (e) => {\n        if (e.target.value === '653604248028cba2487f7d2a') {\n            setShowCompanyfeild(true)\n        } else {\n            setShowCompanyfeild(false)\n        }\n    }\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <div className=\"card\" style={{ marginTop: '20px' }}>\n                        <div className=\"card-header\">\n                            <div className=\"row\">\n                                <div className=\"col-md-6\">\n                                    <h4 className=\"card-title\">Add Staff</h4>\n                                </div>\n                                <div className=\"col-md-6\">\n                                    <a href=\"/ViewStaff\" className=\"btn btn-primary\" style={{ float: 'right' }}>Back</a>\n                                </div>\n                                <div className=\"card-body\">\n                                    <form action=\"/\" method=\"POST\" onSubmit={handleSubmit}>\n                                        <div className=\"row\">\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Name</label>\n                                                    <input type=\"text\" className=\"form-control\" name=\"staff_name\" placeholder=\"Enter Name\" autoComplete=\"off\" required />\n                                                </div>\n                                            </div>\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Email</label>\n                                                    <input type=\"email\" className=\"form-control\" name=\"staff_email\" placeholder=\"Enter Email\" autoComplete=\"off\" required />\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Mobile</label>\n                                                    <input type=\"text\" className=\"form-control\" name=\"staff_mobile\" placeholder=\"Enter Mobile\" autoComplete=\"off\" required />\n                                                </div>\n                                            </div>\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>User Type</label>\n                                                    <select className=\"form-control\" onClick={(e) => HandleUserTypeChange(e)} name=\"staff_usertype\" required>\n                                                        <option value=\"\">Select User Type</option>\n                                                        {\n                                                            userTypes.length > 0 &&\n                                                            userTypes.map((item, index) => (\n                                                                <option key={index} value={item._id}>{item.usertype}</option>\n                                                            ))\n                                                        }\n                                                    </select>\n                                                </div>\n                                            </div>\n                                            {companyfeild == true ?\n                                                <div className='col-md-6'>\n                                                    <div className='form-group mb-3'>\n                                                        <label>Company</label>\n                                                        <select className='form-control' name='company' required>\n                                                            <option value=\"\">Select Company</option>\n                                                            {insuranceCompany?.map((item, index) => (\n                                                                <option key={index} value={item._id}>{item.company_name}</option>\n                                                            ))\n                                                            }\n                                                        </select>\n                                                    </div>\n                                                </div> : \"\"\n                                            }\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Location</label>\n                                                    <Multiselect\n                                                        options={location}\n                                                        displayValue=\"label\"\n                                                        selectedValues={staff_location}\n                                                        onSelect={(selectedList) => handlestafflocation(selectedList)}\n                                                        onRemove={(selectedList) => handlestafflocation(selectedList)}\n                                                        placeholder=\"Select Location\"\n                                                        closeOnSelect={false}\n                                                        avoidHighlightFirstOption={true}\n                                                        showCheckbox={true}\n                                                        style={{ chips: { background: \"#007bff\" } }}\n                                                    />\n                                                </div>\n                                            </div>\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Line Of Business</label>\n                                                    <Multiselect\n                                                        options={LineOfBusiness}\n                                                        displayValue=\"label\"\n                                                        selectedValues={LineOfBusiness}\n                                                        onSelect={setStaff_lob}\n                                                        onRemove={setStaff_lob}\n                                                        placeholder=\"Select Line Of Business\"\n                                                        closeOnSelect={false}\n                                                        avoidHighlightFirstOption={true}\n                                                        showCheckbox={true}\n                                                        style={{ chips: { background: \"#007bff\" } }}\n                                                    />\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Type</label>\n                                                    <Multiselect\n                                                        options={staff_Business_type}\n                                                        displayValue=\"label\"\n                                                        onSelect={setBusiness_type1}\n                                                        onRemove={setBusiness_type1}\n                                                        placeholder=\"Select Type\"\n                                                        closeOnSelect={false}\n                                                        avoidHighlightFirstOption={true}\n                                                        showCheckbox={true}\n                                                        style={{ chips: { background: \"#007bff\" } }}\n                                                    />\n                                                </div>\n                                            </div>\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Password</label>\n                                                    <input type=\"password\" className=\"form-control\" name=\"staff_password\" placeholder=\"Enter Password\" />\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"row\">\n                                            <div className=\"col-md-12\" style={{ textAlign: 'right' }}>\n                                                <button type=\"submit\" className=\"btn btn-primary\">Save</button>\n                                            </div>\n                                        </div>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default AddStaff\n"],"names":["AddStaff","navigate","useNavigate","location","setLocation","useState","LineOfBusiness","setLineOfBusiness","userTypes","setUserTypes","staff_lob","setStaff_lob","staff_location","setStaff_location","staff_Business_type","setBusiness_type","staff_Business_type1","setBusiness_type1","permission","setPermission","companyfeild","setShowCompanyfeild","insuranceCompany","setInsuranceCompany","useEffect","token","localStorage","getItem","undefined","locationList","userTypeList","getlistCompany","label","value","console","log","getlistLineOfBusiness","fetch","method","headers","then","response","json","data","locationdt","location_len","length","location_list","i","location_obj","location_name","_id","push","locationValues","map","val","params","URLSearchParams","forEach","append","toString","line_of_businessdt","line_of_business_len","line_of_business_list","line_of_business_obj","line_of_business_name","handlestafflocation","selectedvalue","copypermission","id","result","convertResponse","parsedPermission","JSON","stringify","parse","convertedResponse","module","moduleName","split","convertedModule","module_name","charAt","toUpperCase","slice","__v","_jsx","className","children","style","marginTop","_jsxs","href","float","action","onSubmit","e","preventDefault","FormData","target","staff_name","get","staff_email","staff_mobile","staff_usertype","staff_password","company","staff_lob_len","staff_lob_str","staff_location_len","staff_location_str","staff_business_len","staff_business","requestOptions","body","status","staff_id","swal","title","text","message","type","icon","name","placeholder","autoComplete","required","onClick","HandleUserTypeChange","item","index","usertype","company_name","Multiselect","options","displayValue","selectedValues","onSelect","selectedList","onRemove","closeOnSelect","avoidHighlightFirstOption","showCheckbox","chips","background","textAlign"],"sourceRoot":""}