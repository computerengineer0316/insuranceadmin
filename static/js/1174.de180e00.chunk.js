"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1174],{41174:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(65043),l=t(73216),c=t(73023),n=t.n(c),i=t(54168),o=t(70579);const r=()=>{const e=(0,l.Zp)();(0,s.useEffect)((()=>{u()}),[]);const[a,t]=(0,s.useState)(""),[c,r]=(0,s.useState)([]),[d,h]=(0,s.useState)(),[m,p]=(0,s.useState)(""),u=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let l=0;l<t;l++){const e={label:a[l].location_name,value:a[l]._id};s.push(e)}r(s)}))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"container",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-md-12",children:(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("h4",{className:"card-title",children:"Add Policy Type"})}),(0,o.jsx)("div",{className:"card-body",children:(0,o.jsxs)("form",{action:"/",method:"POST",onSubmit:async t=>{if(t.preventDefault(),""==a)return n()("Please Enter Repair Type","","warning"),!1;if(void 0==d)return n()("Please Select Location","","warning"),!1;if(""==m)return n()("Please Select Status","","warning"),!1;{const t=d,s=t.length,l=[];for(let e=0;e<s;e++)l.push(t[e].value);let c=await fetch("https://insuranceapi-3o5t.onrender.com/api/add_policiy_type",{method:"post",body:JSON.stringify({policy_type_name:a,policy_type_location:l.toString(),policy_type_status:m}),headers:{"Content-Type":"application/json"}});c=await c.json(),n()("Added Succesfully","","success"),console.log(c),e("/ViewPolicytype")}},children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{className:"form-label",children:(0,o.jsx)("strong",{children:"Add Policy Type"})}),(0,o.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Enter Repair Type",defaultValue:"",onChange:e=>t(e.target.value)})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{className:"form-label",children:(0,o.jsx)("strong",{children:"Select Location"})}),(0,o.jsx)(i.default,{options:c,displayValue:"label",onSelect:h,onRemove:h,placeholder:"Select Location",showCheckbox:!0,required:!0})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{className:"form-label",children:(0,o.jsx)("strong",{children:"Status"})}),".",(0,o.jsxs)("select",{className:"form-control",name:"status",onChange:e=>p(e.target.value),children:[(0,o.jsx)("option",{value:"",hidden:!0,children:"Select Status"}),(0,o.jsx)("option",{value:"1",children:"Active"}),(0,o.jsx)("option",{value:"0",children:"InActive"})]})]})]}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-md-12",children:(0,o.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})})}}}]);
//# sourceMappingURL=1174.de180e00.chunk.js.map