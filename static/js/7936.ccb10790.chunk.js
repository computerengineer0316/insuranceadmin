"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7936],{77936:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var t=s(65043),l=s(73216),c=s(73023),n=s.n(c),o=s(54168),r=s(70579);const i=()=>{const e=(0,l.Zp)(),[a,s]=(0,t.useState)([]),[c,i]=(0,t.useState)(null);(0,t.useEffect)((()=>{const a=localStorage.getItem("token");null===a||void 0===a||""===a?e("/login"):d()}),[]);const d=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,l=[];for(let s=0;s<t;s++){const e={label:a[s].location_name,value:a[s]._id};l.push(e)}s(l)}))};return(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsx)("h4",{className:"card-title",children:"Add Plan Category"})})})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("form",{action:"/",method:"POST",onSubmit:a=>{a.preventDefault();const s=new FormData(a.target),t=s.get("plan_category_name"),l=c,o=l.length,r=[];for(let e=0;e<o;e++)r.push(l[e].value);const i=s.get("status"),d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan_category_name:t,plan_category_location:r.toString(),plan_category_status:i})};fetch("https://insuranceapi-3o5t.onrender.com/api/add_plan_category",d).then((e=>e.json())).then((a=>{200===a.status?n()({title:"Success!",text:a.message,type:"success",icon:"success"}).then((function(){e("/plan-category")})):n()({title:"Error!",text:a.message,type:"error",icon:"error"}).then((function(){e("/plan-category")}))}))},children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Plan Category Name"}),(0,r.jsx)("input",{type:"text",className:"form-control",placeholder:"Plan Category Name",name:"plan_category_name",autoComplete:"off",required:!0})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Location"}),(0,r.jsx)(o.default,{options:a,displayValue:"label",onSelect:i,onRemove:i,placeholder:"Select Location",showCheckbox:!0,required:!0})]})})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Status"}),(0,r.jsxs)("select",{className:"form-control",name:"status",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Status"}),(0,r.jsx)("option",{value:"1",children:"Active"}),(0,r.jsx)("option",{value:"0",children:"Inactive"})]})]})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})}}}]);
//# sourceMappingURL=7936.ccb10790.chunk.js.map