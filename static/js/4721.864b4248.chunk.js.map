{"version":3,"file":"static/js/4721.864b4248.chunk.js","mappings":"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","sources":["views/pages/login/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { Link, useNavigate } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport { Container, Row } from 'react-bootstrap';\nimport logo from 'src/assets/images/logo.png'\nconst Login = () => {\n  const navigate = useNavigate()\n  const token = localStorage.getItem('token')\n  if (token) {\n    window.location.href = '/admin'\n  }\n\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [emailotp, setEmailotp] = useState('')\n\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    // const data = new FormData(e.target)\n    // const email = data.get('email')\n    // const password = data.get('password')\n    const user = { email, password }\n    console.log(user)\n    const response = await axios.post('https://insuranceapi-3o5t.onrender.com/api/login', user)\n    if (response.data.status === 200) {\n      console.log(response.data.data)\n      localStorage.setItem('token', response.data.token);\n      localStorage.setItem('user', JSON.stringify(response.data.data));\n      const usertype = response.data.data.usertype;\n      if (usertype === '646224deb201a6f07b2dff32') {\n        window.location.href = '/ManageSupervisorDashboard'\n      }\n      else if (usertype === '646224eab201a6f07b2dff36') {\n        window.location.href = '/salesDashboard'\n      }\n      else if (usertype === '6462250eb201a6f07b2dff3a') {\n        window.location.href = '/documentchaserDashboard'\n      }\n      else if (usertype === '64622526b201a6f07b2dff3e') {\n        window.location.href = '/policyissuerdashboard'\n      }\n      else if (usertype === '650029a2df69a4033408903d') {\n        window.location.href = '/operations'\n      }\n      else if (usertype === '653604248028cba2487f7d2a') {\n        window.location.href = '/insurancecompanydashboard'\n      } else if (usertype === \"66068569e8f96a29286c956e\") {\n        window.location.href = '/ProducerDashboard'\n      }\n      else {\n        window.location.href = '/admin'\n      }\n\n    }\n    else {\n      swal({\n        title: \"Error!\",\n        text: response.data.message,\n        type: \"error\",\n        icon: \"error\"\n      }).then(function () {\n        navigate('/login')\n      });\n    }\n  }\n\n\n  const handleotplogin = async (e) => {\n    e.preventDefault()\n    try {\n\n      console.log(emailotp)\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          email: emailotp,\n        }),\n      };\n      await fetch(`https://insuranceapi-3o5t.onrender.com/api/send_otp_email_admin`, requestOptions)\n        .then((response) => response.json())\n        .then((data) => {\n          if (data.status === 200) {\n            console.log(data)\n            localStorage.setItem('email', emailotp)\n            navigate('/VerifyOtp')\n          }\n          else {\n            swal({\n              text: data.message,\n              type: \"warning\",\n              icon: \"warning\"\n            }).then(function () {\n              navigate('/login')\n            });\n          }\n        })\n\n    } catch (err) {\n      console.log(err)\n    }\n\n  }\n\n\n  return (\n    <>\n      <Container>\n        <Link to=\"/Login\"><img style={{ width: '80px', marginTop: '20px', marginBottom: '20px' }} src={logo} /></Link>\n        <div className=\"login-container\">\n          <div className=\"login-form\">\n            <div className=\"login-form-inner\">\n              <h5>Welcome Back</h5>\n              <h4>Login to the Dashboard</h4>\n              <form name=\"signin\" className=\"form\" >\n                <div className=\"login-form-group\">\n                  <label htmlFor=\"email\">Email <span className=\"required-star\">*</span></label>\n                  <input type=\"text\" name=\"email\" placeholder=\"Enter Email\" id=\"email\" defaultValue={email} onChange={(e) => setEmail(e.target.value)} />\n                </div>\n                <div className=\"login-form-group\">\n                  <label htmlFor=\"pwd\">Password <span className=\"required-star\">*</span></label>\n                  <input autoComplete=\"off\" type=\"password\" name=\"password\" placeholder=\"Enter Password\" defaultValue={password} id=\"pwd\" onChange={(e) => setPassword(e.target.value)} />\n                </div>\n                {/* <div className=\"login-form-group single-row\">\n                  <div className=\"custom-check\">\n                    <input autoComplete=\"off\" type=\"checkbox\" defaultChecked id=\"remember\" /><label htmlFor=\"remember\">Remember me</label>\n                  </div>\n                </div> */}\n                <button type=\"submit\" className=\"rounded-button login-cta\" id=\"submitbtn\" onClick={handleSubmit}>\n                  Login\n                </button>\n                <span className=\"or mb-2\">---- OR ----</span>\n                <div className=\"login-form-group\">\n                  <label htmlFor=\"email\">Email <span className=\"required-star\">*</span></label>\n                  <input type=\"text\" name=\"email\" placeholder=\"Enter Email\" defaultValue={emailotp} onChange={(e) => setEmailotp(e.target.value)} />\n                </div>\n                <button type=\"submit\" className=\"rounded-button login-cta\" onClick={handleotplogin}>\n                  Login via OTP\n                </button>\n\n\n                <div className=\"register-div\">Trouble in login? <Link to=\"/Forgetpassword\" className=\"link forgot-link\">Forgot Password ?</Link></div>\n              </form>\n            </div>\n          </div>\n          <div className=\"onboarding\">\n            <div className=\"swiper-container\">\n              <div className=\"swiper-wrapper\">\n                <div className=\"swiper-slide color-1\">\n                  <div className=\"slide-image\">\n                    <img src=\"https://media.istockphoto.com/id/1281150061/vector/register-account-submit-access-login-password-username-internet-online-website-concept.jpg?b=1&s=612x612&w=0&k=20&c=9H5N9Jy8BA9yCzL-Wt5uCeZqETmpPYsJKJ2Nh1-SDaw=\" loading=\"lazy\" alt=\"\" />\n                  </div>\n                  <div className=\"slide-content\">\n                    <h2>Last Minute Policy</h2>\n                    <p>Powered by Joie de Vivre International Insurance Brokerage LLC, regulated by the UAE Insurance Authority</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Container>\n      <div\n        className=\"row\"\n        style={{\n          color: \"white\",\n          textAlign: \"center\",\n          background: \"#003096\",\n          paddingTop: 11\n        }}\n      >\n        <div className=\"col-lg-12\">\n          <p className=\"copyright12\" style={{ fontSize: '14px' }}>\n            Â© Company 2024 All Rights Reserved\n          </p>\n        </div>\n      </div>\n\n\n    </>\n  )\n}\n\nexport default Login\n"],"names":["Login","navigate","useNavigate","localStorage","getItem","window","location","href","email","setEmail","useState","password","setPassword","emailotp","setEmailotp","_jsxs","_Fragment","children","Container","_jsx","Link","to","style","width","marginTop","marginBottom","src","logo","className","name","htmlFor","type","placeholder","id","defaultValue","onChange","e","target","value","autoComplete","onClick","async","preventDefault","user","console","log","response","axios","post","data","status","setItem","token","JSON","stringify","usertype","swal","title","text","message","icon","then","requestOptions","method","headers","body","fetch","json","err","loading","alt","color","textAlign","background","paddingTop","fontSize"],"sourceRoot":""}