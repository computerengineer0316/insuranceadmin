"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2455],{42455:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var a=o(65043),l=o(73216),s=o(30064),n=o.n(s),i=o(54168),r=o(70579);const c=()=>{const e=(0,l.Zp)(),t=window.location.href,o=new URLSearchParams(t.split("?")[1]).get("id"),[s,c]=(0,a.useState)([]),[d,m]=(0,a.useState)([]),[h,_]=(0,a.useState)(null),[p,u]=(0,a.useState)(""),[j,f]=(0,a.useState)(""),[x,g]=(0,a.useState)(""),[v,b]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=window.location.href.split("/")[3].split("?")[1].split("=")[1];b(e),N(),y()}),[]);const N=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_model_motor_name",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{c(e.data),console.log(s)}))},S=e=>{_(e)},y=async()=>{const e={method:"post",body:JSON.stringify({ParamValue:o}),headers:{"Content-Type":"application/json"}};let t=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_Motor_model_detailsbyid",e);t=await t.json(),u(t.motor_model_detail_name),g(t.motor_model_detail_status),f(t.motor_model_detail_model_id);const a=t.motor_model_detail_location.toString().split(","),l=a.length,s=[];for(let o=0;o<l;o++){const e={method:"GET",headers:{"Content-Type":"application/json"}};fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location_by_id/${a[o]}`,e).then((e=>e.json())).then((e=>{s.push(e.data.location_name);if(s.length===l){const e=s.join(",").split(","),t=e.length,o=[];for(let l=0;l<t;l++){const t={label:e[l],value:a[l]};o.push(t)}_(o)}}))}fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,o=t.length,a=[];for(let l=0;l<o;l++){const e={label:t[l].location_name,value:t[l]._id};a.push(e)}m(a)}))};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h4",{className:"card-title",children:"Update Motor Model details"})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("form",{action:"/",method:"POST",onSubmit:t=>{t.preventDefault();const o=new FormData(t.target),a=o.get("model_motor_detail_name"),l=o.get("model_motor"),s=h,i=s.length,r=[];for(let e=0;e<i;e++)r.push(s[e].value);const c=r.join(","),d=o.get("status"),m={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model_motor_detail_name:a,motor_model_detail_model_id:l,motor_model_detail_location:c.toString(),model_motor_detail_status:d,motor_model_detail_id:v})};fetch("https://insuranceapi-3o5t.onrender.com/api/update_Motor_model_details",m).then((e=>e.json())).then((t=>{200===t.status?n().fire({title:"Success!",text:t.message,icon:"success",confirmButtonText:"Ok"}).then((t=>{t.isConfirmed&&e("/ViewMotorModelDetails")})):n().fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"Ok"}).then((t=>{t.isConfirmed&&e("/ViewMotorModelDetails")}))}))},children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Motor Model detail Name"})}),(0,r.jsx)("input",{type:"text",className:"form-control",placeholder:"Model Detail",name:"model_motor_detail_name",autoComplete:"off",required:!0,defaultValue:p,onChange:e=>u(e.target.value)})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Motor Models"})}),(0,r.jsxs)("select",{className:"form-control",name:"model_motor",required:!0,onChange:e=>f(e.target.value),children:[(0,r.jsx)("option",{children:"Select Model Motor"}),s.map(((e,t)=>(0,r.jsx)("option",{value:e._id,selected:j==e._id,children:e.motor_model_name},t)))]})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Select Location"})}),(0,r.jsx)(i.default,{options:d,selectedValues:h,onSelect:S,onRemove:S,displayValue:"label",placeholder:"Select Location",closeOnSelect:!1,avoidHighlightFirstOption:!0,showCheckbox:!0,style:{chips:{background:"#007bff"}},required:!0})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Status"})}),".",(0,r.jsxs)("select",{className:"form-control",name:"status",onChange:e=>g(e.target.value),children:[(0,r.jsx)("option",{children:"Select Status"}),(0,r.jsx)("option",{value:"1",selected:1==x,children:"Active"}),(0,r.jsx)("option",{value:"0",selected:0==x,children:"InActive"})]})]})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})})}}}]);
//# sourceMappingURL=2455.c9b05883.chunk.js.map