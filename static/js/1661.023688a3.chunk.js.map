{"version":3,"file":"static/js/1661.023688a3.chunk.js","mappings":"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","sources":["views/insurance-company/InsuranceCompany.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport ReactPaginate from \"react-paginate\";\nimport swal from 'sweetalert';\n\nconst InsuranceCompany = () => {\n    const navigate = useNavigate();\n    const [listCompany, setListCompany] = useState([]);\n    const [perPage] = useState(10);\n    const [pageCount, setPageCount] = useState(0);\n    const [page, setPage] = useState(1);\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token === null || token === undefined || token === '') {\n            navigate('/login')\n        }\n        else {\n            getlistCompany(page, perPage);\n        }\n    }, []);\n\n    const getlistCompany = async (page, perPage) => {\n        setListCompany([]);\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        await fetch(`https://insuranceapi-3o5t.onrender.com/api/getCompany?page=${page}&limit=${perPage}`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                const total = data.total;\n                const slice = total / perPage;\n                const pages = Math.ceil(slice);\n                setPageCount(pages);\n                const list = data.data;\n                const list_len = list.length;\n                for (let i = 0; i < list_len; i++) {\n                    lobdata(list[i]);\n                }\n            });\n    }\n\n    const lobdata = (item) => {\n        const lobid = item.company_line_of_business_id;\n        const lob_id = lobid?.split(',');\n        const lob_id_len = lob_id?.length;\n        const lob_name = [];\n        for (let i = 0; i < lob_id_len; i++) {\n            const requestOptions = {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            };\n            fetch(`https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_by_id/${lob_id[i]}`, requestOptions)\n                .then(response => response.json())\n                .then(data => {\n                    console.log(\">>>>>>>>>>>data>>>>>>>>\", data.data)\n                    lob_name.push(data.data[0]?.line_of_business_name);\n                    const lob_name_len = lob_name.length;\n                    if (lob_name_len === lob_id_len) {\n                        const lob_name_str = lob_name.join(',');\n                        const newitem = { ...item, company_line_of_business_id: lob_name_str };\n                        setListCompany(data => [...data, newitem]);\n                    }\n                });\n        }\n    }\n\n    const handlePageClick = (e) => {\n        const selectedPage = e.selected;\n        setPage(selectedPage + 1);\n        getlistCompany(selectedPage + 1, perPage);\n    };\n\n    const UpdateCompanyStatus = (id, status) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ company_status: status })\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/update_company_status/${id}`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status === 200) {\n                    swal({\n                        title: \"Success!\",\n                        text: data.message,\n                        icon: \"success\",\n                        button: \"Ok\",\n                    }).then(() => {\n                        getlistCompany(page, perPage);\n                    });\n                }\n                else {\n                    swal({\n                        title: \"Error!\",\n                        text: data.message,\n                        icon: \"error\",\n                        button: \"Ok\",\n                    }).then(() => {\n                        getlistCompany(page, perPage);\n                    });\n                }\n            });\n    }\n    const deleteCompany = (id) => {\n        const requestOptions = {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/deleteMasterData/?id=${id}&type=insurance_company`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status === 200) {\n                    swal({\n                        text: data.message,\n                        icon: \"success\",\n                        button: false,\n                    })\n                    getlistCompany(page, perPage);\n                    setTimeout(() => {\n                        swal.close()\n                    }, 1000);\n                }\n                else {\n                    swal({\n                        title: \"Error!\",\n                        text: data.message,\n                        icon: \"error\",\n                        button: false,\n                    })\n                    getlistCompany(page, perPage);\n                    setTimeout(() => {\n                        swal.close()\n                    }, 1000);\n                }\n\n            })\n    }\n    const startFrom = (page - 1) * perPage;\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">\n                            <div className=\"row\">\n                                <div className=\"col-md-6\">\n                                    <h4 className=\"card-title\">Insurance Company</h4>\n                                </div>\n                                <div className=\"col-md-6\">\n                                    <a href=\"/AddCompany\" className=\"btn btn-primary\" style={{ float: 'right' }}>Add Insurance Company</a>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"card-body\">\n                            <table className=\"table table-bordered yatchplanss123\">\n                                <thead className=\"thead-dark\">\n                                    <tr className=\"table-info\">\n                                        <th>#</th>\n                                        <th>Company Logo</th>\n                                        <th>Company Name</th>\n                                        <th>Line Of Business</th>\n                                        <th>Action</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {listCompany.map((item, index) =>\n                                        <tr key={index}>\n                                            <td>{startFrom + index + 1}</td>\n                                            <td><img src={`https://insuranceapi-3o5t.onrender.com/uploads/${item.company_logo[0].filename}`} height={50} width={200} alt=\"logo\" /></td>\n                                            <td>{item.company_name}</td>\n                                            <td>{item.company_line_of_business_id}</td>\n                                            <td>\n                                                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                                    <a href={`/ViewPlans?id=${item._id}`} className=\"btn btn-info\">Plans</a>\n                                                </div>&nbsp;&nbsp;\n                                                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                                    <a href={`/ViewBlackListedVehicle?id=${item._id}`} className=\"btn btn-secondary\">Black Listed Vehicle</a>\n                                                </div>&nbsp;&nbsp;\n                                                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                                    <a href={`/ViewBlackListedYacht?id=${item._id}`} className=\"btn btn-secondary\">Black Listed Yacht</a>\n                                                </div>&nbsp;&nbsp;\n                                                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                                    <a href={`/ViewLob?id=${item._id}`} className=\"btn btn-warning\">Line Of Business</a>\n                                                </div>&nbsp;&nbsp;\n                                                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                                    <a href={`/ViewBank?id=${item._id}`} className=\"btn btn-success\">Bank</a>\n                                                </div>&nbsp;&nbsp;\n                                                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                                    <a href={`/EditCompany?id=${item._id}`} className=\"btn btn-primary\">Edit</a>&nbsp;&nbsp;\n                                                    {\n                                                        item.company_status === 1 ?\n                                                            <button className=\"btn btn-danger mx-1\" onClick={() => { if (window.confirm('Are you sure you wish to deactivate this item?')) UpdateCompanyStatus(item._id, 0) }}>Deactivate</button> :\n                                                            <button className=\"btn btn-success mx-1\" onClick={() => { if (window.confirm('Are you sure you wish to activate this item?')) UpdateCompanyStatus(item._id, 1) }}>Activate</button>\n\n                                                    }\n                                                </div>\n                                                <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                                    <button className=\"btn btn-warning mx-1\" onClick={() => { if (window.confirm('Are you sure you wish to Delete this item?')) deleteCompany(item._id) }}>Delete</button>\n                                                </div>\n                                            </td>\n                                        </tr>\n                                    )}\n                                </tbody>\n                            </table>\n                            <ReactPaginate\n                                previousLabel={\"Previous\"}\n                                nextLabel={\"Next\"}\n                                breakLabel={\"...\"}\n                                pageCount={pageCount}\n                                marginPagesDisplayed={2}\n                                pageRangeDisplayed={3}\n                                onPageChange={handlePageClick}\n                                containerClassName={\"pagination justify-content-end\"}\n                                pageClassName={\"page-item\"}\n                                pageLinkClassName={\"page-link\"}\n                                previousClassName={\"page-item\"}\n                                previousLinkClassName={\"page-link\"}\n                                nextClassName={\"page-item\"}\n                                nextLinkClassName={\"page-link\"}\n                                breakClassName={\"page-item\"}\n                                breakLinkClassName={\"page-link\"}\n                                activeClassName={\"active\"}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default InsuranceCompany\n"],"names":["InsuranceCompany","navigate","useNavigate","listCompany","setListCompany","useState","perPage","pageCount","setPageCount","page","setPage","useEffect","token","localStorage","getItem","undefined","getlistCompany","async","fetch","method","headers","then","response","json","data","slice","total","pages","Math","ceil","list","list_len","length","i","lobdata","item","lobid","company_line_of_business_id","lob_id","split","lob_id_len","lob_name","requestOptions","_data$data$","console","log","push","line_of_business_name","lob_name_str","join","newitem","UpdateCompanyStatus","id","status","body","JSON","stringify","company_status","swal","title","text","message","icon","button","startFrom","_jsx","className","children","_jsxs","href","style","float","map","index","src","company_logo","filename","height","width","alt","company_name","role","_id","onClick","window","confirm","setTimeout","ReactPaginate","previousLabel","nextLabel","breakLabel","marginPagesDisplayed","pageRangeDisplayed","onPageChange","e","selectedPage","selected","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","breakClassName","breakLinkClassName","activeClassName"],"sourceRoot":""}