"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5196,4811,2920,2862,1884],{44811:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),d=(t(86178),t(73023),t(70579));const r=function(e){let{filterOptions:s,defaultOptions:t}=e;const n=(0,o.Zp)(),[r,c]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[u,g]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[f]=(0,a.useState)(5),[j,b]=(0,a.useState)(0),[y,v]=(0,a.useState)(1),[_,N]=(0,a.useState)(!1),[S,A]=(0,a.useState)([]),[w,C]=(0,a.useState)(""),[k,T]=(0,a.useState)(""),[P,O]=(0,a.useState)(0);(0,a.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?n("/login"):L(y,f)}),[s]);const L=async(e,a)=>{const n=JSON.parse(localStorage.getItem("user"));let l=s.location,o=s.lob,i=s.businessType,d=s.agent,r=s.dateRange,h=t.startdate,p=t.enddate,u=n.assign_staff,g=t.userType,m=t.selectedSupervisor;l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):t.defaultlocation.map((e=>e.value)),o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):t.defaultlob.map((e=>e.value)),i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultbusinessType.map((e=>e.value)),d=null!=d&&void 0!=d&&Array.isArray(d)&&0!==d.length?d.map((e=>e.value)):t.defaultagent.map((e=>e.value));const x={method:"POST",body:JSON.stringify({page:e,limit:a,location:l,lob:o,business_type:i,newagent:d,dateRange:r,startdate:h,enddate:p,assign_staff:u,userType:g,selectedSupervisor:m}),headers:{"Content-Type":"application/json"}};await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_api_pending_leads",x).then((e=>e.json())).then((e=>{const s=e.total;O(s);const t=s/a,n=Math.ceil(t);b(n);const l=e.data;c(l)})).catch((e=>{console.log(e)}))};console.log(r);const I=(y-1)*f;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.A,{children:(0,d.jsxs)(i.A.Item,{eventKey:"1",children:[(0,d.jsx)(i.A.Header,{children:(0,d.jsxs)("div",{style:{position:"relative"},className:"card-header new_leads",children:[(0,d.jsx)("strong",{children:"API Pending"}),P>0?(0,d.jsx)("div",{className:"dashboardNotify",children:(0,d.jsx)("h6",{children:P})}):""]})}),(0,d.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,d.jsxs)("table",{className:"table table-bordered",children:[(0,d.jsx)("thead",{className:"thead-dark",children:(0,d.jsxs)("tr",{className:"table-info",children:[(0,d.jsx)("th",{scope:"col",children:"Sr#"}),(0,d.jsx)("th",{scope:"col",children:"Name"}),(0,d.jsx)("th",{scope:"col",children:"Phone No."}),(0,d.jsx)("th",{scope:"col",children:"Email-ID"}),(0,d.jsx)("th",{scope:"col",children:"Nationality"}),(0,d.jsx)("th",{scope:"col",children:"Assigned Agent"}),(0,d.jsx)("th",{scope:"col",children:"Assigned Agent Type"}),(0,d.jsx)("th",{scope:"col",children:"Policy Type"}),(0,d.jsx)("th",{scope:"col",children:"Reasons"}),(0,d.jsx)("th",{scope:"col",children:"LMP Pol.No."}),(0,d.jsx)("th",{scope:"col",children:"Policy No."}),(0,d.jsx)("th",{scope:"col",children:"Premium"})]})}),(0,d.jsx)("tbody",{children:r.length>0?r.map(((e,s)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:I+s+1}),(0,d.jsx)("td",{children:e.name}),(0,d.jsx)("td",{children:(0,d.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`https://wa.me/${e}`;window.open(s)})(e.phoneno),children:e.phoneno})}),(0,d.jsx)("td",{children:(0,d.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`mailto:${e}`;window.open(s)})(e.email),children:e.email})}),(0,d.jsx)("td",{children:e.nationality}),(0,d.jsx)("td",{children:""!=e.assigned_agent?""!=e.forward_to_info?""!=e.dc_forward_to_info?e.dc_forward_to_info[0].name:e.forward_to_info[0].name:e.assigned_agent_info[0].name:""}),(0,d.jsx)("td",{children:""!=e.assigned_agent?""!=e.forward_to_info?""!=e.dc_forward_to_info?e.dcforward_to_type_info[0].usertype:e.forward_to_type_info[0].usertype:e.assigned_type_info[0].usertype:""}),(0,d.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,d.jsx)("td",{children:"Reason"}),(0,d.jsx)("td",{children:e.lead_id}),(0,d.jsx)("td",{children:"#5678"}),(0,d.jsx)("td",{children:"Rs. 1000"})]},s))):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:"12",className:"text-center",children:(0,d.jsx)("strong",{children:"No Records Found"})})})})]}),(0,d.jsx)("section",{children:(0,d.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:j,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const s=e.selected;v(s+1),L(s+1,f,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})})}},32862:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),d=(t(86178),t(73023),t(70579));const r=function(e){let{filterOptions:s,defaultOptions:t}=e;const n=(0,o.Zp)(),[r,c]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[u,g]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[f]=(0,a.useState)(5),[j,b]=(0,a.useState)(0),[y,v]=(0,a.useState)(1),[_,N]=(0,a.useState)(!1),[S,A]=(0,a.useState)([]),[w,C]=(0,a.useState)(""),[k,T]=(0,a.useState)(""),[P,O]=(0,a.useState)(0);(0,a.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?n("/login"):L(y,f)}),[s]);const L=async(e,a)=>{const n=JSON.parse(localStorage.getItem("user"));let l=s.location,o=s.lob,i=s.businessType,d=s.agent,r=s.dateRange,h=t.startdate,p=t.enddate,u=n.assign_staff,g=t.userType,m=t.selectedSupervisor;l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):t.defaultlocation.map((e=>e.value)),o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):t.defaultlob.map((e=>e.value)),i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultbusinessType.map((e=>e.value)),d=null!=d&&void 0!=d&&Array.isArray(d)&&0!==d.length?d.map((e=>e.value)):t.defaultagent.map((e=>e.value));const x=localStorage.getItem("token"),f=JSON.parse(localStorage.getItem("user")).usertype,j={method:"POST",body:JSON.stringify({page:e,limit:a,location:l,lob:o,business_type:i,newagent:d,dateRange:r,startdate:h,enddate:p,assign_staff:u,userType:g,selectedSupervisor:m}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+x}};"6462250eb201a6f07b2dff3a"!=f&&"646224eab201a6f07b2dff36"!=f&&"646224deb201a6f07b2dff32"!=f&&"64622526b201a6f07b2dff3e"!=f||await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?assignType=closedBusiness&dashboardType=supervisorDashboard",j).then((e=>e.json())).then((e=>{const s=e.total;O(s);const t=s/a,n=Math.ceil(t);b(n);const l=e.data;c(l)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==f&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?assignType=closedBusiness&dashboardType=supervisorDashboard",j).then((e=>e.json())).then((e=>{const s=e.total;O(s);const t=s/a,n=Math.ceil(t);b(n);const l=e.data;c(l)})).catch((e=>{console.log(e)}))};console.log(r);const I=(y-1)*f;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(i.A,{children:(0,d.jsxs)(i.A.Item,{eventKey:"1",children:[(0,d.jsx)(i.A.Header,{children:(0,d.jsxs)("div",{style:{position:"relative"},className:"card-header new_leads",children:[(0,d.jsx)("strong",{children:"Closed Business"}),P>0?(0,d.jsx)("div",{className:"dashboardNotify",children:(0,d.jsx)("h6",{children:P})}):""]})}),(0,d.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,d.jsxs)("table",{className:"table table-bordered",children:[(0,d.jsx)("thead",{className:"thead-dark",children:(0,d.jsxs)("tr",{className:"table-info",children:[(0,d.jsx)("th",{scope:"col",children:"Sr#"}),(0,d.jsx)("th",{scope:"col",children:"Name"}),(0,d.jsx)("th",{scope:"col",children:"Phone No."}),(0,d.jsx)("th",{scope:"col",children:"Email-ID"}),(0,d.jsx)("th",{scope:"col",children:"Nationality"}),(0,d.jsx)("th",{scope:"col",children:"Assigned Agent"}),(0,d.jsx)("th",{scope:"col",children:"Assigned Agent Type"}),(0,d.jsx)("th",{scope:"col",children:"Policy Type"}),(0,d.jsx)("th",{scope:"col",children:"Reasons"}),(0,d.jsx)("th",{scope:"col",children:"LMP Pol.No."}),(0,d.jsx)("th",{scope:"col",children:"Policy No."}),(0,d.jsx)("th",{scope:"col",children:"Premium"}),(0,d.jsx)("th",{scope:"col",children:"Action"})]})}),(0,d.jsx)("tbody",{children:r.length>0?r.map(((e,s)=>{var t,a,n,l,o,i;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:I+s+1}),(0,d.jsx)("td",{children:e.name}),(0,d.jsx)("td",{children:(0,d.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`https://wa.me/${e}`;window.open(s)})(e.phoneno),children:e.phoneno})}),(0,d.jsx)("td",{children:(0,d.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`mailto:${e}`;window.open(s)})(e.email),children:e.email})}),(0,d.jsx)("td",{children:e.nationality}),(0,d.jsx)("td",{children:""!=e.assigned_agent_info?""!=e.forward_to_info?""!=e.dc_forward_to_info?(null===(t=e.dc_forward_to_info[0])||void 0===t?void 0:t.name)||"-":(null===(a=e.forward_to_info[0])||void 0===a?void 0:a.name)||"-":(null===(n=e.assigned_agent_info[0])||void 0===n?void 0:n.name)||"-":"-"}),(0,d.jsx)("td",{children:""!=e.assigned_type_info?""!=e.forward_to_type_info?""!=e.dcforward_to_type_info?(null===(l=e.dcforward_to_type_info[0])||void 0===l?void 0:l.usertype)||"-":(null===(o=e.forward_to_type_info[0])||void 0===o?void 0:o.usertype)||"-":(null===(i=e.assigned_agent_info[0])||void 0===i?void 0:i.usertype)||"-":"-"}),(0,d.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,d.jsx)("td",{children:"Reason"}),(0,d.jsx)("td",{children:e.lead_id}),(0,d.jsx)("td",{children:"#5678"}),(0,d.jsx)("td",{children:e.final_price?"AED "+e.final_price:e.finalPriceRefferd}),(0,d.jsx)("td",{className:"buttons_icons",children:(0,d.jsx)("button",{className:"btn btn-primary btn-sm ",onClick:()=>{var s,t,a;return t=e._id,"Motor"===(a=null===(s=e.policy_type[0])||void 0===s?void 0:s.line_of_business_name)&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Travel"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Medical"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Home"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),void("Yacht"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"))},children:(0,d.jsx)("i",{className:"fa fa-eye"})})})]},s)})):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:"12",className:"text-center",children:(0,d.jsx)("strong",{children:"No Records Found"})})})})]}),(0,d.jsx)("section",{children:(0,d.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:j,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const s=e.selected;v(s+1),L(s+1,f,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})})}},77990:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),d=(t(86178),t(73023),t(89494)),r=t(70579);const c=function(e){let{filterOptions:s,defaultOptions:t}=e;const n=(0,o.Zp)(),[c,h]=(0,a.useState)([]),[p,u]=(0,a.useState)([]),[g,m]=(0,a.useState)([]),[x,f]=(0,a.useState)([]),[j]=(0,a.useState)(5),[b,y]=(0,a.useState)(0),[v,_]=(0,a.useState)(1),[N,S]=(0,a.useState)(!1),[A,w]=(0,a.useState)([]),[C,k]=(0,a.useState)(""),[T,P]=(0,a.useState)(""),[O,L]=(0,a.useState)(0);(0,a.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?n("/login"):I(v,j)}),[s]);const I=async(e,a)=>{const n=JSON.parse(localStorage.getItem("user"));let l=s.location,o=s.lob,i=s.businessType,d=s.agent,r=s.dateRange,c=t.startdate,p=t.enddate,u=n.assign_staff,g=t.userType,m=t.selectedSupervisor;l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):t.defaultlocation.map((e=>e.value)),o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):t.defaultlob.map((e=>e.value)),i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultbusinessType.map((e=>e.value)),d=null!=d&&void 0!=d&&Array.isArray(d)&&0!==d.length?d.map((e=>e.value)):t.defaultagent.map((e=>e.value));const x=localStorage.getItem("token"),f=JSON.parse(localStorage.getItem("user")).usertype,j={method:"POST",body:JSON.stringify({page:e,limit:a,location:l,lob:o,business_type:i,newagent:d,dateRange:r,startdate:c,enddate:p,assign_staff:u,userType:g,selectedSupervisor:m,agent_id:C}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+x}};"646224deb201a6f07b2dff32"==f&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?assignType=lostAndDropped&dashboardType=supervisorDashboard",j).then((e=>e.json())).then((e=>{const s=e.total;L(s);const t=s/a,n=Math.ceil(t);y(n);const l=e.data;h(l)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==f&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?assignType=lostAndDropped&dashboardType=supervisorDashboard",j).then((e=>e.json())).then((e=>{const s=e.total;L(s);const t=s/a,n=Math.ceil(t);y(n);const l=e.data;h(l)})).catch((e=>{console.log(e)}))};console.log(c);const D=e=>{k(e)},R=e=>{P(e)},M=(v-1)*j;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.A,{children:(0,r.jsxs)(i.A.Item,{eventKey:"1",children:[(0,r.jsx)(i.A.Header,{children:(0,r.jsxs)("div",{style:{position:"relative"},className:"card-header new_leads",children:[(0,r.jsx)("strong",{children:"Lost & Dropped:New/Renewal"}),O>0?(0,r.jsx)("div",{className:"dashboardNotify",children:(0,r.jsx)("h6",{children:O})}):""]})}),(0,r.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,r.jsxs)("table",{className:"table table-bordered",children:[(0,r.jsx)("thead",{className:"thead-dark",children:(0,r.jsxs)("tr",{className:"table-info",children:[(0,r.jsx)("th",{scope:"col",children:"Sr#"}),(0,r.jsx)("th",{scope:"col",children:"Name"}),(0,r.jsx)("th",{scope:"col",children:"Phone No."}),(0,r.jsx)("th",{scope:"col",children:"Email-ID"}),(0,r.jsx)("th",{scope:"col",children:"Nationality"}),(0,r.jsx)("th",{scope:"col",children:"Assigned Agent"}),(0,r.jsx)("th",{scope:"col",children:"Assigned Agent Type"}),(0,r.jsx)("th",{scope:"col",children:"Policy Type"}),(0,r.jsx)("th",{scope:"col",children:"Reasons"}),(0,r.jsx)("th",{scope:"col",children:"LMP Pol.No."}),(0,r.jsx)("th",{scope:"col",children:"Policy No."}),(0,r.jsx)("th",{scope:"col",children:"Premium"}),(0,r.jsx)("th",{scope:"col",children:"Reassign"}),(0,r.jsx)("th",{scope:"col",children:"Action"})]})}),(0,r.jsx)("tbody",{children:c.length>0?c.map(((e,s)=>{var t,a,n,l,o,i;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:M+s+1}),(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:(0,r.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`https://wa.me/${e}`;window.open(s)})(e.phoneno),children:e.phoneno})}),(0,r.jsx)("td",{children:(0,r.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`mailto:${e}`;window.open(s)})(e.email),children:e.email})}),(0,r.jsx)("td",{children:e.nationality}),(0,r.jsx)("td",{children:""!=e.assigned_agent_info?""!=e.forward_to_info?""!=e.dc_forward_to_info?(null===(t=e.dc_forward_to_info[0])||void 0===t?void 0:t.name)||"-":(null===(a=e.forward_to_info[0])||void 0===a?void 0:a.name)||"-":(null===(n=e.assigned_agent_info[0])||void 0===n?void 0:n.name)||"-":"-"}),(0,r.jsx)("td",{children:""!=e.assigned_type_info?""!=e.forward_to_type_info?""!=e.dcforward_to_type_info?(null===(l=e.dcforward_to_type_info[0])||void 0===l?void 0:l.usertype)||"-":(null===(o=e.forward_to_type_info[0])||void 0===o?void 0:o.usertype)||"-":(null===(i=e.assigned_agent_info[0])||void 0===i?void 0:i.usertype)||"-":"-"}),(0,r.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,r.jsx)("td",{children:"Reason"}),(0,r.jsx)("td",{children:e.lead_id}),(0,r.jsx)("td",{children:"#5678"}),(0,r.jsx)("td",{children:e.final_price?"AED "+e.final_price:e.finalPriceRefferd}),(0,r.jsx)("td",{children:(0,r.jsx)(d.A,{userType:"646224eab201a6f07b2dff36",leadid:e._id,sendData:D,sendUsertype:R,lob:e.type_of_policy})}),(0,r.jsxs)("td",{className:"buttons_icons",children:[(0,r.jsx)("button",{className:"btn btn-primary btn-sm ",onClick:()=>{var s,t,a;return t=e._id,"Motor"===(a=null===(s=e.policy_type[0])||void 0===s?void 0:s.line_of_business_name)&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Travel"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Medical"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Home"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),void("Yacht"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"))},children:(0,r.jsx)("i",{className:"fa fa-eye"})}),(0,r.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{const s=JSON.parse(localStorage.getItem("user")),t=localStorage.getItem("token"),a=s.usertype;let n=s._id;const l={method:"POST",body:JSON.stringify({agentid:C,id:e,usertype:T,login_user_id:n}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}};"6462250eb201a6f07b2dff3a"!=a&&"646224eab201a6f07b2dff36"!=a&&"646224deb201a6f07b2dff32"!=a&&"64622526b201a6f07b2dff3e"!=a||await fetch("https://insuranceapi-3o5t.onrender.com/api/reassigned_agent?status=new?dashboardType=MultiSupervisorDashboard",l).then((e=>e.json())).then((e=>{200==e.status&&(alert(e.message),I(v,j))})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==a&&await fetch("https://insuranceapi-3o5t.onrender.com/api/reassigned_agent?dashboardType=supervisorDashboard&status=new",l).then((e=>e.json())).then((e=>{200==e.status&&(alert(e.message),I(v,j))})).catch((e=>{console.log(e)}))})(e._id),children:"Update"})]})]},s)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"12",className:"text-center",children:(0,r.jsx)("strong",{children:"No Records Found"})})})})]}),(0,r.jsx)("section",{children:(0,r.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:b,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const s=e.selected;_(s+1),I(s+1,j,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})})}},86893:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var a=t(65043),n=t(73216),l=t(49456),o=(t(93204),t(66097),t(93946),t(61072)),i=t(78602),d=t(84217),r=t(53519),c=t(14282),h=t(17103),p=t(44811),u=t(46165),g=t(58444),m=t(22920),x=t(32862),f=t(77990),j=t(54168),b=(t(82768),t(91033),t(98465),t(32637)),y=t(31884),v=t(70579);const _=function(){const e=(0,n.Zp)(),[s,t]=(0,a.useState)([]),[_,N]=(0,a.useState)(),[S,A]=(0,a.useState)([]),[w,C]=(0,a.useState)(),[k,T]=(0,a.useState)([]),[P,O]=(0,a.useState)(),[L,I]=(0,a.useState)([]),[D,R]=(0,a.useState)([]),[M,F]=(0,a.useState)([]),[U,J]=(0,a.useState)(),[$,E]=(0,a.useState)("daily"),[B,V]=(0,a.useState)(!1),[W,z]=(0,a.useState)(new Date),[H,Y]=(0,a.useState)(new Date),[Z,K]=(0,a.useState)([]),[G,q]=(0,a.useState)([]);(0,a.useEffect)((()=>{const s=localStorage.getItem("token");if(null===s||void 0===s||""===s)e("/login");else{const e=JSON.parse(localStorage.getItem("user")).admin_business_type;if(e.length>0){const s=e,t=s.length,a=[];for(let e=0;e<t;e++){let t;t=s[e].type,t=t.split(" ");const n={label:s[e].type,value:t[0]};a.push(n)}T(a)}else{T([{label:"New Business",value:"New"},{label:"Renewal Business",value:"Renewal"}])}Q(),X(),ee(),se()}}),[]),(0,a.useEffect)((()=>{te()}),[L]);const Q=()=>{const e=JSON.parse(localStorage.getItem("user")).location;if(e.length>0){const s=e,a=s.length,n=[];for(let e=0;e<a;e++){const t={label:s[e].loc_name,value:s[e].loc_id};n.push(t)}t(n)}},X=()=>{const e=JSON.parse(localStorage.getItem("user")).line_of_business;if(e.length>0){const s=e,t=s.length,a=[];for(let e=0;e<t;e++){const t={label:s[e].lob_name,value:s[e].lob_id};a.push(t)}A(a)}};(0,a.useEffect)((()=>{ee()}),[G]);const ee=async e=>{I(e)};console.log(L);const se=()=>{const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}};fetch("https://insuranceapi-3o5t.onrender.com/api/getUserAccordingUserType?userType=supervisor",e).then((e=>e.json())).then((e=>{console.log("adminagent>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",e.data),K(e.data)}))},te=()=>{const e=JSON.parse(localStorage.getItem("user"))._id;if("646224deb201a6f07b2dff32"===ce)fetch(`https://insuranceapi-3o5t.onrender.com/api/getStaffDetailsbyid/${e}`).then((e=>e.json())).then((e=>{if("salesAdvisor"==L){const s=e.data[0].assignSalesAdvisor;if(!(void 0!=s&&s.length>0))return R([]),"No Options Available";{const e=s.length,t=[];for(let a=0;a<e;a++){const e={label:s[a].name,value:s[a]._id};t.push(e)}R(t)}}else if("documentChaser"==L){const s=e.data[0].assignDacumentChaser;if(!(void 0!=s&&s.length>0))return R([]),"No Options Available";{const e=s.length,t=[];for(let a=0;a<e;a++){const e={label:s[a].name,value:s[a]._id};t.push(e)}R(t)}}else{if("policyIssuer"!=L)return R([]),"No Options Available";{const s=e.data[0].assignPolicyIssuer;if(!(void 0!=s&&s.length>0))return R([]),"No Options Available";{const e=s.length,t=[];for(let a=0;a<e;a++){const e={label:s[a].name,value:s[a]._id};t.push(e)}R(t)}}}}));else if("64622470b201a6f07b2dff22"===ce){const e=JSON.parse(localStorage.getItem("user")),s=G||e._id;fetch(`https://insuranceapi-3o5t.onrender.com/api/getStaffDetailsbyid/${s}`).then((e=>e.json())).then((e=>{if("salesAdvisor"==L){var s;const t=null===e||void 0===e||null===(s=e.data[0])||void 0===s?void 0:s.assignSalesAdvisor;if(!(void 0!=t&&t.length>0))return R([]),"No Options Available";{const e=t.length,s=[];for(let a=0;a<e;a++){const e={label:t[a].name,value:t[a]._id};s.push(e)}R(s)}}else if("documentChaser"==L){const s=null===e||void 0===e?void 0:e.data[0].assignDacumentChaser;if(!(void 0!=s&&s.length>0))return R([]),"No Options Available";{const e=s.length,t=[];for(let a=0;a<e;a++){const e={label:s[a].name,value:s[a]._id};t.push(e)}R(t)}}else{if("policyIssuer"!=L)return R([]),"No Options Available";{const s=null===e||void 0===e?void 0:e.data[0].assignPolicyIssuer;if(!(void 0!=s&&s.length>0))return R([]),"No Options Available";{const e=s.length,t=[];for(let a=0;a<e;a++){const e={label:s[a].name,value:s[a]._id};t.push(e)}R(t)}}}}))}else R([])};console.log("selectedsupervisor>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",G);const ae=e=>{E(e)},ne={defaultlocation:s,defaultlob:S,defaultbusinessType:k,defaultagent:D,defaultdateRange:$,startdate:W,enddate:H,userType:L,selectedSupervisor:G},le=(e,s)=>{switch(e){case"location":N(s);break;case"lob":C(s);break;case"businessType":O(s);break;case"agent":J(s)}},oe={location:_,lob:w,businessType:P,agent:U,dateRange:$},[ie,de]=(0,a.useState)(0);(0,a.useEffect)((()=>{re()}),[ie]);const re=e=>{console.log("assinginngtotalLeads",e),de(e)};console.log("totalLeads",ie),console.log("totalLeads",ie);const ce=JSON.parse(localStorage.getItem("user")).usertype;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("section",{className:"mb-2",children:(0,v.jsxs)(o.A,{children:[(0,v.jsx)(i.A,{className:"",sm:5,children:(0,v.jsx)("h4",{id:"dashboard",className:"card-title mb-0",children:"Dashboard"})}),(0,v.jsx)(i.A,{sm:7,className:"d-none d-md-block",children:(0,v.jsxs)("div",{className:"float-end me-3",children:[(0,v.jsx)("button",{onClick:()=>ae("daily"),className:""+("daily"===$?"btn btn-selected":"btn btn-light"),children:"Daily"}),(0,v.jsx)("button",{onClick:()=>ae("weekly"),className:""+("weekly"===$?"btn btn-selected":"btn btn-light"),children:"Weekly"}),(0,v.jsx)("button",{onClick:()=>ae("monthly"),className:""+("monthly"===$?"btn btn-selected":"btn btn-light"),children:"Monthly"}),(0,v.jsx)("button",{onClick:()=>ae("yearly"),className:""+("yearly"===$?"btn btn-selected":"btn btn-light"),children:"Yearly"}),(0,v.jsx)("button",{onClick:()=>{V(!0),E("customized")},className:""+("customized"===$?"btn btn-selected":"btn btn-light"),children:"Customized"})]})}),(0,v.jsx)(i.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:ne.defaultlocation<2?(0,v.jsx)(j.default,{options:ne.defaultlocation,displayValue:"label",selectedValues:ne.defaultlocation,showArrow:!1}):(0,v.jsx)(j.default,{options:ne.defaultlocation,displayValue:"label",onSelect:e=>le("location",e),onRemove:e=>le("location",e),placeholder:"Select location",selectedValues:_,showArrow:!0})})}),(0,v.jsx)(i.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:ne.defaultbusinessType.length<2?(0,v.jsx)(j.default,{options:ne.defaultbusinessType,displayValue:"label",selectedValues:ne.defaultbusinessType,showArrow:!1}):(0,v.jsx)(j.default,{options:ne.defaultbusinessType,displayValue:"label",onSelect:e=>le("businessType",e),onRemove:e=>le("businessType",e),placeholder:"Select business type",selectedValues:P,showArrow:!0})})}),(0,v.jsx)(i.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:ne.defaultlob.length<2?(0,v.jsx)(j.default,{options:ne.defaultlob,displayValue:"label",selectedValues:ne.defaultlob,showArrow:!1}):(0,v.jsx)(j.default,{options:ne.defaultlob,displayValue:"label",onSelect:e=>le("lob",e),onRemove:e=>le("lob",e),placeholder:"Select line of business",selectedValues:w,showArrow:!0})})}),"646224deb201a6f07b2dff32"===ce&&(0,v.jsx)(i.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:(0,v.jsxs)("select",{className:"form-control transparentclass",onChange:e=>ee(e.target.value),children:[(0,v.jsx)("option",{hidden:!0,children:"Select User Type"}),(0,v.jsx)("option",{value:"",children:"All"}),(0,v.jsx)("option",{value:"salesAdvisor",children:"Sales Advisor"}),(0,v.jsx)("option",{value:"documentChaser",children:"Document Chaser"}),(0,v.jsx)("option",{value:"policyIssuer",children:"Policy Issuer"})]})})}),"64622470b201a6f07b2dff22"===ce?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:(0,v.jsxs)("select",{className:"form-control transparentclass",onChange:e=>(e=>{const s=""==e?[]:Array.isArray(e)?e:[e];q(s),I("")})(e.target.value),children:[(0,v.jsx)("option",{hidden:!0,children:"Select Supervisor"}),(0,v.jsx)("option",{value:"",children:"All"}),null===Z||void 0===Z?void 0:Z.map(((e,s)=>(0,v.jsx)("option",{value:e._id,children:e.name},s)))]})})}),(0,v.jsx)(i.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:(0,v.jsxs)("select",{className:"form-control transparentclass",onChange:e=>ee(e.target.value),value:L,placeholder:"Select User Type",children:[(0,v.jsx)("option",{hidden:!0,children:"Select User Type"}),(0,v.jsx)("option",{value:"",children:"All"}),(0,v.jsx)("option",{value:"salesAdvisor",children:"Sales Advisor"}),(0,v.jsx)("option",{value:"documentChaser",children:"Document Chaser"}),(0,v.jsx)("option",{value:"policyIssuer",children:"Policy Issuer"})]})})}),(0,v.jsx)(i.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:ne.defaultagent.length<2?(0,v.jsx)(j.default,{options:ne.defaultagent,displayValue:"label",selectedValues:ne.defaultagent,showArrow:!1}):(0,v.jsx)(j.default,{options:ne.defaultagent,displayValue:"label",onSelect:e=>le("agent",e),onRemove:e=>le("agent",e),placeholder:"Select Agents",selectedValues:U,showArrow:!0})})})]}):(0,v.jsx)(i.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:ne.defaultagent.length<2?(0,v.jsx)(j.default,{options:ne.defaultagent,displayValue:"label",selectedValues:ne.defaultagent,showArrow:!1}):(0,v.jsx)(j.default,{options:ne.defaultagent,displayValue:"label",onSelect:e=>le("agent",e),onRemove:e=>le("agent",e),placeholder:"Select Agents",selectedValues:U,showArrow:!0})})})]})}),(0,v.jsx)("section",{className:"mb-3",children:(0,v.jsx)(o.A,{children:(0,v.jsx)(y.default,{defaultOptions:ne,filterOptions:oe})})}),(0,v.jsx)("section",{className:"tables",children:(0,v.jsxs)(o.A,{children:[(0,v.jsx)(i.A,{className:"",lg:12,children:(0,v.jsx)(h.default,{defaultOptions:ne,filterOptions:oe})}),(0,v.jsx)(i.A,{className:"",lg:12,children:(0,v.jsx)(p.default,{defaultOptions:ne,filterOptions:oe})}),(0,v.jsx)(i.A,{className:"",lg:12,children:(0,v.jsx)(u.default,{defaultOptions:ne,filterOptions:oe})}),(0,v.jsx)(i.A,{className:"",lg:12,children:(0,v.jsx)(g.default,{defaultOptions:ne,filterOptions:oe})}),(0,v.jsx)(i.A,{className:"",lg:12,children:(0,v.jsx)(m.default,{defaultOptions:ne,filterOptions:oe})}),(0,v.jsx)(i.A,{className:"",lg:12,children:(0,v.jsx)(x.default,{defaultOptions:ne,filterOptions:oe})}),(0,v.jsx)(i.A,{className:"",lg:12,children:(0,v.jsx)(f.default,{defaultOptions:ne,filterOptions:oe})}),(0,v.jsx)(i.A,{className:"",lg:12,children:(0,v.jsx)(b.default,{defaultOptions:ne,filterOptions:oe,lobdata:S})})]})}),(0,v.jsxs)(d.A,{size:"lg",show:B,onHide:()=>V(!1),children:[(0,v.jsx)(d.A.Header,{closeButton:!0,children:(0,v.jsx)(d.A.Title,{children:"Custom Dates"})}),(0,v.jsx)(d.A.Body,{children:(0,v.jsxs)(r.A,{children:[(0,v.jsxs)(o.A,{children:[(0,v.jsx)("label",{htmlFor:"",children:"From"}),(0,v.jsx)(l.A,{onChange:z,value:W,format:"dd/MM/yyyy",autoFocus:!0,inline:!0,calendarClassName:"custom-datepicker",closeCalendar:!1})]}),(0,v.jsxs)(o.A,{children:[(0,v.jsx)("label",{htmlFor:"",children:"To"}),(0,v.jsx)(l.A,{onChange:Y,value:H,format:"dd/MM/yyyy",autoFocus:!0,inline:!0,calendarClassName:"custom-datepicker",closeCalendar:!1})]})]})}),(0,v.jsx)(d.A.Footer,{children:(0,v.jsx)(c.A,{variant:"secondary",onClick:()=>V(!1),children:"Close"})})]})]})}},46165:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),d=(t(86178),t(73023),t(89494)),r=t(70579);const c=function(e){let{filterOptions:s,defaultOptions:t}=e;const n=(0,o.Zp)(),[c,h]=(0,a.useState)([]),[p,u]=(0,a.useState)([]),[g,m]=(0,a.useState)([]),[x,f]=(0,a.useState)([]),[j]=(0,a.useState)(5),[b,y]=(0,a.useState)(0),[v,_]=(0,a.useState)(1),[N,S]=(0,a.useState)(!1),[A,w]=(0,a.useState)([]),[C,k]=(0,a.useState)([]),[T,P]=(0,a.useState)([]),[O,L]=(0,a.useState)(0);(0,a.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?n("/login"):I(v,j)}),[s]);const I=async(e,a)=>{const n=JSON.parse(localStorage.getItem("user"));let l=s.location,o=s.lob,i=s.businessType,d=s.agent,r=s.dateRange,c=t.startdate,p=t.enddate,u=n.assign_staff,g=t.userType,m=t.selectedSupervisor;l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):t.defaultlocation.map((e=>e.value)),o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):t.defaultlob.map((e=>e.value)),i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultbusinessType.map((e=>e.value)),d=null!=d&&void 0!=d&&Array.isArray(d)&&0!==d.length?d.map((e=>e.value)):t.defaultagent.map((e=>e.value));const x=localStorage.getItem("token"),f=JSON.parse(localStorage.getItem("user")).usertype,j={method:"POST",body:JSON.stringify({page:e,limit:a,location:l,lob:o,business_type:i,newagent:d,dateRange:r,startdate:c,enddate:p,assign_staff:u,userType:g,selectedSupervisor:m}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+x}};"6462250eb201a6f07b2dff3a"!=f&&"646224eab201a6f07b2dff36"!=f&&"646224deb201a6f07b2dff32"!=f&&"64622526b201a6f07b2dff3e"!=f||await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?assignType=PaymentPending&dashboardType=supervisorDashboard",j).then((e=>e.json())).then((e=>{const s=e.total;L(s);const t=s/a,n=Math.ceil(t);y(n);const l=e.data;h(l)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==f&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?assignType=PaymentPending&dashboardType=supervisorDashboard",j).then((e=>e.json())).then((e=>{const s=e.total;L(s);const t=s/a,n=Math.ceil(t);y(n);const l=e.data;h(l)})).catch((e=>{console.log(e)}))};console.log(c);const D=(v-1)*j,R=e=>{k(e)},M=e=>{P(e)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.A,{children:(0,r.jsxs)(i.A.Item,{eventKey:"1",children:[(0,r.jsx)(i.A.Header,{children:(0,r.jsxs)("div",{style:{position:"relative"},className:"card-header new_leads",children:[(0,r.jsx)("strong",{children:"Payment Pending"}),O>0?(0,r.jsx)("div",{className:"dashboardNotify",children:(0,r.jsx)("h6",{children:O})}):""]})}),(0,r.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,r.jsxs)("table",{className:"table table-bordered",children:[(0,r.jsx)("thead",{className:"thead-dark",children:(0,r.jsxs)("tr",{className:"table-info",children:[(0,r.jsx)("th",{scope:"col",children:"Sr#"}),(0,r.jsx)("th",{scope:"col",children:"Name"}),(0,r.jsx)("th",{scope:"col",children:"Phone No."}),(0,r.jsx)("th",{scope:"col",children:"Email-ID"}),(0,r.jsx)("th",{scope:"col",children:"Nationality"}),(0,r.jsx)("th",{scope:"col",children:"Assigned Agent"}),(0,r.jsx)("th",{scope:"col",children:"Assigned Agent Type"}),(0,r.jsx)("th",{scope:"col",children:"Policy Type"}),(0,r.jsx)("th",{scope:"col",children:"LMP Pol.No."}),(0,r.jsx)("th",{scope:"col",children:"Premium"}),(0,r.jsx)("th",{scope:"col",children:"Reassign"}),(0,r.jsx)("th",{scope:"col",children:"Action"})]})}),(0,r.jsx)("tbody",{children:c.length>0?c.map(((e,s)=>{var t,a,n,l,o,i;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:D+s+1}),(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:(0,r.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`https://wa.me/${e}`;window.open(s)})(e.phoneno),children:e.phoneno})}),(0,r.jsx)("td",{children:(0,r.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`mailto:${e}`;window.open(s)})(e.email),children:e.email})}),(0,r.jsx)("td",{children:e.nationality}),(0,r.jsx)("td",{children:""!=e.assigned_agent_info?""!=e.forward_to_info?""!=e.dc_forward_to_info?(null===(t=e.dc_forward_to_info[0])||void 0===t?void 0:t.name)||"-":(null===(a=e.forward_to_info[0])||void 0===a?void 0:a.name)||"-":(null===(n=e.assigned_agent_info[0])||void 0===n?void 0:n.name)||"-":"-"}),(0,r.jsx)("td",{children:""!=e.assigned_type_info?""!=e.forward_to_type_info?""!=e.dcforward_to_type_info?(null===(l=e.dcforward_to_type_info[0])||void 0===l?void 0:l.usertype)||"-":(null===(o=e.forward_to_type_info[0])||void 0===o?void 0:o.usertype)||"-":(null===(i=e.assigned_type_info[0])||void 0===i?void 0:i.usertype)||"-":"-"}),(0,r.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,r.jsx)("td",{children:e.lead_id}),(0,r.jsx)("td",{children:e.final_price?"AED "+e.final_price:e.finalPriceRefferd}),(0,r.jsx)("td",{children:(0,r.jsx)(d.A,{userType:"646224eab201a6f07b2dff36",leadid:e._id,sendData:R,sendUsertype:M,lob:e.type_of_policy})}),(0,r.jsxs)("td",{className:"buttons_icons",children:[(0,r.jsx)("button",{className:"btn btn-primary btn-sm ",onClick:()=>{var s,t,a;return t=e._id,"Motor"===(a=null===(s=e.policy_type[0])||void 0===s?void 0:s.line_of_business_name)&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Travel"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Medical"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Home"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),void("Yacht"===a&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"))},children:(0,r.jsx)("i",{className:"fa fa-eye"})}),(0,r.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{const s=JSON.parse(localStorage.getItem("user")),t=localStorage.getItem("token"),a=s.usertype;let n=s._id;const l={method:"POST",body:JSON.stringify({agentid:C,id:e,usertype:T,login_user_id:n}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}};"6462250eb201a6f07b2dff3a"!=a&&"646224eab201a6f07b2dff36"!=a&&"646224deb201a6f07b2dff32"!=a&&"64622526b201a6f07b2dff3e"!=a||await fetch("https://insuranceapi-3o5t.onrender.com/api/reassigned_agent?dashboardType=MultiSupervisorDashboard",l).then((e=>e.json())).then((e=>{200==e.status&&(alert(e.message),I(v,j))})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==a&&await fetch("https://insuranceapi-3o5t.onrender.com/api/reassigned_agent?dashboardType=supervisorDashboard",l).then((e=>e.json())).then((e=>{200==e.status&&(alert(e.message),I(v,j))})).catch((e=>{console.log(e)}))})(e._id),children:"Update"})]})]},s)})):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"12",className:"text-center",children:(0,r.jsx)("strong",{children:"No Records Found"})})})})]}),(0,r.jsx)("section",{children:(0,r.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:b,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const s=e.selected;_(s+1),I(s+1,j,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})})}},22920:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(65043),n=(t(92157),t(1177)),l=(t(86178),t(73023),t(70579));const o=function(){const[e,s]=(0,a.useState)(0);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.A,{children:(0,l.jsxs)(n.A.Item,{eventKey:"1",children:[(0,l.jsx)(n.A.Header,{children:(0,l.jsxs)("div",{style:{position:"relative"},className:"card-header new_leads",children:[(0,l.jsx)("strong",{children:"RTA Pending"}),e>0?(0,l.jsx)("div",{className:"dashboardNotify",children:(0,l.jsx)("h6",{children:e})}):""]})}),(0,l.jsx)(n.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:(0,l.jsxs)("table",{className:"table table-bordered",children:[(0,l.jsx)("thead",{className:"thead-dark",children:(0,l.jsxs)("tr",{className:"table-info",children:[(0,l.jsx)("th",{scope:"col",children:"Sr#"}),(0,l.jsx)("th",{scope:"col",children:"Client Name"}),(0,l.jsx)("th",{scope:"col",children:"Contact Number"}),(0,l.jsx)("th",{scope:"col",children:"Email Address"}),(0,l.jsx)("th",{scope:"col",children:"LOB"}),(0,l.jsx)("th",{scope:"col",children:"Received From"}),(0,l.jsx)("th",{scope:"col",children:"Assign Date & Time"}),(0,l.jsx)("th",{scope:"col",children:"Aging in minutes"}),(0,l.jsx)("th",{scope:"col",children:"Instant Policy"}),(0,l.jsx)("th",{scope:"col",children:"Direct Payment"}),(0,l.jsx)("th",{scope:"col",children:"Action"})]})}),(0,l.jsxs)("tbody",{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"1"}),(0,l.jsx)("td",{children:"hari"}),(0,l.jsx)("td",{children:"9876543210"}),(0,l.jsx)("td",{children:"hari@acb.com"}),(0,l.jsx)("td",{children:"Motor"}),(0,l.jsx)("td",{children:"Document Chaser"}),(0,l.jsx)("td",{children:"12/12/2020 12:12"}),(0,l.jsx)("td",{children:"2 Days ago"}),(0,l.jsx)("td",{children:"No"}),(0,l.jsx)("td",{children:"Yes"}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"btn btn-primary btn-sm",children:"action"})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"1"}),(0,l.jsx)("td",{children:"hari"}),(0,l.jsx)("td",{children:"9876543210"}),(0,l.jsx)("td",{children:"hari@acb.com"}),(0,l.jsx)("td",{children:"Motor"}),(0,l.jsx)("td",{children:"Document Chaser"}),(0,l.jsx)("td",{children:"12/12/2020 12:12"}),(0,l.jsx)("td",{children:"2 Days ago"}),(0,l.jsx)("td",{children:"No"}),(0,l.jsx)("td",{children:"Yes"}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"btn btn-primary btn-sm",children:"action"})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"1"}),(0,l.jsx)("td",{children:"hari"}),(0,l.jsx)("td",{children:"9876543210"}),(0,l.jsx)("td",{children:"hari@acb.com"}),(0,l.jsx)("td",{children:"Motor"}),(0,l.jsx)("td",{children:"Document Chaser"}),(0,l.jsx)("td",{children:"12/12/2020 12:12"}),(0,l.jsx)("td",{children:"2 Days ago"}),(0,l.jsx)("td",{children:"No"}),(0,l.jsx)("td",{children:"Yes"}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"btn btn-primary btn-sm",children:"action"})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"1"}),(0,l.jsx)("td",{children:"hari"}),(0,l.jsx)("td",{children:"9876543210"}),(0,l.jsx)("td",{children:"hari@acb.com"}),(0,l.jsx)("td",{children:"Motor"}),(0,l.jsx)("td",{children:"Document Chaser"}),(0,l.jsx)("td",{children:"12/12/2020 12:12"}),(0,l.jsx)("td",{children:"2 Days ago"}),(0,l.jsx)("td",{children:"No"}),(0,l.jsx)("td",{children:"Yes"}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"btn btn-primary btn-sm",children:"action"})})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"1"}),(0,l.jsx)("td",{children:"hari"}),(0,l.jsx)("td",{children:"9876543210"}),(0,l.jsx)("td",{children:"hari@acb.com"}),(0,l.jsx)("td",{children:"Motor"}),(0,l.jsx)("td",{children:"Document Chaser"}),(0,l.jsx)("td",{children:"12/12/2020 12:12"}),(0,l.jsx)("td",{children:"2 Days ago"}),(0,l.jsx)("td",{children:"No"}),(0,l.jsx)("td",{children:"Yes"}),(0,l.jsx)("td",{children:(0,l.jsx)("button",{className:"btn btn-primary btn-sm",children:"action"})})]})]})]})})]})})})}},58444:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var a=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),d=(t(86178),t(73023)),r=t.n(d),c=t(89494),h=t(70579);const p=function(e){let{filterOptions:s,defaultOptions:t}=e;const n=(0,o.Zp)(),[d,p]=(0,a.useState)([]),[u,g]=(0,a.useState)([]),[m,x]=(0,a.useState)([]),[f,j]=(0,a.useState)([]),[b]=(0,a.useState)(5),[y,v]=(0,a.useState)(0),[_,N]=(0,a.useState)(1),[S,A]=(0,a.useState)(!1),[w,C]=(0,a.useState)([]),[k,T]=(0,a.useState)(""),[P,O]=(0,a.useState)(""),[L,I]=(0,a.useState)(0);(0,a.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?n("/login"):D(_,b)}),[s]);const D=async(e,a)=>{const n=JSON.parse(localStorage.getItem("user"));let l=s.location,o=s.lob,i=s.businessType,d=s.agent,r=s.dateRange,c=t.startdate,h=t.enddate,u=n.assign_staff,g=t.userType,m=t.selectedSupervisor;l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):t.defaultlocation.map((e=>e.value)),o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):t.defaultlob.map((e=>e.value)),i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultbusinessType.map((e=>e.value)),d=null!=d&&void 0!=d&&Array.isArray(d)&&0!==d.length?d.map((e=>e.value)):t.defaultagent.map((e=>e.value));const x=localStorage.getItem("token"),f=JSON.parse(localStorage.getItem("user")).usertype,j={method:"POST",body:JSON.stringify({page:e,limit:a,location:l,lob:o,business_type:i,newagent:d,dateRange:r,startdate:c,enddate:h,assign_staff:u,userType:g,selectedSupervisor:m}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+x}};"6462250eb201a6f07b2dff3a"!=f&&"646224eab201a6f07b2dff36"!=f&&"646224deb201a6f07b2dff32"!=f&&"64622526b201a6f07b2dff3e"!=f||await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?assignType=RenewalLeads&dashboardType=supervisorDashboard",j).then((e=>e.json())).then((e=>{const s=e.total;I(s);const t=s/a,n=Math.ceil(t);v(n);const l=e.data;p(l)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==f&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?assignType=RenewalLeads&dashboardType=supervisorDashboard",j).then((e=>e.json())).then((e=>{const s=e.total;I(s);const t=s/a,n=Math.ceil(t);v(n);const l=e.data;p(l)})).catch((e=>{console.log(e)}))};console.log(d);const R=(_-1)*b,M=e=>{T(e)},F=e=>{O(e)};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.A,{children:(0,h.jsxs)(i.A.Item,{eventKey:"1",children:[(0,h.jsx)(i.A.Header,{children:(0,h.jsxs)("div",{style:{position:"relative"},className:"card-header new_leads",children:[(0,h.jsx)("strong",{children:"Renewals: Assigned/Unassigned"}),L>0?(0,h.jsx)("div",{className:"dashboardNotify",children:(0,h.jsx)("h6",{children:L})}):""]})}),(0,h.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,h.jsxs)("table",{className:"table table-bordered",children:[(0,h.jsx)("thead",{className:"thead-dark",children:(0,h.jsxs)("tr",{className:"table-info",children:[(0,h.jsx)("th",{scope:"col",children:"Sr#"}),(0,h.jsx)("th",{scope:"col",children:"Name"}),(0,h.jsx)("th",{scope:"col",children:"Phone No."}),(0,h.jsx)("th",{scope:"col",children:"Email-ID"}),(0,h.jsx)("th",{scope:"col",children:"Nationality"}),(0,h.jsx)("th",{scope:"col",children:"Assigned Agent"}),(0,h.jsx)("th",{scope:"col",children:"Assigned Agent Type"}),(0,h.jsx)("th",{scope:"col",children:"Policy Type"}),(0,h.jsx)("th",{scope:"col",children:"Reasons"}),(0,h.jsx)("th",{scope:"col",children:"LMP Pol.No."}),(0,h.jsx)("th",{scope:"col",children:"Policy No."}),(0,h.jsx)("th",{scope:"col",children:"Premium"}),(0,h.jsx)("th",{scope:"col",children:"Reassign"}),(0,h.jsx)("th",{scope:"col",children:"Action"})]})}),(0,h.jsx)("tbody",{children:d.length>0?d.map(((e,s)=>{var t,a,n,l,o,i;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:R+s+1}),(0,h.jsx)("td",{children:e.name}),(0,h.jsx)("td",{children:(0,h.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`https://wa.me/${e}`;window.open(s)})(e.phoneno),children:e.phoneno})}),(0,h.jsx)("td",{children:(0,h.jsx)("a",{href:"#",onClick:()=>(e=>{const s=`mailto:${e}`;window.open(s)})(e.email),children:e.email})}),(0,h.jsx)("td",{children:e.nationality}),(0,h.jsx)("td",{children:""!=e.assigned_agent_info?""!=e.forward_to_info?""!=e.dc_forward_to_info?(null===(t=e.dc_forward_to_info[0])||void 0===t?void 0:t.name)||"-":(null===(a=e.forward_to_info[0])||void 0===a?void 0:a.name)||"-":(null===(n=e.assigned_agent_info[0])||void 0===n?void 0:n.name)||"-":"-"}),(0,h.jsx)("td",{children:""!=e.assigned_type_info?""!=e.forward_to_type_info?""!=e.dcforward_to_type_info?(null===(l=e.dcforward_to_type_info[0])||void 0===l?void 0:l.usertype)||"-":(null===(o=e.forward_to_type_info[0])||void 0===o?void 0:o.usertype)||"-":(null===(i=e.assigned_agent_info[0])||void 0===i?void 0:i.usertype)||"-":"-"}),(0,h.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,h.jsx)("td",{children:"Reason"}),(0,h.jsx)("td",{children:e.lead_id}),(0,h.jsx)("td",{children:"#5678"}),(0,h.jsx)("td",{children:"Rs. 1000"}),(0,h.jsx)("td",{children:(0,h.jsx)(c.A,{userType:"646224eab201a6f07b2dff36",leadid:e._id,sendData:M,sendUsertype:F})}),(0,h.jsx)("td",{className:"buttons_icons",children:(0,h.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{const s={method:"POST",body:JSON.stringify({id:e,agent_id:k,user_type:P}),headers:{"Content-Type":"application/json"}};await fetch("https://insuranceapi-3o5t.onrender.com/api/supervisor_renewal_assigned_agent",s).then((e=>e.json())).then((e=>{200===e.status&&(r()({title:"Success",text:e.message,icon:"success",dangerMode:!0}),D(_,b))})).catch((e=>{console.log(e)}))})(e._id),children:"Update"})})]},s)})):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:"12",className:"text-center",children:(0,h.jsx)("strong",{children:"No Records Found"})})})})]}),(0,h.jsx)("section",{children:(0,h.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:y,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const s=e.selected;N(s+1),D(s+1,b,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})})})}},31884:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(65043),n=t(73216),l=t(12488),o=(t(84596),t(93946)),i=t(70579);const d=function(e){let{filterOptions:s,defaultOptions:t}=e;const d=(0,n.Zp)(),[r,c]=(0,a.useState)(0),[h,p]=(0,a.useState)(0),[u,g]=(0,a.useState)(0),[m,x]=(0,a.useState)(0),[f,j]=(0,a.useState)(""),[b,y]=(0,a.useState)(0),[v,_]=(0,a.useState)(0),[N,S]=(0,a.useState)(0),[A,w]=(0,a.useState)(0),[C,k]=(0,a.useState)(0);(0,a.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?d("/login"):T()}),[s]);const T=async()=>{const e=JSON.parse(localStorage.getItem("user"));let a=s.location,n=s.lob,l=s.businessType,o=s.agent,i=s.dateRange,d=t.startdate,r=t.enddate,h=e.assign_staff,u=t.userType,m=t.selectedSupervisor;a=null!=a&&void 0!=a&&Array.isArray(a)&&0!==a.length?a.map((e=>e.value)):t.defaultlocation.map((e=>e.value)),n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):t.defaultlob.map((e=>e.value)),l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):t.defaultbusinessType.map((e=>e.value)),o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):t.defaultagent.map((e=>e.value));const f=localStorage.getItem("token"),b=JSON.parse(localStorage.getItem("user")).usertype;console.log("loginusertype",b),console.log("selectedsupervisor",m);const v={method:"POST",body:JSON.stringify({location:a,lob:n,business_type:l,newagent:o,dateRange:i,startdate:d,enddate:r,assign_staff:h,userType:u,selectedSupervisor:m}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+f}};"646224deb201a6f07b2dff32"==b&&await fetch("https://insuranceapi-3o5t.onrender.com/api/topLeagentCount",v).then((e=>e.json())).then((e=>{console.log("data",e.data),c(e.data.totalCount),p(e.data.closeLeadCount),g(e.data.totalPremiumEarned),x(e.data.totalIncomeEarned),j(e.data.topAgent),y(e.data.closingRatio),S(e.data.lostCount),_(e.data.supevisorPendingCount),w(e.data.dacumentsChaserPendingCount),k(e.data.policyIssuerPendingCount)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==b&&await fetch("https://insuranceapi-3o5t.onrender.com/api/topLeagentCount?dashboardType=supervisorDashboard",v).then((e=>e.json())).then((e=>{console.log("data",e.data),c(e.data.totalCount),p(e.data.closeLeadCount),g(e.data.totalPremiumEarned),x(e.data.totalIncomeEarned),j(e.data.topAgent),y(e.data.closingRatio),S(e.data.lostCount),_(e.data.supevisorPendingCount),w(e.data.dacumentsChaserPendingCount),k(e.data.policyIssuerPendingCount)})).catch((e=>{console.log(e)}))};return console.log("totalcount",r),console.log("closeLeadCount",h),console.log("totalPremiumEarned",u),console.log("closingRatio",b),console.log("lost",N),console.log("pending",v),console.log("pendingWithDC",A),console.log("pendingWithPI",C),(0,i.jsx)("div",{children:(0,i.jsxs)(l.default,{className:"carousel_abcds",margin:30,swipeable:!1,draggable:!0,showDots:!0,responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:6},desktop:{breakpoint:{max:3e3,min:1024},items:6},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:[(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Assigned Leads",value:null!=r?null===r||void 0===r?void 0:r.toString():"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:"Closed",value:null!=h?null===h||void 0===h?void 0:h.toString():"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Premium earned",value:null!=u?function(e){if(null!==e){const s=parseFloat(e.toString().replace(/,/g,""));return isNaN(s)?"":s.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})}return""}(u):"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:"Income Earned",value:null!=m?null===m||void 0===m?void 0:m.toString():"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Top Agent",value:null!=f?f:""})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:"Closing ratio",value:null!=b?null===b||void 0===b?void 0:b.toString():"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Pending",value:null!=v?v:"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{width:36,className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:"Lost",value:null!=N?N:"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Pending with DC",value:null!=A?A:"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{width:36,className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:"Pending with PI",value:null!=C?C:"0"})})]})})}}}]);
//# sourceMappingURL=5196.9b8115c5.chunk.js.map