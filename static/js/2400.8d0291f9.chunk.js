"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2400],{92400:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var a=s(65043),n=s(54168),l=s(73216),i=s(73023),o=s.n(i),c=s(70579);const r=()=>{const e=(0,l.Zp)();(0,a.useEffect)((()=>{v(),b()}),[]);const t=window.location.href,s=new URLSearchParams(t.split("?")[1]).get("id"),[i,r]=(0,a.useState)([]),[d,h]=(0,a.useState)(),[u,p]=(0,a.useState)(""),[m,j]=(0,a.useState)([]),[_,f]=(0,a.useState)(""),v=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,s=t.length,a=[];for(let n=0;n<s;n++){const e={label:t[n].location_name,value:t[n]._id};a.push(e)}r(a)}))},y=e=>{h(e)},b=async()=>{const e={method:"post",body:JSON.stringify({ParamValue:s}),headers:{"Content-Type":"application/json"}};let t=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_business_type_detailsbyid",e);t=await t.json(),p(t.business_type_name),f(t.business_type_status);const a=t.business_type_location.toString().split(","),n=a.length,l=[];for(let s=0;s<n;s++){const e={method:"GET",headers:{"Content-Type":"application/json"}};fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location_by_id/${a[s]}`,e).then((e=>e.json())).then((e=>{l.push(e.data.location_name);if(l.length===n){const e=l.join(",").split(","),t=e.length,s=[];for(let n=0;n<t;n++){const t={label:e[n],value:a[n]};s.push(t)}h(s),j(s)}}))}v()};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card-header",children:(0,c.jsx)("h4",{className:"card-title",children:"Update Repair Type"})}),(0,c.jsx)("div",{className:"card-body",children:(0,c.jsxs)("form",{action:"/",method:"POST",onSubmit:async t=>{if(t.preventDefault(),""===u||null===u)return o()("Please Enter Travel Cover Type","","warning"),!1;if(void 0===d||""===d||null===d)return o()("Please Select Travel Cover Type Location","","warning"),!1;if(""===_||null===_)return o()("Please Select Travel Cover Type Status","","warning"),!1;{const t=d,a=t.length,n=[];for(let e=0;e<a;e++)n.push(t[e].value);let l=await fetch("https://insuranceapi-3o5t.onrender.com/api/update_business_type_details",{method:"POST",body:JSON.stringify({ParamValue:s,business_type_name:u,business_type_location:n.toString(),business_type_status:_}),headers:{"Content-Type":"application/json"}});l=await l.json(),o()("Updated Succesfully","","success"),e("/ViewBusinesstype")}},children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("strong",{children:"Edit Repair Type"})}),(0,c.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Name",defaultValue:u,onChange:e=>p(e.target.value)})]}),(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("strong",{children:"Select Location"})}),(0,c.jsx)(n.default,{options:i,selectedValues:d,onSelect:y,onRemove:y,displayValue:"label",placeholder:"Select Location",closeOnSelect:!1,avoidHighlightFirstOption:!0,showCheckbox:!0,style:{chips:{background:"#007bff"}},required:!0})]}),(0,c.jsxs)("div",{className:"col-md-6",children:[(0,c.jsx)("label",{className:"form-label",children:(0,c.jsx)("strong",{children:"Status"})}),".",(0,c.jsxs)("select",{className:"form-control",name:"status",onChange:e=>f(e.target.value),children:[(0,c.jsx)("option",{defaultValue:_,hidden:!0,children:1==_?"Active":"InActive"}),(0,c.jsx)("option",{value:"1",children:"Active"}),(0,c.jsx)("option",{value:"0",children:"InActive"})]})]})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})})}}}]);
//# sourceMappingURL=2400.8d0291f9.chunk.js.map