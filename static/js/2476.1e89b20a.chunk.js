"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2476],{42476:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(65043),c=s(53519),n=s(84217),l=s(14282),i=s(73216),o=(s(92157),s(73023)),d=s.n(o),r=s(70579);const h=()=>{const e=(0,i.Zp)(),[t,s]=(0,a.useState)([]),[o,h]=(0,a.useState)(!1),[m,x]=(0,a.useState)([]),[p,j]=(0,a.useState)([]),[u,b]=(0,a.useState)([]),[v,g]=(0,a.useState)({}),N="https://insuranceapi-3o5t.onrender.com/api";(0,a.useEffect)((()=>{const t=localStorage.getItem("token");if(null===t||void 0===t||""===t)e("/login");else{var s;f(),y();const e=JSON.parse(localStorage.getItem("user")),t=(null===e||void 0===e||null===(s=e.master_permission)||void 0===s?void 0:s[0])||{};x(t)}}),[]);const y=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,s=t.length,a=[];for(let c=0;c<s;c++){const e={label:t[c].location_name,value:t[c]._id};a.push(e)}j(a)}))},f=async()=>{await fetch(`${N}/getYachtExperience`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{s(e.data),console.log("Experience Data >>>>>>>>>>>>>>>>>>> ",e.data)})).catch((e=>console.log(e)))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{children:(0,r.jsxs)("div",{className:"card mb-4",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsx)("h4",{className:"card-title",children:"Yacht Experience"})})})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("table",{className:"table table-bordered",children:[(0,r.jsx)("thead",{className:"thead-dark",children:(0,r.jsxs)("tr",{className:"table-info",children:[(0,r.jsx)("th",{scope:"col",children:"#"}),(0,r.jsx)("th",{scope:"col",children:"Experience"}),(0,r.jsx)("th",{scope:"col",children:"Number of Years"}),(0,r.jsx)("th",{scope:"col",children:"Action"})]})}),(0,r.jsx)("tbody",{children:(null===t||void 0===t?void 0:t.length)>0?t.map(((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t+1}),(0,r.jsx)("td",{children:e.name}),(0,r.jsx)("td",{children:e.number}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:"btn btn-primary",onClick:()=>(e=>{try{fetch(`${N}/getYachtExperiencebyid?id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log("Edit Experience Data >>>>>>>>>>>>>>>>>>> ",e.data),b(e.data[0]),h(!0)})).catch((e=>console.log(e)))}catch(t){console.log(t)}})(e._id),children:"Edit"})})]},t))):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"6",children:"No Data Found"})})})]})})]})}),(0,r.jsxs)(n.A,{size:"lg",show:o,onHide:()=>h(!1),children:[(0,r.jsx)(n.A.Header,{closeButton:!0,children:(0,r.jsx)(n.A.Title,{children:"Edit Yacht Experience "})}),(0,r.jsx)(n.A.Body,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("form",{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Edit Yacht Experience"})}),(0,r.jsx)("input",{className:"form-control",name:"number",type:"text",defaultValue:null===u||void 0===u?void 0:u.number,onChange:e=>{return t=e,void g({...v,number:t.target.value});var t},required:!0})]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("div",{type:"submit",onClick:()=>(async()=>{try{console.log("Update Experience Id >>>>>>>>>>>>>>>>>>> ",u._id),console.log("Update Experience Data >>>>>>>>>>>>>>>>>>> ",v);const e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)};fetch(`${N}/updateYachtExperience?id=${u._id}`,e).then((e=>e.json())).then((e=>{console.log("Update Experience Data >>>>>>>>>>>>>>>>>>> ",e),d()({title:"Data Updated Successfully!",icon:"success",button:"Okay"}),f(),h(!1)}))}catch(e){console.log(e)}})(),className:"btn btn-primary mt-2 submit_all",style:{float:"right"},children:"Submit"})})})]})})})})})})}),(0,r.jsx)(n.A.Footer,{children:(0,r.jsx)(l.A,{variant:"secondary",onClick:()=>h(!1),children:"Close"})})]})]})}}}]);
//# sourceMappingURL=2476.1e89b20a.chunk.js.map