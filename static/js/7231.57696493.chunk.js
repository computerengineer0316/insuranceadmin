"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7231],{37231:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var s=t(65043),l=t(54168),n=t(73216),i=t(73023),c=t.n(i),r=t(70579);const o=()=>{const e=(0,n.Zp)();(0,s.useEffect)((()=>{f(),x()}),[]);const a=window.location.href,t=new URLSearchParams(a.split("?")[1]).get("id"),[i,o]=(0,s.useState)([]),[d,h]=(0,s.useState)(),[m,u]=(0,s.useState)(""),[p,_]=(0,s.useState)([]),[g,j]=(0,s.useState)(),f=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let l=0;l<t;l++){const e={label:a[l].location_name,value:a[l]._id};s.push(e)}o(s)}))},y=e=>{h(e)},x=async()=>{const e={method:"post",body:JSON.stringify({ParamValue:t}),headers:{"Content-Type":"application/json"}};let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_medical_salary_range_detailsbyid",e);a=await a.json(),u(a.medical_salary_range),j(a.medical_salary_range_status);const s=a.medical_salary_range_location.toString().split(","),l=s.length,n=[];for(let t=0;t<l;t++){const e={method:"GET",headers:{"Content-Type":"application/json"}};fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location_by_id/${s[t]}`,e).then((e=>e.json())).then((e=>{n.push(e.data.location_name);if(n.length===l){const e=n.join(",").split(","),a=e.length,t=[];for(let l=0;l<a;l++){const a={label:e[l],value:s[l]};t.push(a)}h(t),_(t)}}))}f()};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h4",{className:"card-title",children:"Salary range"})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("form",{action:"/",method:"POST",onSubmit:async a=>{if(a.preventDefault(),""!=m)if(""!=p)if(""!=g){const a=d,s=a.length,l=[];for(let e=0;e<s;e++)l.push(a[e].value);let n=await fetch("https://insuranceapi-3o5t.onrender.com/api/update_medical_salary_range_details",{method:"POST",body:JSON.stringify({ParamValue:t,medical_salary_range:m,medical_salary_range_location:l.toString(),medical_salary_range_status:g}),headers:{"Content-Type":"application/json"}});n=await n.json(),c()("Updated Succesfully","","success"),e("/Viewmedicalsalaryange")}else c()("Please Select Status","","warning");else c()("Please Select Location","","warning");else c()("Please Enter Salary range","","warning")},children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Edit Salary range"})}),(0,r.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Enter Salary range",defaultValue:m,onChange:e=>u(e.target.value)})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Select Location"})}),(0,r.jsx)(l.default,{options:i,selectedValues:d,onSelect:y,onRemove:y,displayValue:"label",placeholder:"Select Location",closeOnSelect:!1,avoidHighlightFirstOption:!0,showCheckbox:!0,style:{chips:{background:"#007bff"}},required:!0})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Status"})}),".",(0,r.jsxs)("select",{className:"form-control",name:"status",onChange:e=>j(e.target.value),children:[(0,r.jsx)("option",{defaultValue:g,hidden:!0,children:1==g?"Active":"InActive"}),(0,r.jsx)("option",{value:"1",children:"Active"}),(0,r.jsx)("option",{value:"0",children:"InActive"})]})]})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})})}}}]);
//# sourceMappingURL=7231.57696493.chunk.js.map