{"version":3,"file":"static/js/5734.34198b76.chunk.js","mappings":"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","sources":["views/Yacht/Yacht_Engine/AddYachtEngine.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Form, json, useNavigate } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport Multiselect from \"multiselect-react-dropdown\";\n\nconst AddYachtMake = () => {\n    const navigate = useNavigate();\n    const [location, setLocation] = useState([]);\n    const [selectedOption, setSelectedOption] = useState(null);\n    const [rowsData, setRowsData] = useState([])\n    const [errors, setErrors] = useState({});\n\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token === null || token === undefined || token === '') {\n            navigate('/login')\n        }\n        else {\n            locationList();\n        }\n    }, []);\n\n    const locationList = () => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                const locationdt = data.data;\n                const location_len = locationdt.length;\n                const location_list = [];\n                for (let i = 0; i < location_len; i++) {\n                    const location_obj = { label: locationdt[i].location_name, value: locationdt[i]._id };\n                    location_list.push(location_obj);\n                }\n                setLocation(location_list);\n            });\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        try {\n            const hasEmptyFields = rowsData.some((row) => {\n                return row.engine_name.trim() === '' || !row.location;\n            });\n\n            if (hasEmptyFields) {\n                // Display an error message or handle the validation error as needed\n                swal({\n                    title: \"Warning!\",\n                    text: \"Please fill in all fields for each row.\",\n                    type: \"warning\",\n                    icon: \"warning\"\n                });\n                return false; // Exit the function if there are empty fields\n            }\n            else {\n                let datalen = rowsData.length - 1;\n                for (let i = 0; i < rowsData.length; i++) {\n                    const locdata = rowsData[i].location\n                    const locarr = [];\n\n                    const fd = new FormData()\n                    for (let j = 0; j < locdata.length; j++) {\n                        locarr.push(locdata[j].value)\n                    }\n                    fd.append('file', rowsData[i].logo)\n                    fd.append('location', locarr)\n                    fd.append('engine_name', rowsData[i].engine_name)\n                    fd.append('index', i)\n                    if (datalen == i) {\n                        fd.append('last', 'last')\n                    }\n                    const requestOptions = {\n                        method: 'POST',\n                        body: fd\n                    };\n                    fetch(`https://insuranceapi-3o5t.onrender.com/api/AddYachtEngine`, requestOptions)\n                        .then(response => response.json())\n                        .then(data => {\n                            if (data.status == 200) {\n                                swal({\n                                    text: data.message,\n                                    type: \"success\",\n                                    icon: \"success\",\n                                    button: false\n                                })\n                                setTimeout(() => {\n                                    swal.close()\n                                    navigate('/ViewYachtEngine')\n                                }, 1000);\n                            }\n                            else if (data.status != 200) {\n                                swal({\n                                    title: \"Error!\",\n                                    text: data.message,\n                                    type: \"error\",\n                                    icon: \"error\",\n                                    button: false\n                                })\n                                setTimeout(() => {\n                                    swal.close()\n                                    navigate('/ViewYachtEngine')\n                                }, 1000);\n                            }\n                        });\n                }\n            }\n        }\n        catch (err) {\n            console.log(err)\n        }\n\n    }\n    const addTableRows = () => {\n        const rowsInput =\n        {\n            engine_name: '',\n            location: location,\n\n        }\n        setRowsData([...rowsData, rowsInput])\n    }\n    const deleteTableRows = (index) => {\n        const rows = [...rowsData]\n        rows.splice(index, 1)\n        setRowsData(rows)\n    }\n    const handleChange = (index, evnt) => {\n        const { name, value } = evnt.target\n\n        if (value.trim() === '') {\n            setErrors((prevErrors) => ({\n                ...prevErrors,\n                [name]: 'This is required',\n            }));\n        } else {\n            setErrors((prevErrors) => ({\n                ...prevErrors,\n                [name]: '', // Clear the error message if the value is not empty\n            }));\n        }\n        const rowsInput = [...rowsData]\n        rowsInput[index][name] = value\n        setRowsData(rowsInput)\n    }\n    const handleChange1 = (index, value, title) => {\n        const rowsInput = [...rowsData];\n        rowsInput[index][title] = value;\n        setRowsData(rowsInput)\n    }\n    const handleImageChange = (indx, file) => {\n        rowsData[indx][\"logo\"] = file;\n\n    }\n    return (\n        <div className=\"container\">\n            <div className=\"row\" >\n                <div className=\"col-md-12\" >\n                    <div className=\"card\" >\n                        <div className=\"card-header\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <h4 className=\"card-title\">Add Yacht Engine</h4>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"card-body addmotorplans\" style={{ overflowX: 'scroll' }}>\n                            <table className=\"table table-bordered\" style={{ width: \"auto\" }}>\n                                <thead>\n                                    <tr>\n                                        <th><button className=\"btn btn-outline-success\" onClick={addTableRows}>+</button></th>\n                                        <th>Engine Name</th>\n                                        <th>engine Logo</th>\n                                        <th>Location</th>\n\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {\n                                        rowsData.map((data, index) => {\n                                            return (\n                                                <tr key={index} >\n                                                    <td>\n                                                        <button className=\"btn btn-outline-danger\" onClick={() => (deleteTableRows(index))}>x</button>\n                                                    </td>\n                                                    <td>\n                                                        <input type=\"text\" onChange={(evnt) => (handleChange(index, evnt))} className=\"form-control\" name=\"engine_name\" placeholder=\"Engine Name\" autoComplete=\"off\" required />\n\n                                                    </td>\n                                                    <td>\n                                                        <input type=\"file\" onChange={(evnt) => (handleImageChange(index, evnt.target.files[0]))} className=\"form-control\" name=\"yacht_engine_logo\" placeholder=\"yacht engine logo\" autoComplete=\"off\" required />\n\n                                                    </td>\n                                                    <td>\n                                                        <Multiselect\n                                                            options={location}\n                                                            selectedValues={location}\n                                                            displayValue=\"label\"\n                                                            onSelect={(evnt) => (handleChange1(index, evnt, 'location'))}\n                                                            onRemove={(evnt) => (handleChange1(index, evnt, 'location'))}\n                                                            placeholder=\"Select Location\"\n                                                            showCheckbox={true}\n                                                            closeOnSelect={false}\n                                                            required\n                                                        />\n                                                    </td>\n\n\n                                                </tr>\n                                            )\n                                        })\n                                    }\n                                </tbody>\n                            </table>\n                        </div>\n                        <div className=\"card-footer\">\n                            <button className=\"btn btn-outline-success\" onClick={handleSubmit}>Submit</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default AddYachtMake\n"],"names":["AddYachtMake","navigate","useNavigate","location","setLocation","useState","selectedOption","setSelectedOption","rowsData","setRowsData","errors","setErrors","useEffect","token","localStorage","getItem","undefined","locationList","fetch","method","headers","then","response","json","data","locationdt","location_len","length","location_list","i","location_obj","label","location_name","value","_id","push","handleChange1","index","title","rowsInput","_jsx","className","children","_jsxs","style","overflowX","width","onClick","addTableRows","engine_name","map","rows","splice","deleteTableRows","type","onChange","evnt","handleChange","name","target","trim","prevErrors","placeholder","autoComplete","required","handleImageChange","indx","file","files","Multiselect","options","selectedValues","displayValue","onSelect","onRemove","showCheckbox","closeOnSelect","e","preventDefault","some","row","swal","text","icon","datalen","locdata","locarr","fd","FormData","j","append","logo","body","status","message","button","setTimeout","err","console","log"],"sourceRoot":""}