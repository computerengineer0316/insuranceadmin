"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[455,1320,1452],{17835:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var s=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),r=t(84217),d=t(53519),c=t(61072),h=t(14282),p=t(86178),m=t.n(p),u=t(70579);const g=function(e){let{filterOptions:a,defaultOptions:t,updateSharedData:n}=e;const p=(0,o.Zp)(),[g,j]=(0,s.useState)([]),[x,y]=(0,s.useState)([]),[f,v]=(0,s.useState)([]),[b,_]=(0,s.useState)([]),[N]=(0,s.useState)(5),[S,A]=(0,s.useState)(0),[C,w]=(0,s.useState)(1),[k,T]=(0,s.useState)(!1),[O,D]=(0,s.useState)(""),[L,P]=(0,s.useState)(""),[I,F]=(0,s.useState)(""),[J,B]=(0,s.useState)([]),[E,R]=(0,s.useState)("");(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?p("/login"):(z(C,N),H(),M())}),[a]);const z=async(e,s)=>{let n=a.location,l=a.lob,o=a.businessType,i=a.agent,r=a.dateRange,d=t.startdate,c=t.enddate;n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):[],l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):[],o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):[],i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultagent.map((e=>e.value));const h=localStorage.getItem("token"),p=JSON.parse(localStorage.getItem("user")).usertype,m={method:"POST",body:JSON.stringify({page:e,limit:s,location:n,lob:l,business_type:o,newagent:i,dateRange:r,startdate:d,enddate:c}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};"646224eab201a6f07b2dff36"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Cold",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);A(t);const n=e.data;j(n)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Cold&dashboardType=salesAdvisorDashboard",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);A(t);const n=e.data;j(n)})).catch((e=>{console.log(e)}))},H=async()=>{const e=JSON.parse(localStorage.getItem("user")).usertype;let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_lead_status_name?type=salesAdvisor",{method:"post",body:JSON.stringify({usertype:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),y(a.data)},V=(C-1)*N,M=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getDocumentChaser",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].name,value:a[n]._id};s.push(e)}B(s)}))},$=e=>{const a=J.find((a=>a.value===e));return a?a.label:""};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.A,{children:(0,u.jsxs)(i.A.Item,{eventKey:"1",children:[(0,u.jsx)(i.A.Header,{children:(0,u.jsx)("div",{className:"card-header new_leads",children:(0,u.jsx)("strong",{children:"Cold Leads"})})}),(0,u.jsxs)(i.A.Body,{style:{padding:"2px"},children:[(0,u.jsxs)("table",{className:"table solid",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"table-info",children:[(0,u.jsx)("th",{scope:"col",children:"Sr"}),(0,u.jsx)("th",{scope:"col",children:"Name"}),(0,u.jsx)("th",{scope:"col",children:"Phone No."}),(0,u.jsx)("th",{scope:"col",children:"Email-ID"}),(0,u.jsx)("th",{scope:"col",children:"Assigned Date & Time"}),(0,u.jsx)("th",{scope:"col",children:"Aging (as of today)"}),(0,u.jsx)("th",{scope:"col",children:"Type of Policy"}),(0,u.jsx)("th",{scope:"col",children:"Direct Payment"}),(0,u.jsx)("th",{scope:"col",children:"Lead Status"}),(0,u.jsx)("th",{scope:"col",children:"Forward To"}),(0,u.jsx)("th",{scope:"col",children:"Action"})]})}),(0,u.jsx)("tbody",{children:g.length>0?g.map(((e,a)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:V+a+1}),(0,u.jsx)("td",{children:e.name}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`https://wa.me/${e}`;window.open(a)})(e.phoneno),children:e.phoneno})}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`mailto:${e}`;window.open(a)})(e.email),children:e.email})}),(0,u.jsx)("td",{children:e.assign_salesadvisor_timestamp?new Date(e.assign_salesadvisor_timestamp).toString():new Date(e.new_lead_timestamp).toString()}),(0,u.jsx)("td",{children:e.assign_salesadvisor_timestamp?m()(e.assign_salesadvisor_timestamp).fromNow():m()(e.new_lead_timestamp).fromNow()}),(0,u.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",name:"direct_payment",id:"direct_payment",defaultChecked:"true"==e.direct_payment,onChange:a=>{return t=e._id,s=a.target.checked,void F((e=>({...e,[t]:s})));var t,s},required:!0})}),(0,u.jsx)("td",{children:(0,u.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void P((e=>({...e,[t]:s})));var t,s},children:[(0,u.jsx)("option",{value:"",hidden:!0,children:e.lead_status}),x.map(((e,a)=>(0,u.jsx)("option",{value:e.lead_status,children:e.lead_status},a)))]})}),(0,u.jsx)("td",{children:(0,u.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void R((e=>({...e,[t]:s})));var t,s},children:[(0,u.jsx)("option",{value:"",hidden:!0,children:void 0==e.forward_to||""==e.forward_to||null==e.forward_to?"Document Chaser":$(e.forward_to)}),J.map(((e,a)=>(0,u.jsx)("option",{value:e.value,children:e.label},a)))]})}),(0,u.jsx)("td",{className:"buttons_icons",children:(0,u.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{D(e);let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_new_lead_detailsbyid",{method:"post",body:JSON.stringify({ParamValue:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),v(a.data[0]),_(a.data[0].policy_type[0].line_of_business_name),T(!0)})(e._id),children:(0,u.jsx)("i",{className:"fa-solid fa-eye"})})})]},a))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"12",className:"text-center",children:(0,u.jsx)("strong",{children:"No Records Found"})})})})]}),(0,u.jsxs)("section",{children:[(0,u.jsx)("button",{className:"save-btn",onClick:e=>{e.preventDefault();const a=JSON.parse(localStorage.getItem("user"))._id,t="{}"===JSON.stringify(I)?null:I,s="{}"===JSON.stringify(L)?null:L,l=""===E?null:E,o=new Set(Object.keys(t||{}).concat(Object.keys(s||{}),Object.keys(l||{})));for(const i of o){const e=I[i],t=L[i],s=E[i],l={method:"POST",body:JSON.stringify({id:i,direct_payment:e,lead_status:t,forward_to:s,assigningagent:a}),headers:{"Content-Type":"application/json"}};fetch("https://insuranceapi-3o5t.onrender.com/api/update_new_lead_details",l).then((e=>e.json())).then((e=>{z(C,N),n(z(C,N))}))}},children:"Save "}),(0,u.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:S,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const a=e.selected;w(a+1),z(a+1,N,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})]})]})}),(0,u.jsxs)(r.A,{size:"lg",show:k,onHide:()=>T(!1),children:[(0,u.jsx)(r.A.Header,{closeButton:!0,children:(0,u.jsx)(r.A.Title,{children:"Lead Detail"})}),(0,u.jsx)(r.A.Body,{children:(0,u.jsxs)(d.A,{children:[(0,u.jsxs)(c.A,{children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"name",children:"Name"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:f.name})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"email",children:"Email"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:f.email})]})})]}),(0,u.jsxs)(c.A,{children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"phoneno",children:"Phone No."}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"phoneno",name:"phoneno",value:f.phoneno})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"dob",children:"Line Of Business"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"lob",name:"lob",value:b})]})})]})]})}),(0,u.jsx)(r.A.Footer,{children:(0,u.jsx)(h.A,{variant:"secondary",onClick:()=>T(!1),children:"Close"})})]})]})}},67594:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var s=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),r=t(84217),d=t(53519),c=t(61072),h=t(14282),p=t(86178),m=t.n(p),u=t(30710),g=t(70579);const j=function(e){let{filterOptions:a,defaultOptions:t,updateSharedData:n}=e;const p=(0,o.Zp)(),[j,x]=(0,s.useState)([]),[y,f]=(0,s.useState)([]),[v,b]=(0,s.useState)([]),[_,N]=(0,s.useState)([]),[S]=(0,s.useState)(5),[A,C]=(0,s.useState)(0),[w,k]=(0,s.useState)(1),[T,O]=(0,s.useState)(!1),[D,L]=(0,s.useState)(""),[P,I]=(0,s.useState)(""),[F,J]=(0,s.useState)(""),[B,E]=(0,s.useState)([]),[R,z]=(0,s.useState)(""),[H,V]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?p("/login"):(M(w,S),$(),U())}),[a]);const M=async(e,s)=>{V(!0);let n=a.location,l=a.lob,o=a.businessType,i=a.agent,r=a.dateRange,d=t.startdate,c=t.enddate;n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):[],l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):[],o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):[],i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultagent.map((e=>e.value));const h=localStorage.getItem("token"),p=JSON.parse(localStorage.getItem("user")).usertype,m={method:"POST",body:JSON.stringify({page:e,limit:s,location:n,lob:l,business_type:o,newagent:i,dateRange:r,startdate:d,enddate:c}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};"646224eab201a6f07b2dff36"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Hot",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);C(t);const n=e.data;x(n)})).catch((e=>{console.log(e)})).finally((()=>{V(!1)})),"64622470b201a6f07b2dff22"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Hot&dashboardType=salesAdvisorDashboard",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);C(t);const n=e.data;x(n)})).catch((e=>{console.log(e)})).finally((()=>{V(!1)}))},$=async()=>{const e=JSON.parse(localStorage.getItem("user")).usertype;let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_lead_status_name?type=salesAdvisor",{method:"post",body:JSON.stringify({usertype:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),f(a.data)},G=(w-1)*S,U=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getDocumentChaser",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].name,value:a[n]._id};s.push(e)}E(s)}))},q=e=>{const a=B.find((a=>a.value===e));return a?a.label:""};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.A,{children:(0,g.jsxs)(i.A.Item,{eventKey:"1",children:[(0,g.jsx)(i.A.Header,{children:(0,g.jsx)("div",{className:"card-header new_leads",children:(0,g.jsx)("strong",{children:"Hot Leads"})})}),(0,g.jsxs)(i.A.Body,{style:{padding:"2px"},children:[(0,g.jsxs)("table",{className:"table solid",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:"table-info",children:[(0,g.jsx)("th",{scope:"col",children:"Sr"}),(0,g.jsx)("th",{scope:"col",children:"Name"}),(0,g.jsx)("th",{scope:"col",children:"Phone No."}),(0,g.jsx)("th",{scope:"col",children:"Email-ID"}),(0,g.jsx)("th",{scope:"col",children:"Assigned Date & Time"}),(0,g.jsx)("th",{scope:"col",children:"Aging (as of today)"}),(0,g.jsx)("th",{scope:"col",children:"Type of Policy"}),(0,g.jsx)("th",{scope:"col",children:"Direct Payment"}),(0,g.jsx)("th",{scope:"col",children:"Lead Status"}),(0,g.jsx)("th",{scope:"col",children:"Forward To"}),(0,g.jsx)("th",{scope:"col",children:"Action"})]})}),(0,g.jsx)("tbody",{children:H?(0,g.jsx)("div",{className:"loader-container",children:(0,g.jsx)(u.A,{color:"#000000",loading:H,size:50})}):(0,g.jsx)(g.Fragment,{children:j.length>0?j.map(((e,a)=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:G+a+1}),(0,g.jsx)("td",{children:e.name}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`https://wa.me/${e}`;window.open(a)})(e.phoneno),children:e.phoneno})}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`mailto:${e}`;window.open(a)})(e.email),children:e.email})}),(0,g.jsx)("td",{children:e.assign_salesadvisor_timestamp?new Date(e.assign_salesadvisor_timestamp).toString():new Date(e.new_lead_timestamp).toString()}),(0,g.jsx)("td",{children:e.assign_salesadvisor_timestamp?m()(e.assign_salesadvisor_timestamp).fromNow():m()(e.new_lead_timestamp).fromNow()}),(0,g.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,g.jsx)("td",{children:(0,g.jsx)("input",{type:"checkbox",name:"direct_payment",id:"direct_payment",defaultChecked:"true"==e.direct_payment,onChange:a=>{return t=e._id,s=a.target.checked,void J((e=>({...e,[t]:s})));var t,s},required:!0})}),(0,g.jsx)("td",{children:(0,g.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void I((e=>({...e,[t]:s})));var t,s},children:[(0,g.jsx)("option",{value:"",hidden:!0,children:e.lead_status}),y.map(((e,a)=>(0,g.jsx)("option",{value:e.lead_status,children:e.lead_status},a)))]})}),(0,g.jsx)("td",{children:(0,g.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void z((e=>({...e,[t]:s})));var t,s},children:[(0,g.jsx)("option",{value:"",hidden:!0,children:void 0==e.forward_to||""==e.forward_to||null==e.forward_to?"Document Chaser":q(e.forward_to)}),B.map(((e,a)=>(0,g.jsx)("option",{value:e.value,children:e.label},a)))]})}),(0,g.jsx)("td",{className:"buttons_icons",children:(0,g.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{L(e);let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_new_lead_detailsbyid",{method:"post",body:JSON.stringify({ParamValue:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),b(a.data[0]),N(a.data[0].policy_type[0].line_of_business_name),O(!0)})(e._id),children:(0,g.jsx)("i",{className:"fa-solid fa-eye"})})})]},a))):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"12",className:"text-center",children:(0,g.jsx)("strong",{children:"No Records Found"})})})})})]}),(0,g.jsxs)("section",{children:[(0,g.jsx)("button",{className:"save-btn",onClick:e=>{e.preventDefault();const a=JSON.parse(localStorage.getItem("user"))._id,t="{}"===JSON.stringify(F)?null:F,s="{}"===JSON.stringify(P)?null:P,l=""===R?null:R,o=new Set(Object.keys(t||{}).concat(Object.keys(s||{}),Object.keys(l||{})));for(const i of o){const e=F[i],t=P[i],s=R[i],l={method:"POST",body:JSON.stringify({id:i,direct_payment:e,lead_status:t,forward_to:s,assigningagent:a}),headers:{"Content-Type":"application/json"}};fetch("https://insuranceapi-3o5t.onrender.com/api/update_new_lead_details",l).then((e=>e.json())).then((e=>{M(w,S),n(M(w,S))}))}},children:"Save "}),(0,g.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:A,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const a=e.selected;k(a+1),M(a+1,S,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})]})]})}),(0,g.jsxs)(r.A,{size:"lg",show:T,onHide:()=>O(!1),children:[(0,g.jsx)(r.A.Header,{closeButton:!0,children:(0,g.jsx)(r.A.Title,{children:"Lead Detail"})}),(0,g.jsx)(r.A.Body,{children:(0,g.jsxs)(d.A,{children:[(0,g.jsxs)(c.A,{children:[(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"name",children:"Name"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:v.name})]})}),(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"email",children:"Email"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:v.email})]})})]}),(0,g.jsxs)(c.A,{children:[(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"phoneno",children:"Phone No."}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"phoneno",name:"phoneno",value:v.phoneno})]})}),(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"dob",children:"Line Of Business"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"lob",name:"lob",value:_})]})})]})]})}),(0,g.jsx)(r.A.Footer,{children:(0,g.jsx)(h.A,{variant:"secondary",onClick:()=>O(!1),children:"Close"})})]})]})}},93:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var s=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),r=t(84217),d=t(53519),c=t(61072),h=t(14282),p=t(86178),m=t.n(p),u=t(30710),g=t(70579);const j=function(e){let{filterOptions:a,defaultOptions:t}=e;const n=(0,o.Zp)(),[p,j]=(0,s.useState)([]),[x,y]=(0,s.useState)([]),[f,v]=(0,s.useState)([]),[b]=(0,s.useState)(5),[_,N]=(0,s.useState)(0),[S,A]=(0,s.useState)(1),[C,w]=(0,s.useState)(!1),[k,T]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?n("/login"):O(S,b)}),[a]);const O=async(e,s)=>{T(!0);let n=a.location,l=a.lob,o=a.businessType,i=a.agent,r=a.dateRange,d=t.startdate,c=t.enddate;n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):[],l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):[],o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):[],i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultagent.map((e=>e.value));const h=localStorage.getItem("token"),p=JSON.parse(localStorage.getItem("user")).usertype,m={method:"POST",body:JSON.stringify({page:e,limit:s,location:n,lob:l,business_type:o,newagent:i,dateRange:r,startdate:d,enddate:c}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};"646224eab201a6f07b2dff36"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Closed",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);N(t);const n=e.data;j(n)})).catch((e=>{console.log(e)})).finally((()=>{T(!1)})),"64622470b201a6f07b2dff22"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Closed&dashboardType=salesAdvisorDashboard",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);N(t);const n=e.data;j(n)})).catch((e=>{console.log(e)})).finally((()=>{T(!1)}))},D=(S-1)*b;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.A,{children:(0,g.jsxs)(i.A.Item,{eventKey:"1",children:[(0,g.jsx)(i.A.Header,{children:(0,g.jsx)("div",{className:"card-header new_leads",children:(0,g.jsx)("strong",{children:"Issued Policies"})})}),(0,g.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,g.jsxs)("table",{className:"table solid salesdashboards1234",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:"table-info",children:[(0,g.jsx)("th",{scope:"col",children:"Sr"}),(0,g.jsx)("th",{scope:"col",children:"Name"}),(0,g.jsx)("th",{scope:"col",children:"Phone No."}),(0,g.jsx)("th",{scope:"col",children:"Email-ID"}),(0,g.jsx)("th",{scope:"col",children:"Assigned Date & Time"}),(0,g.jsx)("th",{scope:"col",children:"Aging (as of today)"}),(0,g.jsx)("th",{scope:"col",children:"Type of Policy"}),(0,g.jsx)("th",{scope:"col",children:"Business Type"}),(0,g.jsx)("th",{scope:"col",children:"Action"})]})}),(0,g.jsx)("tbody",{children:k?(0,g.jsx)("div",{className:"loader-container",children:(0,g.jsx)(u.A,{color:"#ED1C24",loading:k,size:50})}):(0,g.jsx)(g.Fragment,{children:p.length>0?p.map(((e,a)=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:D+a+1}),(0,g.jsx)("td",{children:e.name}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`https://wa.me/${e}`;window.open(a)})(e.phoneno),children:e.phoneno})}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`mailto:${e}`;window.open(a)})(e.email),children:e.email})}),(0,g.jsx)("td",{children:e.assign_salesadvisor_timestamp?new Date(e.assign_salesadvisor_timestamp).toString():new Date(e.new_lead_timestamp).toString()}),(0,g.jsx)("td",{children:e.assign_salesadvisor_timestamp?m()(e.assign_salesadvisor_timestamp).fromNow():m()(e.new_lead_timestamp).fromNow()}),(0,g.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,g.jsx)("td",{children:e.business_type}),(0,g.jsx)("td",{className:"buttons_icons",children:(0,g.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_new_lead_detailsbyid",{method:"post",body:JSON.stringify({ParamValue:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),y(a.data[0]),v(a.data[0].policy_type[0].line_of_business_name),w(!0)})(e._id),children:(0,g.jsx)("i",{className:"fa-solid fa-eye"})})})]},a))):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"12",className:"text-center",children:(0,g.jsx)("strong",{children:"No Records Found"})})})})})]}),(0,g.jsx)("section",{children:(0,g.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:_,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const a=e.selected;A(a+1),O(a+1,b,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})}),(0,g.jsxs)(r.A,{size:"lg",show:C,onHide:()=>w(!1),children:[(0,g.jsx)(r.A.Header,{closeButton:!0,children:(0,g.jsx)(r.A.Title,{children:"Lead Detail"})}),(0,g.jsx)(r.A.Body,{children:(0,g.jsxs)(d.A,{children:[(0,g.jsxs)(c.A,{children:[(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"name",children:"Name"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:x.name})]})}),(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"email",children:"Email"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:x.email})]})})]}),(0,g.jsxs)(c.A,{children:[(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"phoneno",children:"Phone No."}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"phoneno",name:"phoneno",value:x.phoneno})]})}),(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"dob",children:"Line Of Business"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"lob",name:"lob",value:f})]})})]})]})}),(0,g.jsx)(r.A.Footer,{children:(0,g.jsx)(h.A,{variant:"secondary",onClick:()=>w(!1),children:"Close"})})]})]})}},41452:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var s=t(65043),n=(t(92157),t(73216)),l=t(84217),o=t(14282),i=(t(86178),t(54168)),r=t(70579);const d=function(e){let{filterOptions:a,defaultOptions:t,updateSharedData:d}=e;const c=localStorage.getItem("token"),[h,p]=(0,s.useState)(""),[m,u]=(0,s.useState)(""),[g,j]=(0,s.useState)(!1),[x,y]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),b=(0,n.Zp)(),[_,N]=(0,s.useState)([]),[S,A]=(0,s.useState)([]),[C,w]=(0,s.useState)([]),[k,T]=(0,s.useState)([]),[O]=(0,s.useState)(10),[D,L]=(0,s.useState)(0),[P,I]=(0,s.useState)(1),[F,J]=(0,s.useState)(!1),[B,E]=(0,s.useState)(""),[R,z]=(0,s.useState)({}),[H,V]=(0,s.useState)({}),[M,$]=(0,s.useState)([]),[G,U]=(0,s.useState)(""),[q,Z]=(0,s.useState)(!1),[W,K]=(0,s.useState)([]);(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?b("/login"):(Y(P,O),pe())}),[a]),(0,s.useEffect)((()=>{ee()}),[]);const Y=async(e,s)=>{try{Z(!0);let n=a.location,l=a.lob,o=a.businessType,i=a.agent,r=a.dateRange,d=t.startdate,c=t.enddate;n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):t.defaultlocation.map((e=>e.value)),l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):t.defaultlob.map((e=>e.value)),o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):t.defaultbusinessType.map((e=>e.value)),i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultagent.map((e=>e.value));const h=localStorage.getItem("token"),p=(JSON.parse(localStorage.getItem("user")).usertype,{method:"POST",body:JSON.stringify({location:n,lob:l,business_type:o,newagent:i,dateRange:r,startdate:d,enddate:c}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}});await fetch(`https://insuranceapi-3o5t.onrender.com/api/businessEntityLinks?page=${e}&limit=${s}`,p).then((e=>e.json())).then((e=>{console.log("data>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",e);const a=e.count;console.log("total>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",a);const t=a/s,n=Math.ceil(t);L(n);const l=e.data;N(l),Z(!1)})).catch((e=>{console.log(e)}))}catch(n){console.log(n)}},Q=localStorage.getItem("user"),X=JSON.parse(Q)._id;console.log("userid>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",X);const ee=()=>{const e=JSON.parse(localStorage.getItem("user")).line_of_business;if(e.length>0){const a=e,t=a.length,s=[];for(let e=0;e<t;e++){const t={label:a[e].lob_name,value:a[e].lob_id};s.push(t)}K(s)}else{fetch("https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].line_of_business_name,value:a[n]._id};s.push(e)}K(s)}))}},[ae,te]=(0,s.useState)({phonenumber:"",email:""}),[se,ne]=(0,s.useState)([]),[le,oe]=(0,s.useState)([]);console.log(le);const ie=e=>{console.log(e),ne(e)},re=e=>{const{name:a,value:t}=e.target;te({...ae,[a]:t})},de=JSON.parse(localStorage.getItem("user")).usertype,[ce,he]=(0,s.useState)([]),pe=async()=>{try{const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}};fetch("https://insuranceapi-3o5t.onrender.com/api/getUserAccordingUserType?userType=salesAdvisor",e).then((e=>e.json())).then((e=>{console.log("adminagent>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",e.data);const a=e.data,t=null===a||void 0===a?void 0:a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].name,value:a[n]._id};s.push(e)}he(s)}))}catch(e){console.log(e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row mb-5",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("h4",{className:"card-title",style:{marginBottom:"0px",fontSize:"15px"},children:"Link Generator"})})})}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("button",{className:"generated_links",style:{marginTop:"10px",marginLeft:"10px",marginBottom:"5px"},onClick:()=>{J(!0)},children:"Generate Customer Link"}),h&&(0,r.jsxs)("div",{className:"links_generaed",children:[(0,r.jsx)("p",{children:"Generated Customer Link:"}),(0,r.jsx)("a",{href:h,target:"_blank",rel:"noopener noreferrer",children:h})]})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"links_generaed",children:[(0,r.jsx)("p",{children:"Business Entity Link:"}),(0,r.jsx)("a",{href:`https://splendorous-kulfi-bdc583.netlify.app?agentid=${X}&user=BE`,target:"_blank",rel:"noopener noreferrer",children:`https://splendorous-kulfi-bdc583.netlify.app/?agentid=${X}&user=BE`})]})})]})]})})}),(0,r.jsxs)(l.A,{size:"lg",show:F,onHide:()=>J(!1),children:[(0,r.jsx)(l.A.Header,{closeButton:!0,children:(0,r.jsx)(l.A.Title,{children:"Create Link"})}),(0,r.jsx)(l.A.Body,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("div",{className:"card",children:(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(ae.selectedlob==[])alert("Please select location");else if(""==ae.phonenumber)alert("Please enter phone number");else if(""==ae.email)alert("Please enter email");else if(""==ae.name)alert("Please enter name");else if(ae.email.includes("@")&&ae.email.includes(".")){if("646224eab201a6f07b2dff36"==de){const e={method:"POST",body:JSON.stringify({lob:se.map((e=>e.value)),phoneno:null===ae||void 0===ae?void 0:ae.phonenumber,email:null===ae||void 0===ae?void 0:ae.email,name:null===ae||void 0===ae?void 0:ae.name}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}};fetch("https://insuranceapi-3o5t.onrender.com/api/createLeadByCustumerLink",e).then((e=>e.json())).then((e=>{console.log(e.data),alert("Link Generated Successfully"),te({phonenumber:"",email:""}),ne([]),p(e.data),J(!1),b("/salesDashboard")}))}if("64622470b201a6f07b2dff22"==de){const e={method:"POST",body:JSON.stringify({lob:se.map((e=>e.value)),phoneno:null===ae||void 0===ae?void 0:ae.phonenumber,email:null===ae||void 0===ae?void 0:ae.email,name:null===ae||void 0===ae?void 0:ae.name,salesAdvisorId:le}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}};fetch("https://insuranceapi-3o5t.onrender.com/api/createLeadByCustumerLink",e).then((e=>e.json())).then((e=>{console.log(e.data),alert("Link Generated Successfully"),te({phonenumber:"",email:""}),ne([]),p(e.data),J(!1),b("/salesDashboard")}))}}else alert("Please enter valid email")}catch(a){console.log(a)}},children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Select line of business "})}),(0,r.jsx)(i.default,{options:W,displayValue:"label",onSelect:e=>ie(e),onRemove:e=>ie(e),placeholder:"Select line of business",selectedValues:se,showArrow:!0})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Phone Number"})}),(0,r.jsx)("input",{type:"number",className:"form-control",name:"phonenumber",placeholder:"Enter Phone Number",value:ae.phonenumber,onChange:re,required:!0})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Email"})}),(0,r.jsx)("input",{type:"email",className:"form-control",name:"email",placeholder:"Enter Email Address",value:ae.email,onChange:re,required:!0})]}),"64622470b201a6f07b2dff22"==de&&(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Sales Advisor List"})}),(0,r.jsxs)("select",{className:"form-control",name:"agent",onChange:e=>oe(e.target.value),required:!0,children:[(0,r.jsx)("option",{value:"",hidden:!0,children:"Select Sales Advisor"}),ce.map(((e,a)=>(0,r.jsx)("option",{value:e.value,children:e.label},a)))]})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Name"})}),(0,r.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Enter Name",value:ae.name,onChange:re,required:!0})]})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary mt-2 submit_all",style:{float:"right"},children:"Submit"})})})]})})})})})})}),(0,r.jsx)(l.A.Footer,{children:(0,r.jsx)(o.A,{variant:"secondary",onClick:()=>J(!1),children:"Close"})})]})]})}},20522:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var s=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),r=t(84217),d=t(53519),c=t(61072),h=t(14282),p=t(86178),m=t.n(p),u=t(70579);const g=function(e){let{filterOptions:a,defaultOptions:t,updateSharedData:n}=e;const p=(0,o.Zp)(),[g,j]=(0,s.useState)([]),[x,y]=(0,s.useState)([]),[f,v]=(0,s.useState)([]),[b,_]=(0,s.useState)([]),[N]=(0,s.useState)(5),[S,A]=(0,s.useState)(0),[C,w]=(0,s.useState)(1),[k,T]=(0,s.useState)(!1),[O,D]=(0,s.useState)(""),[L,P]=(0,s.useState)(""),[I,F]=(0,s.useState)(""),[J,B]=(0,s.useState)([]),[E,R]=(0,s.useState)("");(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?p("/login"):(z(C,N),H(),M())}),[a]);const z=async(e,s)=>{let n=a.location,l=a.lob,o=a.businessType,i=a.agent,r=a.dateRange,d=t.startdate,c=t.enddate;n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):[],l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):[],o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):[],i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultagent.map((e=>e.value));const h=localStorage.getItem("token"),p=JSON.parse(localStorage.getItem("user")).usertype,m={method:"POST",body:JSON.stringify({page:e,limit:s,location:n,lob:l,business_type:o,newagent:i,dateRange:r,startdate:d,enddate:c}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};"646224eab201a6f07b2dff36"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=LostDropped",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);A(t);const n=e.data;j(n)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=LostDropped&dashboardType=salesAdvisorDashboard",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);A(t);const n=e.data;j(n)})).catch((e=>{console.log(e)}))},H=async()=>{const e=JSON.parse(localStorage.getItem("user")).usertype;let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_lead_status_name?type=salesAdvisor",{method:"post",body:JSON.stringify({usertype:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),y(a.data)},V=(C-1)*N,M=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getDocumentChaser",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].name,value:a[n]._id};s.push(e)}B(s)}))},$=e=>{e.preventDefault();const a=JSON.parse(localStorage.getItem("user"))._id,t="{}"===JSON.stringify(I)?null:I,s="{}"===JSON.stringify(L)?null:L,l=""===E?null:E,o=new Set(Object.keys(t||{}).concat(Object.keys(s||{}),Object.keys(l||{})));for(const i of o){const e=I[i],t=L[i],s=E[i],l={method:"POST",body:JSON.stringify({id:i,direct_payment:e,lead_status:t,forward_to:s,assigningagent:a}),headers:{"Content-Type":"application/json"}};fetch("https://insuranceapi-3o5t.onrender.com/api/update_new_lead_details",l).then((e=>e.json())).then((e=>{z(C,N),n(z(C,N))}))}},G=e=>{const a=J.find((a=>a.value===e));return a?a.label:""};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.A,{children:(0,u.jsxs)(i.A.Item,{eventKey:"1",children:[(0,u.jsx)(i.A.Header,{children:(0,u.jsx)("div",{className:"card-header new_leads",children:(0,u.jsx)("strong",{children:"Dropped & Lost Leads"})})}),(0,u.jsxs)(i.A.Body,{style:{padding:"2px"},children:[(0,u.jsxs)("table",{className:"table solid",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"table-info",children:[(0,u.jsx)("th",{scope:"col",children:"Sr"}),(0,u.jsx)("th",{scope:"col",children:"Name"}),(0,u.jsx)("th",{scope:"col",children:"Phone No."}),(0,u.jsx)("th",{scope:"col",children:"Email-ID"}),(0,u.jsx)("th",{scope:"col",children:"Assigned Date & Time"}),(0,u.jsx)("th",{scope:"col",children:"Aging (as of today)"}),(0,u.jsx)("th",{scope:"col",children:"Type of Policy"}),(0,u.jsx)("th",{scope:"col",children:"Direct Payment"}),(0,u.jsx)("th",{scope:"col",children:"Lead Status"}),(0,u.jsx)("th",{scope:"col",children:"Forward To"}),(0,u.jsx)("th",{scope:"col",children:"Action"})]})}),(0,u.jsx)("tbody",{children:g.length>0?g.map(((e,a)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:V+a+1}),(0,u.jsx)("td",{children:e.name}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`https://wa.me/${e}`;window.open(a)})(e.phoneno),children:e.phoneno})}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`mailto:${e}`;window.open(a)})(e.email),children:e.email})}),(0,u.jsx)("td",{children:e.assign_salesadvisor_timestamp?new Date(e.assign_salesadvisor_timestamp).toString():new Date(e.new_lead_timestamp).toString()}),(0,u.jsx)("td",{children:e.assign_salesadvisor_timestamp?m()(e.assign_salesadvisor_timestamp).fromNow():m()(e.new_lead_timestamp).fromNow()}),(0,u.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",name:"direct_payment",id:"direct_payment",defaultChecked:"true"==e.direct_payment,onChange:a=>{return t=e._id,s=a.target.checked,void F((e=>({...e,[t]:s})));var t,s},required:!0})}),(0,u.jsx)("td",{children:(0,u.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void P((e=>({...e,[t]:s})));var t,s},children:[(0,u.jsx)("option",{value:"",hidden:!0,children:e.lead_status}),x.map(((e,a)=>(0,u.jsx)("option",{value:e.lead_status,children:e.lead_status},a)))]})}),(0,u.jsx)("td",{children:(0,u.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void R((e=>({...e,[t]:s})));var t,s},children:[(0,u.jsx)("option",{value:"",hidden:!0,children:void 0==e.forward_to||""==e.forward_to||null==e.forward_to?"Document Chaser":G(e.forward_to)}),J.map(((e,a)=>(0,u.jsx)("option",{value:e.value,children:e.label},a)))]})}),(0,u.jsxs)("td",{className:"buttons_icons",children:[(0,u.jsx)("button",{type:"button",style:{marginRight:"3px"},className:"btn btn-primary btn-sm",onClick:()=>$(e._id),children:(0,u.jsx)("i",{className:"fa-solid fa-pen-to-square"})}),(0,u.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{D(e);let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_new_lead_detailsbyid",{method:"post",body:JSON.stringify({ParamValue:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),v(a.data[0]),_(a.data[0].policy_type[0].line_of_business_name),T(!0)})(e._id),children:(0,u.jsx)("i",{className:"fa-solid fa-eye"})})]})]},a))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"12",className:"text-center",children:(0,u.jsx)("strong",{children:"No Records Found"})})})})]}),(0,u.jsxs)("section",{children:[(0,u.jsx)("button",{className:"save-btn",onClick:$,children:"Save "}),(0,u.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:S,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const a=e.selected;w(a+1),z(a+1,N,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})]})]})}),(0,u.jsxs)(r.A,{size:"lg",show:k,onHide:()=>T(!1),children:[(0,u.jsx)(r.A.Header,{closeButton:!0,children:(0,u.jsx)(r.A.Title,{children:"Lead Detail"})}),(0,u.jsx)(r.A.Body,{children:(0,u.jsxs)(d.A,{children:[(0,u.jsxs)(c.A,{children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"name",children:"Name"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:f.name})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"email",children:"Email"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:f.email})]})})]}),(0,u.jsxs)(c.A,{children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"phoneno",children:"Phone No."}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"phoneno",name:"phoneno",value:f.phoneno})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"dob",children:"Line Of Business"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"lob",name:"lob",value:b})]})})]})]})}),(0,u.jsx)(r.A.Footer,{children:(0,u.jsx)(h.A,{variant:"secondary",onClick:()=>T(!1),children:"Close"})})]})]})}},12741:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var s=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),r=t(84217),d=t(53519),c=t(61072),h=t(14282),p=t(86178),m=t.n(p),u=t(30710),g=t(70579);const j=function(e){let{filterOptions:a,defaultOptions:t,updateSharedData:n}=e;const p=(0,o.Zp)(),[j,x]=(0,s.useState)([]),[y,f]=(0,s.useState)([]),[v,b]=(0,s.useState)([]),[_,N]=(0,s.useState)([]),[S]=(0,s.useState)(5),[A,C]=(0,s.useState)(0),[w,k]=(0,s.useState)(1),[T,O]=(0,s.useState)(!1),[D,L]=(0,s.useState)(""),[P,I]=(0,s.useState)({}),[F,J]=(0,s.useState)({}),[B,E]=(0,s.useState)([]),[R,z]=(0,s.useState)(""),[H,V]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?p("/login"):(M(w,S),$(),U())}),[a]);const M=async(e,s)=>{V(!0);let n=a.location,l=a.lob,o=a.businessType,i=a.agent,r=a.dateRange,d=t.startdate,c=t.enddate;console.log("from new lead",i),n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):[],l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):[],o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):[],i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultagent.map((e=>e.value));const h=localStorage.getItem("token"),p=JSON.parse(localStorage.getItem("user")).usertype,m={method:"POST",body:JSON.stringify({page:e,limit:s,location:n,lob:l,business_type:o,newagent:i,dateRange:r,startdate:d,enddate:c}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};"646224eab201a6f07b2dff36"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=New",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);C(t);const n=e.data;x(n)})).catch((e=>{console.log(e)})).finally((()=>{V(!1)})),"64622470b201a6f07b2dff22"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=New&dashboardType=salesAdvisorDashboard",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);C(t);const n=e.data;x(n)})).catch((e=>{console.log(e)})).finally((()=>{V(!1)}))},$=async()=>{const e=JSON.parse(localStorage.getItem("user")).usertype;let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_lead_status_name?type=salesAdvisor",{method:"post",body:JSON.stringify({usertype:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),f(a.data)},G=(w-1)*S,U=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getDocumentChaser",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].name,value:a[n]._id};s.push(e)}E(s)}))},q=e=>{const a=B.find((a=>a.value===e));return a?a.label:""};return console.log("newleaddata>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",j),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.A,{defaultActiveKey:"0",flush:!0,children:(0,g.jsxs)(i.A.Item,{eventKey:"0",children:[(0,g.jsx)(i.A.Header,{children:(0,g.jsx)("div",{className:"card-header new_leads",children:(0,g.jsx)("strong",{children:"New Leads"})})}),(0,g.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,g.jsxs)("table",{className:"table solid salesdashboards1234",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{className:"table-info",children:[(0,g.jsx)("th",{scope:"col",children:"Sr"}),(0,g.jsx)("th",{scope:"col",children:"Name"}),(0,g.jsx)("th",{scope:"col",children:"Phone No."}),(0,g.jsx)("th",{scope:"col",children:"Email-ID"}),(0,g.jsx)("th",{scope:"col",children:"Assigned Date & Time"}),(0,g.jsx)("th",{scope:"col",children:"Aging (as of today)"}),(0,g.jsx)("th",{scope:"col",children:"Type of Policy"}),(0,g.jsx)("th",{scope:"col",children:"Business Type"}),(0,g.jsx)("th",{scope:"col",children:"DP"}),(0,g.jsx)("th",{scope:"col",children:"Lead Status"}),(0,g.jsx)("th",{scope:"col",children:"Forward To"}),(0,g.jsx)("th",{scope:"col",children:"Action"})]})}),(0,g.jsx)("tbody",{children:H?(0,g.jsx)("div",{className:"loader-container",children:(0,g.jsx)(u.A,{color:"#ED1C24",loading:H,size:50})}):(0,g.jsx)(g.Fragment,{children:j.length>0?j.map(((e,a)=>(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{children:G+a+1}),(0,g.jsx)("td",{children:e.name}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`https://wa.me/${e}`;window.open(a)})(e.phoneno),children:e.phoneno})}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`mailto:${e}`;window.open(a)})(e.email),children:e.email})}),(0,g.jsx)("td",{children:e.assign_salesadvisor_timestamp?new Date(e.assign_salesadvisor_timestamp).toString():new Date(e.new_lead_timestamp).toString()}),(0,g.jsx)("td",{children:e.assign_salesadvisor_timestamp?m()(e.assign_salesadvisor_timestamp).fromNow():m()(e.new_lead_timestamp).fromNow()}),(0,g.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,g.jsx)("td",{children:e.business_type}),(0,g.jsx)("td",{children:(0,g.jsx)("input",{type:"checkbox",name:"direct_payment",id:"direct_payment",defaultChecked:"true"==e.direct_payment,onChange:a=>{return t=e._id,s=a.target.checked,void J((e=>({...e,[t]:s})));var t,s},required:!0})}),(0,g.jsx)("td",{children:(0,g.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void I((e=>({...e,[t]:s})));var t,s},children:[(0,g.jsx)("option",{value:"",hidden:!0,children:e.lead_status}),y.map(((e,a)=>(0,g.jsx)("option",{value:e.lead_status,children:e.lead_status},a)))]})}),(0,g.jsx)("td",{children:(0,g.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void z((e=>({...e,[t]:s})));var t,s},children:[(0,g.jsx)("option",{value:"",hidden:!0,children:void 0==e.forward_to||""==e.forward_to||null==e.forward_to?"Document Chaser":q(e.forward_to)}),B.map(((e,a)=>(0,g.jsx)("option",{value:e.value,children:e.label},a)))]})}),(0,g.jsx)("td",{className:"buttons_icons",children:(0,g.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{L(e);let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_new_lead_detailsbyid",{method:"post",body:JSON.stringify({ParamValue:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),b(a.data[0]),N(a.data[0].policy_type[0].line_of_business_name),O(!0)})(e._id),children:(0,g.jsx)("i",{className:"fa-solid fa-eye"})})})]},a))):(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:"12",className:"text-center",children:(0,g.jsx)("strong",{children:"No Records Found"})})})})})]}),(0,g.jsxs)("section",{children:[(0,g.jsx)("button",{className:"save-btn",onClick:e=>{e.preventDefault();const a=JSON.parse(localStorage.getItem("user"))._id,t="{}"===JSON.stringify(F)?null:F,s="{}"===JSON.stringify(P)?null:P,l=""===R?null:R,o=new Set(Object.keys(t||{}).concat(Object.keys(s||{}),Object.keys(l||{})));for(const i of o){const e=F[i],t=P[i],s=R[i],l={method:"POST",body:JSON.stringify({id:i,direct_payment:e,lead_status:t,forward_to:s,assigningagent:a}),headers:{"Content-Type":"application/json"}};fetch("https://insuranceapi-3o5t.onrender.com/api/update_new_lead_details",l).then((e=>e.json())).then((e=>{M(w,S),n(M(w,S))})).catch((e=>{console.log(e)}))}},children:"Save "}),(0,g.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:A,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const a=e.selected;k(a+1),M(a+1,S,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})]})]})}),(0,g.jsxs)(r.A,{size:"lg",show:T,onHide:()=>O(!1),children:[(0,g.jsx)(r.A.Header,{closeButton:!0,children:(0,g.jsx)(r.A.Title,{children:"Lead Detail"})}),(0,g.jsx)(r.A.Body,{children:(0,g.jsxs)(d.A,{children:[(0,g.jsxs)(c.A,{children:[(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"name",children:"Name"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:v.name})]})}),(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"email",children:"Email"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:v.email})]})})]}),(0,g.jsxs)(c.A,{children:[(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"phoneno",children:"Phone No."}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"phoneno",name:"phoneno",value:v.phoneno})]})}),(0,g.jsx)("div",{className:"col-md-6",children:(0,g.jsxs)("div",{className:"form-group",children:[(0,g.jsx)("label",{htmlFor:"dob",children:"Line Of Business"}),(0,g.jsx)("input",{type:"text",className:"form-control",id:"lob",name:"lob",value:_})]})})]})]})}),(0,g.jsx)(r.A.Footer,{children:(0,g.jsx)(h.A,{variant:"secondary",onClick:()=>O(!1),children:"Close"})})]})]})}},23309:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var s=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),r=t(84217),d=t(53519),c=t(61072),h=t(14282),p=t(86178),m=t.n(p),u=t(70579);const g=function(e){let{filterOptions:a,defaultOptions:t,updateSharedData:n}=e;const p=(0,o.Zp)(),[g,j]=(0,s.useState)([]),[x,y]=(0,s.useState)([]),[f,v]=(0,s.useState)([]),[b,_]=(0,s.useState)([]),[N]=(0,s.useState)(5),[S,A]=(0,s.useState)(0),[C,w]=(0,s.useState)(1),[k,T]=(0,s.useState)(!1),[O,D]=(0,s.useState)(""),[L,P]=(0,s.useState)({}),[I,F]=(0,s.useState)({}),[J,B]=(0,s.useState)([]),[E,R]=(0,s.useState)("");(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?p("/login"):(z(C,N),H(),M())}),[a]);const z=async(e,s)=>{let n=a.location,l=a.lob,o=a.businessType,i=a.agent,r=a.dateRange,d=t.startdate,c=t.enddate;n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):[],l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):[],o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):[],i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultagent.map((e=>e.value));const h=localStorage.getItem("token"),p=JSON.parse(localStorage.getItem("user")).usertype,m={method:"POST",body:JSON.stringify({page:e,limit:s,location:n,lob:l,business_type:o,newagent:i,dateRange:r,startdate:d,enddate:c}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};"646224eab201a6f07b2dff36"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=pendingPolicues",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);A(t);const n=e.data;j(n)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=pendingPolicues&dashboardType=salesAdvisorDashboard",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);A(t);const n=e.data;j(n)})).catch((e=>{console.log(e)}))},H=async()=>{const e=JSON.parse(localStorage.getItem("user")).usertype;let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_lead_status_name?type=salesAdvisor",{method:"post",body:JSON.stringify({usertype:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),y(a.data)},V=(C-1)*N,M=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getDocumentChaser",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].name,value:a[n]._id};s.push(e)}B(s)}))};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.A,{children:(0,u.jsxs)(i.A.Item,{eventKey:"1",children:[(0,u.jsx)(i.A.Header,{children:(0,u.jsx)("div",{className:"card-header new_leads",children:(0,u.jsx)("strong",{children:"Pending For Issuance"})})}),(0,u.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,u.jsxs)("table",{className:"table solid salesdashboards1234",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"table-info",children:[(0,u.jsx)("th",{scope:"col",children:"Sr#"}),(0,u.jsx)("th",{scope:"col",children:"Name"}),(0,u.jsx)("th",{scope:"col",children:"Phone No."}),(0,u.jsx)("th",{scope:"col",children:"Email-ID"}),(0,u.jsx)("th",{scope:"col",children:"Assigned Date & Time"}),(0,u.jsx)("th",{scope:"col",children:"Aging (as of today)"}),(0,u.jsx)("th",{scope:"col",children:"Type of Policy"}),(0,u.jsx)("th",{scope:"col",children:"DP"}),(0,u.jsx)("th",{scope:"col",children:"Assigned Stage"}),(0,u.jsx)("th",{scope:"col",children:"Assigned To"}),(0,u.jsx)("th",{scope:"col",children:"Action"})]})}),(0,u.jsx)("tbody",{children:g.length>0?g.map(((e,a)=>{var t,s,n,l,o,i;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:V+a+1}),(0,u.jsx)("td",{children:e.name}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`https://wa.me/${e}`;window.open(a)})(e.phoneno),children:e.phoneno})}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`mailto:${e}`;window.open(a)})(e.email),children:e.email})}),(0,u.jsx)("td",{children:e.assign_salesadvisor_timestamp?new Date(e.assign_salesadvisor_timestamp).toString():new Date(e.new_lead_timestamp).toString()}),(0,u.jsx)("td",{children:e.assign_salesadvisor_timestamp?m()(e.assign_salesadvisor_timestamp).fromNow():m()(e.new_lead_timestamp).fromNow()}),(0,u.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",name:"direct_payment",id:"direct_payment",defaultChecked:"true"==e.direct_payment,onChange:a=>{return t=e._id,s=a.target.checked,void F((e=>({...e,[t]:s})));var t,s},required:!0,readOnly:!0})}),(0,u.jsx)("td",{children:""!=e.assigned_agent_info?""!=e.forward_to_info?""!=e.dc_forward_to_info?(null===(t=e.dcforward_to_type_info[0])||void 0===t?void 0:t.usertype)||"-":(null===(s=e.forward_to_type_info[0])||void 0===s?void 0:s.usertype)||"-":(null===(n=e.assigned_type_info[0])||void 0===n?void 0:n.usertype)||"-":"-"}),(0,u.jsx)("td",{children:""!=e.assigned_agent_info?""!=e.forward_to_info?""!=e.dc_forward_to_info?(null===(l=e.dc_forward_to_info[0])||void 0===l?void 0:l.name)||"-":(null===(o=e.forward_to_info[0])||void 0===o?void 0:o.name)||"-":(null===(i=e.assigned_agent_info[0])||void 0===i?void 0:i.name)||"-":"-"}),(0,u.jsx)("td",{className:"buttons_icons",children:(0,u.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{D(e);let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_new_lead_detailsbyid",{method:"post",body:JSON.stringify({ParamValue:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),v(a.data[0]),_(a.data[0].policy_type[0].line_of_business_name),T(!0)})(e._id),children:(0,u.jsx)("i",{className:"fa-solid fa-eye"})})})]},a)})):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"12",className:"text-center",children:(0,u.jsx)("strong",{children:"No Records Found"})})})})]}),(0,u.jsx)("section",{children:(0,u.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:S,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const a=e.selected;w(a+1),z(a+1,N,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})}),(0,u.jsxs)(r.A,{size:"lg",show:k,onHide:()=>T(!1),children:[(0,u.jsx)(r.A.Header,{closeButton:!0,children:(0,u.jsx)(r.A.Title,{children:"Lead Detail"})}),(0,u.jsx)(r.A.Body,{children:(0,u.jsxs)(d.A,{children:[(0,u.jsxs)(c.A,{children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"name",children:"Name"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:f.name})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"email",children:"Email"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:f.email})]})})]}),(0,u.jsxs)(c.A,{children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"phoneno",children:"Phone No."}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"phoneno",name:"phoneno",value:f.phoneno})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"dob",children:"Line Of Business"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"lob",name:"lob",value:b})]})})]})]})}),(0,u.jsx)(r.A.Footer,{children:(0,u.jsx)(h.A,{variant:"secondary",onClick:()=>T(!1),children:"Close"})})]})]})}},51320:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var s=t(65043),n=t(73216),l=t(12488),o=(t(84596),t(93946)),i=t(70579);const r=function(e){let{filterOptions:a,defaultOptions:t}=e;const r=(0,n.Zp)(),[d,c]=(0,s.useState)(0),[h,p]=(0,s.useState)(0),[m,u]=(0,s.useState)(0),[g,j]=(0,s.useState)(0),[x,y]=(0,s.useState)(0);(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?r("/login"):f()}),[a]);const f=async()=>{const e=JSON.parse(localStorage.getItem("user"));let s=a.location,n=a.lob,l=a.businessType,o=a.agent,i=a.dateRange,r=t.startdate,d=t.enddate,h=e.assign_staff,m=t.userType;s=null!=s&&void 0!=s&&Array.isArray(s)&&0!==s.length?s.map((e=>e.value)):[],n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):[],l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):[],o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):t.defaultagent.map((e=>e.value));const g=localStorage.getItem("token"),x=JSON.parse(localStorage.getItem("user")).usertype;console.log("loginusertype",x);const f={method:"POST",body:JSON.stringify({location:s,lob:n,business_type:l,newagent:o,dateRange:i,startdate:r,enddate:d,assign_staff:h,userType:m}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+g}};"646224eab201a6f07b2dff36"==x&&await fetch("https://insuranceapi-3o5t.onrender.com/api/topLeagentCount",f).then((e=>e.json())).then((e=>{console.log("data",e.data),c(e.data.totalCount),p(e.data.closeLeadCount),u(e.data.totalPremiumEarned),y(e.data.lostCount),j(e.data.saleAdvisorPendingCount)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==x&&await fetch("https://insuranceapi-3o5t.onrender.com/api/topLeagentCount?dashboardType=salesAdvisorDashboard",f).then((e=>e.json())).then((e=>{console.log("data",e.data),c(e.data.totalCount),p(e.data.closeLeadCount),u(e.data.totalPremiumEarned),y(e.data.lostCount),j(e.data.saleAdvisorPendingCount)})).catch((e=>{console.log(e)}))};return console.log("totalcount",d),console.log("closeLeadCount",h),console.log("totalPremiumEarned",m),console.log("lost",x),console.log("pending",g),(0,i.jsx)("div",{children:(0,i.jsxs)(l.default,{className:"carousel_abcds",margin:30,swipeable:!1,draggable:!0,showDots:!0,responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:6},desktop:{breakpoint:{max:3e3,min:1024},items:6},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:[(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Assigned Leads",value:null!=d?d:"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:"Closed",value:null!=h?h:"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Premium earned",value:null!=m?m:"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Pending",value:null!=g?g:"0"})}),(0,i.jsx)(o.UF,{xs:2,class:"item",children:(0,i.jsx)(o.U0,{width:36,className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:"Lost",value:null!=x?x:"0"})})]})})}},38774:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var s=t(65043),n=t(92157),l=t.n(n),o=t(73216),i=t(1177),r=t(84217),d=t(53519),c=t(61072),h=t(14282),p=t(86178),m=t.n(p),u=t(70579);const g=function(e){let{filterOptions:a,defaultOptions:t,updateSharedData:n}=e;const p=(0,o.Zp)(),[g,j]=(0,s.useState)([]),[x,y]=(0,s.useState)([]),[f,v]=(0,s.useState)([]),[b,_]=(0,s.useState)([]),[N]=(0,s.useState)(5),[S,A]=(0,s.useState)(0),[C,w]=(0,s.useState)(1),[k,T]=(0,s.useState)(!1),[O,D]=(0,s.useState)(""),[L,P]=(0,s.useState)(""),[I,F]=(0,s.useState)(""),[J,B]=(0,s.useState)([]),[E,R]=(0,s.useState)("");(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?p("/login"):(z(C,N),H(),M())}),[a]);const z=async(e,s)=>{let n=a.location,l=a.lob,o=a.businessType,i=a.agent,r=a.dateRange,d=t.startdate,c=t.enddate;n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):[],l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):[],o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):[],i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultagent.map((e=>e.value));const h=localStorage.getItem("token"),p=JSON.parse(localStorage.getItem("user")).usertype,m={method:"POST",body:JSON.stringify({page:e,limit:s,location:n,lob:l,business_type:o,newagent:i,dateRange:r,startdate:d,enddate:c}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};"646224eab201a6f07b2dff36"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Warm",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);A(t);const n=e.data;j(n)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Warm&dashboardType=salesAdvisorDashboard",m).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);A(t);const n=e.data;j(n)})).catch((e=>{console.log(e)}))},H=async()=>{const e=JSON.parse(localStorage.getItem("user")).usertype;let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_lead_status_name?type=salesAdvisor",{method:"post",body:JSON.stringify({usertype:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),y(a.data)},V=(C-1)*N,M=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getDocumentChaser",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].name,value:a[n]._id};s.push(e)}B(s)}))},$=e=>{const a=J.find((a=>a.value===e));return a?a.label:""};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.A,{children:(0,u.jsxs)(i.A.Item,{eventKey:"1",children:[(0,u.jsx)(i.A.Header,{children:(0,u.jsx)("div",{className:"card-header new_leads",children:(0,u.jsx)("strong",{children:"Warm Leads"})})}),(0,u.jsxs)(i.A.Body,{style:{padding:"2px"},children:[(0,u.jsxs)("table",{className:"table solid",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{className:"table-info",children:[(0,u.jsx)("th",{scope:"col",children:"Sr"}),(0,u.jsx)("th",{scope:"col",children:"Name"}),(0,u.jsx)("th",{scope:"col",children:"Phone No."}),(0,u.jsx)("th",{scope:"col",children:"Email-ID"}),(0,u.jsx)("th",{scope:"col",children:"Assigned Date & Time"}),(0,u.jsx)("th",{scope:"col",children:"Aging (as of today)"}),(0,u.jsx)("th",{scope:"col",children:"Type of Policy"}),(0,u.jsx)("th",{scope:"col",children:"Direct Payment"}),(0,u.jsx)("th",{scope:"col",children:"Lead Status"}),(0,u.jsx)("th",{scope:"col",children:"Forward To"}),(0,u.jsx)("th",{scope:"col",children:"Action"})]})}),(0,u.jsx)("tbody",{children:g.length>0?g.map(((e,a)=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:V+a+1}),(0,u.jsx)("td",{children:e.name}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`https://wa.me/${e}`;window.open(a)})(e.phoneno),children:e.phoneno})}),(0,u.jsx)("td",{children:(0,u.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`mailto:${e}`;window.open(a)})(e.email),children:e.email})}),(0,u.jsx)("td",{children:new Date(e.new_lead_timestamp).toUTCString()}),(0,u.jsx)("td",{children:m()(e.new_lead_timestamp).fromNow()}),(0,u.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,u.jsx)("td",{children:(0,u.jsx)("input",{type:"checkbox",name:"direct_payment",id:"direct_payment",defaultChecked:"true"==e.direct_payment,onChange:a=>{return t=e._id,s=a.target.checked,void F((e=>({...e,[t]:s})));var t,s},required:!0})}),(0,u.jsx)("td",{children:(0,u.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void P((e=>({...e,[t]:s})));var t,s},children:[(0,u.jsx)("option",{value:"",hidden:!0,children:e.lead_status}),x.map(((e,a)=>(0,u.jsx)("option",{value:e.lead_status,children:e.lead_status},a)))]})}),(0,u.jsx)("td",{children:(0,u.jsxs)("select",{name:"lead_status",id:"lead_status",onChange:a=>{return t=e._id,s=a.target.value,void R((e=>({...e,[t]:s})));var t,s},children:[(0,u.jsx)("option",{value:"",hidden:!0,children:void 0==e.forward_to||""==e.forward_to||null==e.forward_to?"Document Chaser":$(e.forward_to)}),J.map(((e,a)=>(0,u.jsx)("option",{value:e.value,children:e.label},a)))]})}),(0,u.jsx)("td",{className:"buttons_icons",children:(0,u.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{D(e);let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_new_lead_detailsbyid",{method:"post",body:JSON.stringify({ParamValue:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),v(a.data[0]),_(a.data[0].policy_type[0].line_of_business_name),T(!0)})(e._id),children:(0,u.jsx)("i",{className:"fa-solid fa-eye"})})})]},a))):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"12",className:"text-center",children:(0,u.jsx)("strong",{children:"No Records Found"})})})})]}),(0,u.jsxs)("section",{children:[(0,u.jsx)("button",{className:"save-btn",onClick:e=>{e.preventDefault();const a=JSON.parse(localStorage.getItem("user"))._id,t="{}"===JSON.stringify(I)?null:I,s="{}"===JSON.stringify(L)?null:L,l=""===E?null:E,o=new Set(Object.keys(t||{}).concat(Object.keys(s||{}),Object.keys(l||{})));for(const i of o){const e=I[i],t=L[i],s=E[i],l={method:"POST",body:JSON.stringify({id:i,direct_payment:e,lead_status:t,forward_to:s,assigningagent:a}),headers:{"Content-Type":"application/json"}};fetch("https://insuranceapi-3o5t.onrender.com/api/update_new_lead_details",l).then((e=>e.json())).then((e=>{console.log(e),z(C,N),n(z(C,N))}))}},children:"Save "}),(0,u.jsx)(l(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:S,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const a=e.selected;w(a+1),z(a+1,N,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})]})]})}),(0,u.jsxs)(r.A,{size:"lg",show:k,onHide:()=>T(!1),children:[(0,u.jsx)(r.A.Header,{closeButton:!0,children:(0,u.jsx)(r.A.Title,{children:"Lead Detail"})}),(0,u.jsx)(r.A.Body,{children:(0,u.jsxs)(d.A,{children:[(0,u.jsxs)(c.A,{children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"name",children:"Name"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:f.name})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"email",children:"Email"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:f.email})]})})]}),(0,u.jsxs)(c.A,{children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"phoneno",children:"Phone No."}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"phoneno",name:"phoneno",value:f.phoneno})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{htmlFor:"dob",children:"Line Of Business"}),(0,u.jsx)("input",{type:"text",className:"form-control",id:"lob",name:"lob",value:b})]})})]})]})}),(0,u.jsx)(r.A.Footer,{children:(0,u.jsx)(h.A,{variant:"secondary",onClick:()=>T(!1),children:"Close"})})]})]})}},11798:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var s=t(65043),n=(t(93946),t(54168)),l=t(49456),o=(t(93204),t(66097),t(61072)),i=t(78602),r=t(84217),d=t(53519),c=t(14282),h=(t(82768),t(91033),t(98465),t(73216)),p=t(51320),m=(t(12741),t(67594),t(38774),t(17835),t(23309),t(93),t(20522),t(21528),t(41452)),u=t(70579);const g=()=>{var e,a;const t=(0,h.Zp)(),[g,j]=(0,s.useState)(""),[x,y]=(0,s.useState)([]),[f,v]=(0,s.useState)(),[b,_]=(0,s.useState)([]),[N,S]=(0,s.useState)(),[A,C]=(0,s.useState)([]),[w,k]=(0,s.useState)(),[T,O]=(0,s.useState)([]),[D,L]=(0,s.useState)(),[P,I]=(0,s.useState)("daily"),[F,J]=(0,s.useState)(!1),[B,E]=(0,s.useState)(new Date),[R,z]=(0,s.useState)(new Date),[H,V]=(0,s.useState)([]);(0,s.useEffect)((()=>{}),[g]),(0,s.useEffect)((()=>{const e=localStorage.getItem("token");if(null===e||void 0===e||""===e)t("/login");else{const e=JSON.parse(localStorage.getItem("user"));console.log(e);const a=e.admin_business_type;if(a.length>0){const e=a,t=e.length,s=[];for(let a=0;a<t;a++){let t;t=e[a].type,t=t.split(" ");const n={label:e[a].type,value:t[0]};s.push(n)}C(s)}else{C([{label:"New Business",value:"New"},{label:"Renewal Business",value:"Renewal"}])}M(),$(),U(),q();const t=JSON.parse(localStorage.getItem("dashboardCounts"));t&&V(t)}}),[]);const M=()=>{const e=JSON.parse(localStorage.getItem("user")).location;if(e.length>0){const a=e,t=a.length,s=[];for(let e=0;e<t;e++){const t={label:a[e].loc_name,value:a[e].loc_id};s.push(t)}y(s)}else{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].location_name,value:a[n]._id};s.push(e)}y(s)}))}},$=()=>{const e=JSON.parse(localStorage.getItem("user")).line_of_business;if(e.length>0){const a=e,t=a.length,s=[];for(let e=0;e<t;e++){const t={label:a[e].lob_name,value:a[e].lob_id};s.push(t)}_(s)}else{fetch("https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].line_of_business_name,value:a[n]._id};s.push(e)}_(s)}))}},G=JSON.parse(localStorage.getItem("user")).usertype;console.log("loginusertype>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",G),console.log("agent>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",T);const U=()=>{const e=JSON.parse(localStorage.getItem("user"));e._id;if("646224eab201a6f07b2dff36"===G){const a={label:e.name,value:e._id},t=[];t.push(a),O(t)}if("64622470b201a6f07b2dff22"===G){const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}};fetch("https://insuranceapi-3o5t.onrender.com/api/getUserAccordingUserType?userType=salesAdvisor",e).then((e=>e.json())).then((e=>{console.log("adminagent>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",e.data);const a=e.data,t=a.length,s=[];for(let n=0;n<t;n++){const e={label:a[n].name,value:a[n]._id};s.push(e)}O(s)}))}},q=()=>{const e=JSON.parse(localStorage.getItem("user")),a=e.usertype,t=e._id,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({usertype:a,userid:t})};fetch("https://insuranceapi-3o5t.onrender.com/api/get_dashboard_count",s).then((e=>e.json())).then((e=>{localStorage.setItem("dashboardCounts",JSON.stringify(e)),V(e)}))},Z=e=>{I(e)},W={defaultlocation:x,defaultlob:b,defaultbusinessType:A,defaultagent:T,defaultdateRange:P,startdate:B,enddate:R},K=(e,a)=>{switch(e){case"location":v(a);break;case"lob":S(a);break;case"businessType":k(a);break;case"agent":L(a)}},Y={location:f,lob:N,businessType:w,agent:D,dateRange:P};return console.log("default>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",T),console.log("selectedAgent>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",D),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("section",{className:"mb-2",children:(0,u.jsxs)(o.A,{children:[(0,u.jsx)(i.A,{className:"",sm:5,children:(0,u.jsx)("h4",{id:"dashboard",className:"card-title mb-0",children:"Dashboard"})}),(0,u.jsx)(i.A,{sm:7,className:"d-none d-md-block",children:(0,u.jsxs)("div",{className:"float-end me-3",children:[(0,u.jsx)("button",{onClick:()=>Z("daily"),className:""+("daily"===P?"btn btn-selected":"btn btn-light"),children:"Daily"}),(0,u.jsx)("button",{onClick:()=>Z("weekly"),className:""+("weekly"===P?"btn btn-selected":"btn btn-light"),children:"Weekly"}),(0,u.jsx)("button",{onClick:()=>Z("monthly"),className:""+("monthly"===P?"btn btn-selected":"btn btn-light"),children:"Monthly"}),(0,u.jsx)("button",{onClick:()=>Z("yearly"),className:""+("yearly"===P?"btn btn-selected":"btn btn-light"),children:"Yearly"}),(0,u.jsx)("button",{onClick:()=>{J(!0),I("customized")},className:""+("customized"===P?"btn btn-selected":"btn btn-light"),children:"Customized"})]})}),(0,u.jsx)(i.A,{className:"mb-3",sm:3,children:(0,u.jsx)("div",{children:(null===(e=W.defaultlocation)||void 0===e?void 0:e.length)<2?(0,u.jsx)(n.default,{options:W.defaultlocation,displayValue:"label",selectedValues:W.defaultlocation,showArrow:!1}):(0,u.jsx)(n.default,{options:W.defaultlocation,displayValue:"label",onSelect:e=>K("location",e),onRemove:e=>K("location",e),placeholder:"Select location",selectedValues:f,showArrow:!0})})}),(0,u.jsx)(i.A,{className:"mb-3",sm:3,children:(0,u.jsx)("div",{children:(null===(a=W.defaultbusinessType)||void 0===a?void 0:a.length)<2?(0,u.jsx)(n.default,{options:W.defaultbusinessType,displayValue:"label",selectedValues:W.defaultbusinessType,showArrow:!1}):(0,u.jsx)(n.default,{options:W.defaultbusinessType,displayValue:"label",onSelect:e=>K("businessType",e),onRemove:e=>K("businessType",e),placeholder:"Select business type",selectedValues:w,showArrow:!0})})}),(0,u.jsx)(i.A,{className:"mb-3",sm:3,children:(0,u.jsx)("div",{children:W.defaultlob.length<2?(0,u.jsx)(n.default,{options:W.defaultlob,displayValue:"label",selectedValues:W.defaultlob,showArrow:!1}):(0,u.jsx)(n.default,{options:W.defaultlob,displayValue:"label",onSelect:e=>K("lob",e),onRemove:e=>K("lob",e),placeholder:"Select line of business",selectedValues:N,showArrow:!0})})}),(0,u.jsx)(i.A,{className:"mb-3",sm:3,children:(0,u.jsx)("div",{children:W.defaultagent.length<2?(0,u.jsx)(n.default,{options:W.defaultagent,displayValue:"label",selectedValues:W.defaultagent,showArrow:!1}):(0,u.jsx)(n.default,{options:W.defaultagent,displayValue:"label",onSelect:e=>K("agent",e),onRemove:e=>K("agent",e),placeholder:"Select Agents",selectedValues:D,showArrow:!0})})})]})}),(0,u.jsx)("section",{className:"mb-3",children:(0,u.jsx)(o.A,{children:(0,u.jsx)(p.default,{defaultOptions:W,filterOptions:Y})})}),(0,u.jsx)("section",{className:"tables",children:(0,u.jsx)(o.A,{children:(0,u.jsx)(i.A,{className:"",lg:12,id:"newlead",children:(0,u.jsx)(m.default,{defaultOptions:W,filterOptions:Y})})})}),(0,u.jsxs)(r.A,{size:"lg",show:F,onHide:()=>J(!1),children:[(0,u.jsx)(r.A.Header,{closeButton:!0,children:(0,u.jsx)(r.A.Title,{children:"Custom Dates"})}),(0,u.jsx)(r.A.Body,{children:(0,u.jsxs)(d.A,{children:[(0,u.jsxs)(o.A,{children:[(0,u.jsx)("label",{htmlFor:"",children:"From"}),(0,u.jsx)(l.A,{onChange:E,value:B,format:"dd/MM/yyyy",autoFocus:!0,inline:!0,calendarClassName:"custom-datepicker",closeCalendar:!1})]}),(0,u.jsxs)(o.A,{children:[(0,u.jsx)("label",{htmlFor:"",children:"To"}),(0,u.jsx)(l.A,{onChange:z,value:R,format:"dd/MM/yyyy",autoFocus:!0,inline:!0,calendarClassName:"custom-datepicker",closeCalendar:!1})]})]})}),(0,u.jsx)(r.A.Footer,{children:(0,u.jsx)(c.A,{variant:"secondary",onClick:()=>J(!1),children:"Close"})})]})]})}},30710:(e,a,t)=>{t.d(a,{A:()=>d});var s=t(65043),n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function l(e){var a=function(e){if("number"===typeof e)return{value:e,unit:"px"};var a,t=(e.match(/^[0-9.]*/)||"").toString();a=t.includes(".")?parseFloat(t):parseInt(t,10);var s=(e.match(/[^0-9]*$/)||"").toString();return n[s]?{value:a,unit:s}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(a,"px.")),{value:a,unit:"px"})}(e);return"".concat(a.value).concat(a.unit)}var o=function(){return o=Object.assign||function(e){for(var a,t=1,s=arguments.length;t<s;t++)for(var n in a=arguments[t])Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e},o.apply(this,arguments)},i=function(e,a){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&a.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]])}return t},r=function(e,a,t){var s="react-spinners-".concat(e,"-").concat(t);if("undefined"==typeof window||!window.document)return s;var n=document.createElement("style");document.head.appendChild(n);var l=n.sheet,o="\n    @keyframes ".concat(s," {\n      ").concat(a,"\n    }\n  ");return l&&l.insertRule(o,0),s}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const d=function(e){var a=e.loading,t=void 0===a||a,n=e.color,d=void 0===n?"#000000":n,c=e.speedMultiplier,h=void 0===c?1:c,p=e.cssOverride,m=void 0===p?{}:p,u=e.size,g=void 0===u?35:u,j=i(e,["loading","color","speedMultiplier","cssOverride","size"]),x=o({background:"transparent !important",width:l(g),height:l(g),borderRadius:"100%",border:"2px solid",borderTopColor:d,borderBottomColor:"transparent",borderLeftColor:d,borderRightColor:d,display:"inline-block",animation:"".concat(r," ").concat(.75/h,"s 0s infinite linear"),animationFillMode:"both"},m);return t?s.createElement("span",o({style:x},j)):null}}}]);
//# sourceMappingURL=455.e5e6f52b.chunk.js.map