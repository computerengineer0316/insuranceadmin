"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4999],{4999:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(65043),s=a(92157),o=a.n(s),i=a(73216),r=a(1177),l=a(86178),d=a.n(l),c=a(73023),u=a.n(c),p=a(30710),h=a(70579);const m=function(e){let{filterOptions:t,defaultOptions:a,updateSharedData:s}=e;const l=(0,i.Zp)(),[c]=(0,n.useState)(5),[m,g]=(0,n.useState)(0),[f,b]=(0,n.useState)(1),[v,y]=(0,n.useState)([]),[j,x]=(0,n.useState)({}),[S,_]=(0,n.useState)(!1),[w,N]=(0,n.useState)({}),[C,k]=(0,n.useState)([]),[O,A]=(0,n.useState)([]),[T,L]=(0,n.useState)(""),[P,R]=(0,n.useState)([]),[I,D]=(0,n.useState)(""),[M,E]=(0,n.useState)(""),[F,J]=(0,n.useState)([]),[$,B]=(0,n.useState)(""),[z,H]=(0,n.useState)(""),[U,K]=(0,n.useState)([]),[V,Y]=(0,n.useState)(""),[G,Z]=(0,n.useState)(""),[q,Q]=(0,n.useState)([]),[W,X]=(0,n.useState)(""),[ee,te]=(0,n.useState)(""),[ae,ne]=(0,n.useState)([]),[se,oe]=(0,n.useState)(""),[ie,re]=(0,n.useState)(""),[le,de]=(0,n.useState)([]),[ce,ue]=(0,n.useState)(""),[pe,he]=(0,n.useState)(""),[me,ge]=(0,n.useState)([]),[fe,be]=(0,n.useState)("Pending"),[ve,ye]=(0,n.useState)(""),[je,xe]=(0,n.useState)(""),[Se,_e]=(0,n.useState)(!1),[we,Ne]=(0,n.useState)(0);(0,n.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?l("/login"):(Te(f,c),Oe(),Ae(),Pe())}),[t]);const Ce=JSON.parse(localStorage.getItem("user")),ke=Ce._id,Oe=(Ce.usertype,async()=>{const e=JSON.parse(localStorage.getItem("user")).usertype;let t=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_lead_status_name",{method:"post",body:JSON.stringify({usertype:e}),headers:{"Content-Type":"application/json"}});t=await t.json(),k(t.data)}),Ae=async()=>{await fetch("https://insuranceapi-3o5t.onrender.com/api/get_Reason_Type_list",{method:"get",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{A(e.data)}))},Te=async(e,n)=>{var s;_e(!0);let o=t.location,i=t.lob,r=t.businessType,l=t.agent,d=t.dateRange,c=a.startdate,u=a.enddate;o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):a.defaultlocation.map((e=>e.value)),i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):a.defaultlob.map((e=>e.value)),r=null!=r&&void 0!=r&&Array.isArray(r)&&0!==r.length?r.map((e=>e.value)):a.defaultbusinessType.map((e=>e.value)),l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):a.defaultagent.map((e=>e.value));const p=localStorage.getItem("token"),h=JSON.parse(localStorage.getItem("user")),m=h.usertype;null===h||void 0===h||null===(s=h.dashboard_permission[0])||void 0===s||s.dc_dashboard;console.log(m);const f={method:"POST",body:JSON.stringify({page:e,limit:n,agentid:ke,location:o,lob:i,business_type:r,newagent:l,dateRange:d,startdate:c,enddate:u}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+p}};"6462250eb201a6f07b2dff3a"!=m&&"646224eab201a6f07b2dff36"!=m&&"646224deb201a6f07b2dff32"!=m&&"64622526b201a6f07b2dff3e"!=m||await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?documentType=pending&dashboardType=documentsChaserDashbord",f).then((e=>e.json())).then((e=>{const t=e.total;Ne(t);const a=t/n,s=Math.ceil(a);g(s);const o=e.data;y(o)})).catch((e=>{console.log(e)})).finally((()=>{_e(!1)})),"64622470b201a6f07b2dff22"==m&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?documentType=pending&dashboardType=documentsChaserDashbord",f).then((e=>e.json())).then((e=>{const t=e.total;Ne(t);const a=t/n,s=Math.ceil(a);g(s);const o=e.data;y(o)})).catch((e=>{console.log(e)})).finally((()=>{_e(!1)}))},Le=(f-1)*c,Pe=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getPolicyIssuer",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,a=t.length,n=[];for(let s=0;s<a;s++){const e={label:t[s].name,value:t[s]._id};n.push(e)}ge(n)}))};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(r.A,{defaultActiveKey:"0",flush:!0,children:(0,h.jsxs)(r.A.Item,{eventKey:"0",children:[(0,h.jsx)(r.A.Header,{children:(0,h.jsxs)("div",{style:{position:"relative"},className:"card-header new_leads",children:[(0,h.jsx)("strong",{children:"Pending for Verification / To Be Received"}),we>0?(0,h.jsx)("div",{className:"dashboardNotify",children:(0,h.jsx)("h6",{children:we})}):""]})}),(0,h.jsxs)(r.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,h.jsxs)("table",{className:"table table-bordered",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{className:"table-info",children:[(0,h.jsx)("th",{scope:"col",children:"Sr#"}),(0,h.jsx)("th",{scope:"col",children:"Client Name"}),(0,h.jsx)("th",{scope:"col",children:"Contact Number"}),(0,h.jsx)("th",{scope:"col",children:"Email Address"}),(0,h.jsx)("th",{scope:"col",children:"LOB"}),(0,h.jsx)("th",{scope:"col",children:"Received From"}),(0,h.jsx)("th",{scope:"col",children:"Assign Date & Time"}),(0,h.jsx)("th",{scope:"col",children:"Aging in minutes"}),(0,h.jsx)("th",{scope:"col",children:"Status"}),(0,h.jsx)("th",{scope:"col",children:"Action"})]})}),(0,h.jsx)("tbody",{children:Se?(0,h.jsx)("div",{className:"loader-container",children:(0,h.jsx)(p.A,{color:"#000000",loading:Se,size:50})}):(0,h.jsx)(h.Fragment,{children:v.length>0?v.map(((e,t)=>{var a;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:Le+t+1}),(0,h.jsx)("td",{children:e.name}),(0,h.jsx)("td",{children:e.phoneno}),(0,h.jsx)("td",{children:e.email}),(0,h.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,h.jsx)("td",{children:null===(a=e.recived_from_data[0])||void 0===a?void 0:a.name}),(0,h.jsx)("td",{children:e.assign_documentchaser_timestamp?new Date(e.assign_documentchaser_timestamp).toString():new Date(e.new_lead_timestamp).toString()}),(0,h.jsx)("td",{children:e.assign_documentchaser_timestamp?d()(e.assign_documentchaser_timestamp).fromNow():d()(e.new_lead_timestamp).fromNow()}),(0,h.jsx)("td",{children:(0,h.jsxs)("select",{name:"status",id:"status",className:"form-control",onChange:e=>be(e.target.value),children:[(0,h.jsx)("option",{defaultValue:e.dcleadstatus,hidden:!0,children:e.dcleadstatus}),(0,h.jsx)("option",{value:"Open",children:"Open"}),(0,h.jsx)("option",{value:"Pending",children:"Pending"})]})}),(0,h.jsxs)("td",{className:"buttons_icons",children:[(0,h.jsx)("button",{className:"btn btn-primary update_abcsds",onClick:()=>{return t=e._id,"Motor"===(a=e.policy_type[0].line_of_business_name)&&window.open(`/MotorLeaddetails?id=${t}`,"_blank"),"Travel"===a&&window.open(`/TravelLeaddetails?id=${t}`,"_blank"),"Medical"===a&&window.open(`/MedicalLeaddetails?id=${t}`,"_blank"),"Home"===a&&window.open(`/HomeLeaddetails?id=${t}`,"_blank"),void("Yacht"===a&&window.open(`/YachtLeaddetails?id=${t}`,"_blank"));var t,a},children:(0,h.jsx)("i",{className:"fa-solid fa-eye"})}),(0,h.jsx)("button",{className:"btn btn-primary update_abcsds",onClick:()=>(async e=>{const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,dcleadstatus:fe,dcleadforwardto:ve})};let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/updatedcverification",t);a=await a.json(),200==a.status?(u()("Status Updated Successfully","","success"),Te(f,c),s(Te(f,c))):u()("Status Not Updated","","error")})(e._id),children:"Update"})]})]},t)})):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:"12",className:"text-center",children:(0,h.jsx)("strong",{children:"No Records Found"})})})})})]}),(0,h.jsx)(o(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:m,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const t=e.selected;b(t+1),Te(t+1,c,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})]})})})}},30710:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(65043),s={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function o(e){var t=function(e){if("number"===typeof e)return{value:e,unit:"px"};var t,a=(e.match(/^[0-9.]*/)||"").toString();t=a.includes(".")?parseFloat(a):parseInt(a,10);var n=(e.match(/[^0-9]*$/)||"").toString();return s[n]?{value:t,unit:n}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},i.apply(this,arguments)},r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a},l=function(e,t,a){var n="react-spinners-".concat(e,"-").concat(a);if("undefined"==typeof window||!window.document)return n;var s=document.createElement("style");document.head.appendChild(s);var o=s.sheet,i="\n    @keyframes ".concat(n," {\n      ").concat(t,"\n    }\n  ");return o&&o.insertRule(i,0),n}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const d=function(e){var t=e.loading,a=void 0===t||t,s=e.color,d=void 0===s?"#000000":s,c=e.speedMultiplier,u=void 0===c?1:c,p=e.cssOverride,h=void 0===p?{}:p,m=e.size,g=void 0===m?35:m,f=r(e,["loading","color","speedMultiplier","cssOverride","size"]),b=i({background:"transparent !important",width:o(g),height:o(g),borderRadius:"100%",border:"2px solid",borderTopColor:d,borderBottomColor:"transparent",borderLeftColor:d,borderRightColor:d,display:"inline-block",animation:"".concat(l," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},h);return a?n.createElement("span",i({style:b},f)):null}}}]);
//# sourceMappingURL=4999.ea3dc421.chunk.js.map