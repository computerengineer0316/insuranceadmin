"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3990],{53990:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var s=a(65043),o=a(73216),r=a(30064),i=a.n(r),n=a(54168),l=a(70579);const c=()=>{const e=(0,o.Zp)(),[t,a]=(0,s.useState)([]),[r,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(""),[h,u]=(0,s.useState)(""),[f,p]=(0,s.useState)("");(0,s.useEffect)((()=>{const t=localStorage.getItem("token");if(null===t||void 0===t||""===t)e("/login");else{const e=window.location.href.split("/")[3].split("?")[1].split("=")[1];p(e),_(),g(e)}}),[]);const _=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,s=t.length,o=[];for(let a=0;a<s;a++){const e={label:t[a].location_name,value:t[a]._id};o.push(e)}a(o)}))},g=e=>{fetch(`https://insuranceapi-3o5t.onrender.com/api/get_area_of_registration_details/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data;console.log(e.data,">>>>>>>>>> area of reg data"),m(t.area_of_registration_name),u(t.area_of_registration_status)}))},j=e=>{c(e)};return(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("h4",{className:"card-title",children:"Edit Area Of Registration Name"})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("form",{action:"/",method:"POST",onSubmit:t=>{t.preventDefault();const a=new FormData(t.target),s=(a.get("area_of_registeration_name"),r),o=s.length,n=[];for(let e=0;e<o;e++)n.push(s[e].value);const l=a.get("status"),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({area_of_registration_name:d,area_of_registration_location:n.toString(),area_of_registration_status:l,area_of_registration_id:f})};fetch("https://insuranceapi-3o5t.onrender.com/api/update_area_of_registration",c).then((e=>e.json())).then((t=>{200===t.status?i().fire({title:"Success!",text:t.message,icon:"success",confirmButtonText:"Ok"}).then((t=>{t.isConfirmed&&e("/area-of-registration")})):i().fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"Ok"}).then((t=>{t.isConfirmed&&e("/area-of-registration")}))}))},children:[(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Area Of Registration Name"}),(0,l.jsx)("input",{type:"text",className:"form-control",placeholder:"Area Of Registration Name",name:"area_of_registeration_name",autoComplete:"off",defaultValue:d,required:!0})]})}),(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Location"}),(0,l.jsx)(n.default,{options:t,selectedValues:r,onSelect:j,onRemove:j,displayValue:"label",placeholder:"Select Location",closeOnSelect:!1,avoidHighlightFirstOption:!0,showCheckbox:!0,style:{chips:{background:"#007bff"}},required:!0})]})})]}),(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Status"}),(0,l.jsxs)("select",{className:"form-control",name:"status",required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select Status"}),(0,l.jsx)("option",{value:"1",selected:1==h,children:"Active"}),(0,l.jsx)("option",{value:"0",selected:0==h,children:"Inactive"})]})]})})}),(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Update"})})})]})})]})})})})}}}]);
//# sourceMappingURL=3990.9f9a7e33.chunk.js.map