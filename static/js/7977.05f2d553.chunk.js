"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7977],{67977:(e,a,l)=>{l.r(a),l.d(a,{default:()=>o});var s=l(65043),i=l(73216),r=l(73023),t=l.n(r),c=l(70579);const o=()=>{const e=(0,i.Zp)(),[a,l]=(0,s.useState)([]),[r,o]=(0,s.useState)([]);(0,s.useEffect)((()=>{const a=localStorage.getItem("token");if(null===a||void 0===a||""===a)e("/login");else{const e=JSON.parse(localStorage.getItem("user"));l(e)}}),[]);return(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsx)("div",{className:"card",style:{marginTop:"20px"},children:(0,c.jsx)("div",{className:"card-header",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)("h4",{className:"card-title",children:"Profile"})}),(0,c.jsx)("hr",{}),(0,c.jsx)("div",{className:"card-body",children:(0,c.jsxs)("form",{action:"/",method:"POST",onSubmit:e=>{e.preventDefault();const a=new FormData(e.target),l=a.get("name"),s=a.get("email"),i=a.get("mobile"),c=a.get("profile_id"),o=new FormData;o.append("name",l),o.append("email",s),o.append("mobile",i),o.append("profile_image",r),o.append("profile_id",c);fetch("https://insuranceapi-3o5t.onrender.com/api/updateprofile",{method:"POST",body:o}).then((e=>e.json())).then((e=>{200===e.status?t()({title:"Success!",text:e.message,type:"success",icon:"success"}).then((function(){localStorage.setItem("user",JSON.stringify(e.data)),window.location.href="/ViewProfile"})):t()({title:"Error!",text:e.message,type:"error",icon:"error"}).then((function(){window.location.href="/ViewProfile"}))}))},children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-3",children:[(0,c.jsx)("label",{children:"Name"}),(0,c.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Name",defaultValue:a.name,required:!0})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-3",children:[(0,c.jsx)("label",{children:"Email"}),(0,c.jsx)("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",defaultValue:a.email,required:!0})]})})]}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-3",children:[(0,c.jsx)("label",{children:"Mobile"}),(0,c.jsx)("input",{type:"text",name:"mobile",className:"form-control",placeholder:"Mobile",defaultValue:a.mobile,required:!0})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group mb-3",children:[(0,c.jsx)("label",{children:"Profile Image"}),(0,c.jsx)("input",{type:"file",className:"form-control",placeholder:"Profile Image",accept:".png, .gif, .jpg, .jpeg",onChange:e=>o(e.target.files[0])})]})})]}),(0,c.jsx)("input",{type:"hidden",name:"profile_id",defaultValue:a._id}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",style:{float:"right"},children:"Update"})})})]})})]})})})})})})}}}]);
//# sourceMappingURL=7977.05f2d553.chunk.js.map