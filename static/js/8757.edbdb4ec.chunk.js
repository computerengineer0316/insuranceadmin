"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8757],{28757:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var o=s(65043),c=s(73216),a=s(73023),n=s.n(a),l=s(54168),r=s(70579);const i=()=>{const e=(0,c.Zp)(),[t,s]=(0,o.useState)([]),[a,i]=(0,o.useState)(null),[d,h]=(0,o.useState)([]),[u,m]=(0,o.useState)({});(0,o.useEffect)((()=>{const t=localStorage.getItem("token");null===t||void 0===t||""===t?e("/login"):p()}),[]);const p=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data;s(t.map((e=>({label:e.location_name,value:e._id}))))}))},x=(e,t,s)=>{console.log(t,"multiselect value");const o=[...d];o[e][s]=t,h(o)};return(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("h4",{className:"card-title",children:"Add Yacht Horse Power "})})})}),(0,r.jsx)("div",{className:"card-body addmotorplans",style:{overflowX:"scroll"},children:(0,r.jsxs)("table",{className:"table table-bordered",style:{width:"auto"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:(0,r.jsx)("button",{className:"btn btn-outline-success",onClick:()=>{const e={yacht_horsepower_type:"",location:t};h([...d,e])},children:"+"})}),(0,r.jsx)("th",{children:"Yacht Horse Power"}),(0,r.jsx)("th",{children:"Location"})]})}),(0,r.jsx)("tbody",{children:d.map(((e,s)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(e=>{const t=[...d];t.splice(e,1),h(t)})(s),children:"x"})}),(0,r.jsx)("td",{children:(0,r.jsx)("input",{type:"text",onChange:e=>((e,t)=>{const{name:s,value:o}=t.target;""===o.trim()?m((e=>({...e,[s]:"This is required"}))):m((e=>({...e,[s]:""})));const c=[...d];c[e][s]=o,h(c)})(s,e),className:"form-control",name:"yacht_horsepower_type",placeholder:"Yacht Horse Power",autoComplete:"off",required:!0})}),(0,r.jsx)("td",{children:(0,r.jsx)(l.default,{options:t,selectedValues:t,displayValue:"label",onSelect:e=>x(s,e,"location"),onRemove:e=>x(s,e,"location"),placeholder:"Select Location",showCheckbox:!0,closeOnSelect:!1,required:!0})})]},s)))})]})}),(0,r.jsx)("div",{className:"card-footer",children:(0,r.jsx)("button",{className:"btn btn-outline-success",onClick:t=>{t.preventDefault(),console.log(d,"rowsData");try{if(d.some((e=>""===e.yacht_horsepower_type.trim()||0==e.location)))return n()({title:"Warning!",text:"Please fill in all fields for each row.",type:"warning",icon:"warning"}),!1;{const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)};fetch("https://insuranceapi-3o5t.onrender.com/api/add_Yacht_horespower_type",t).then((e=>e.json())).then((t=>{200==t.status?(n()({text:t.message,type:"success",icon:"success",button:!1}),setTimeout((()=>{n().close(),e("/Viewyachthorsepowerlist")}),1e3)):200!=t.status&&(n()({title:"Error!",text:t.message,type:"error",icon:"error",button:!1}),setTimeout((()=>{n().close()}),1e3))}))}}catch(s){console.log(s)}},children:"Submit"})})]})})})})}}}]);
//# sourceMappingURL=8757.edbdb4ec.chunk.js.map