"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3477],{43477:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(65043),l=s(53519),i=s(73216),n=s(92157),c=s.n(n),d=(s(93946),s(73023),s(54168),s(70579));const o=()=>{const e=(0,i.Zp)(),[a]=(0,t.useState)(10),[s,n]=(0,t.useState)(0),[o,r]=(0,t.useState)(1),[h,u]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[j,x]=(0,t.useState)([]),[v,g]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1),[k,C]=(0,t.useState)([]),[S,_]=(0,t.useState)([]),[y,f]=(0,t.useState)([]);(0,t.useEffect)((()=>{L(o,a)}),[]);const L=async(e,a)=>{try{const s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}};await fetch(`https://insuranceapi-3o5t.onrender.com/api/getEmails?page=${e}&limit=${a}`,s).then((e=>e.json())).then((e=>{console.log(e,"result");const s=(null===e||void 0===e?void 0:e.total)/a,t=Math.ceil(s);n(t);const l=null===e||void 0===e?void 0:e.data;console.log(l,"list"),u(l)}))}catch(s){console.log(s)}},w=(o-1)*a;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(l.A,{children:(0,d.jsxs)("div",{className:"card mb-4",children:[(0,d.jsx)("div",{className:"card-header",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsx)("h4",{className:"card-title",children:"Mails"})}),(0,d.jsx)("div",{className:"col-md-6"})]})}),(0,d.jsx)("div",{className:"card-header",style:{textAlign:"right"}}),(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsxs)("table",{className:"table table-bordered",children:[(0,d.jsx)("thead",{className:"thead-dark",children:(0,d.jsxs)("tr",{className:"table-info",children:[(0,d.jsx)("th",{scope:"col",children:"#"}),(0,d.jsx)("th",{scope:"col",children:"Subject"}),(0,d.jsx)("th",{scope:"col",children:"Sent By"}),(0,d.jsx)("th",{scope:"col",children:"Received By"}),(0,d.jsx)("th",{scope:"col",children:"CreatedAt"}),(0,d.jsx)("th",{scope:"col",children:"Action"})]})}),(0,d.jsx)("tbody",{children:(null===h||void 0===h?void 0:h.length)>0?h.map(((a,s)=>{var t;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:w+s+1}),(0,d.jsx)("td",{children:null===a||void 0===a?void 0:a.subject}),(0,d.jsx)("td",{children:null===a||void 0===a?void 0:a.sent_by}),(0,d.jsx)("td",{children:null===a||void 0===a||null===(t=a.received_by)||void 0===t?void 0:t.map((e=>e.email)).join(", ")}),(0,d.jsx)("td",{children:null===a||void 0===a?void 0:a.createdAt}),(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{className:"btn btn-primary",onClick:()=>e(`/ViewMail?id=${null===a||void 0===a?void 0:a._id}`),children:"View"})," "]})]},s)})):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:"7",children:"No Data Found"})})})]}),(0,d.jsx)(c(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:s,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:e=>{const s=e.selected;r(s+1),L(s+1,a)},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})]})})})}}}]);
//# sourceMappingURL=3477.2695a850.chunk.js.map