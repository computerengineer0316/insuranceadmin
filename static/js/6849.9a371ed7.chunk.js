"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[6849],{26849:(e,a,t)=>{t.r(a),t.d(a,{default:()=>r});var l=t(65043),n=t(54168),s=t(73216),c=t(73023),i=t.n(c),o=t(70579);const r=()=>{const e=(0,s.Zp)();(0,l.useEffect)((()=>{g(),x()}),[]);const a=window.location.href,t=new URLSearchParams(a.split("?")[1]).get("id"),[c,r]=(0,l.useState)([]),[d,p]=(0,l.useState)(),[h,m]=(0,l.useState)([]),[u,_]=(0,l.useState)(""),[j,f]=(0,l.useState)(),g=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,t=a.length,l=[];for(let n=0;n<t;n++){const e={label:a[n].location_name,value:a[n]._id};l.push(e)}r(l)}))},y=e=>{p(e)},x=async()=>{const e={method:"post",body:JSON.stringify({ParamValue:t}),headers:{"Content-Type":"application/json"}};let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_medical_plan_type_detailsbyid",e);a=await a.json(),_(a.medical_plan_type),f(a.medical_plan_type_status);const l=a.medical_plan_type_location.toString().split(","),n=l.length,s=[];for(let t=0;t<n;t++){const e={method:"GET",headers:{"Content-Type":"application/json"}};fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location_by_id/${l[t]}`,e).then((e=>e.json())).then((e=>{s.push(e.data.location_name);if(s.length===n){const e=s.join(",").split(","),a=e.length,t=[];for(let n=0;n<a;n++){const a={label:e[n],value:l[n]};t.push(a)}p(t),m(t)}}))}g()};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"container",children:(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-md-12",children:(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"card-header",children:(0,o.jsx)("h4",{className:"card-title",children:"Plan Type"})}),(0,o.jsx)("div",{className:"card-body",children:(0,o.jsxs)("form",{action:"/",method:"POST",onSubmit:async a=>{if(a.preventDefault(),""==u||null==u)return i()("Please Enter Plan Type","","warning"),!1;if(void 0==d||null==d)return i()("Please Select Location","","warning"),!1;if(""==j||null==j)return i()("Please Select Status","","warning"),!1;{const a=d,l=a.length,n=[];for(let e=0;e<l;e++)n.push(a[e].value);console.log(u),console.log(n.toString()),console.log(j);let s=await fetch("https://insuranceapi-3o5t.onrender.com/api/update_medical_plan_type_details",{method:"POST",body:JSON.stringify({ParamValue:t,medical_plan_type:u,medical_plan_type_location:n.toString(),medical_plan_type_status:j}),headers:{"Content-Type":"application/json"}});s=await s.json(),i()("Updated Succesfully","","success"),e("/Viewmedicalplantype")}},children:[(0,o.jsxs)("div",{className:"row",children:[(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{className:"form-label",children:(0,o.jsx)("strong",{children:"Edit Plan Type"})}),(0,o.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Name",defaultValue:u,onChange:e=>_(e.target.value)})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{className:"form-label",children:(0,o.jsx)("strong",{children:"Select Location"})}),(0,o.jsx)(n.default,{options:c,selectedValues:d,onSelect:y,onRemove:y,displayValue:"label",placeholder:"Select Location",closeOnSelect:!1,avoidHighlightFirstOption:!0,showCheckbox:!0,style:{chips:{background:"#007bff"}},required:!0})]}),(0,o.jsxs)("div",{className:"col-md-6",children:[(0,o.jsx)("label",{className:"form-label",children:(0,o.jsx)("strong",{children:"Status"})}),".",(0,o.jsxs)("select",{className:"form-control",name:"status",onChange:e=>f(e.target.value),children:[(0,o.jsx)("option",{defaultValue:j,hidden:!0,children:1==j?"Active":"InActive"}),(0,o.jsx)("option",{value:"1",children:"Active"}),(0,o.jsx)("option",{value:"0",children:"InActive"})]})]})]}),(0,o.jsx)("div",{className:"row",children:(0,o.jsx)("div",{className:"col-md-12",children:(0,o.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})})}}}]);
//# sourceMappingURL=6849.9a371ed7.chunk.js.map