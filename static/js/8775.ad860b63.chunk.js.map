{"version":3,"file":"static/js/8775.ad860b63.chunk.js","mappings":"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","sources":["views/insurance-company_dashboard/Users/AddCompanyUser.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport Multiselect from \"multiselect-react-dropdown\";\n\nconst AddCompanyUser = () => {\n\n    const navigate = useNavigate();\n\n    const [perPage] = useState(15);\n    const [pageCount, setPageCount] = useState(0);\n    const [page, setPage] = useState(1);\n    const [lineOfBusiness, setLineOfBusiness] = useState([]);\n    const [lob, setlob] = useState([]);\n\n\n    useEffect(() => {\n        getlistLineOfBusiness();\n    }, []);\n\n    const getlistLineOfBusiness = () => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        }\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_list`, requestOptions)\n            .then((response) => response.json())\n            .then((data) => {\n                console.log(data)\n                const line_of_businessdt = data?.data\n                const line_of_business_list = line_of_businessdt?.map((item) => {\n                    return {\n                        label: item?.line_of_business_name,\n                        value: item?._id,\n                    }\n                }\n                )\n                setLineOfBusiness(line_of_business_list)\n            })\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const data = new FormData(e.target);\n        const name = data.get('staff_name');\n        const email = data.get('staff_email');\n        const mobile = data.get('staff_mobile');\n        const date_of_brith = data.get('date_of_birth');\n        const line_of_business = lob;\n\n        console.log(name, email, mobile, date_of_brith, line_of_business);\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + localStorage.getItem('token') || ''\n            },\n            body: JSON.stringify({ name, email, mobile, date_of_brith, line_of_business })\n        };\n        fetch('https://insuranceapi-3o5t.onrender.com/api/requestForUserCreate', requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                console.log(data);\n                if (data.status == 201) {\n                    swal(\"Success\", \"User Added Successfully\", \"success\");\n                    navigate('/insurancecompanydashboard');\n                    console.log(data.data);\n                    getUsers(page, perPage);\n                } else {\n                    swal(\"Error\", \"Failed to Add User\", \"error\");\n                }\n            });\n\n    }\n\n    const getUsers = async (page, perPage) => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + localStorage.getItem('token') || ''\n            }\n        };\n        await fetch(`https://insuranceapi-3o5t.onrender.com/api/getRequestForUserCreate?page=${page}&limit=${perPage}`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                console.log(data.data);\n                const total = data.total;\n                const slice = total / perPage;\n                const pages = Math.ceil(slice);\n                setPageCount(pages);\n                let request = 0;\n                const requestdata = data.data;\n                console.log(requestdata.filter((item) => item.agentApprovalStatus == false));\n                request = requestdata?.length;\n                console.log(request);\n                localStorage.setItem('request', request);\n\n            });\n    }\n\n\n\n\n\n\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <div className=\"card\" style={{ marginTop: '20px' }}>\n                        <div className=\"card-header\">\n                            <div className=\"row\">\n                                <div className=\"col-md-6\">\n                                    <h4 className=\"card-title\">Add User</h4>\n                                </div>\n                                <div className=\"col-md-6\">\n                                    <a href=\"/insurancecompanydashboard\" className=\"btn btn-primary\" style={{ float: 'right' }}>Back</a>\n                                </div>\n                                <div className=\"card-body\">\n                                    <form action=\"/\" method=\"POST\" onSubmit={handleSubmit}>\n                                        <div className=\"row\">\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Name</label>\n                                                    <input type=\"text\" className=\"form-control\" name=\"staff_name\" placeholder=\"Enter Name\" autoComplete=\"off\" required />\n                                                </div>\n                                            </div>\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Email</label>\n                                                    <input type=\"email\" className=\"form-control\" name=\"staff_email\" placeholder=\"Enter Email\" autoComplete=\"off\" required />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Mobile</label>\n                                                    <input type=\"text\" className=\"form-control\" name=\"staff_mobile\" placeholder=\"Enter Mobile\" autoComplete=\"off\" required />\n                                                </div>\n                                            </div>\n\n\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>D.O.B </label>\n                                                    <input type=\"date\"\n                                                        className=\"form-control\"\n                                                        name=\"date_of_birth\"\n                                                        format=\"dd-mm-yyyy\"\n                                                        placeholder=\"Select Date Of Birth\"\n                                                        autoComplete=\"off\"\n                                                        required\n                                                    />\n                                                </div>\n                                            </div>\n\n                                            <div className=\"col-md-6\">\n                                                <div className=\"form-group mb-3\">\n                                                    <label>Line Of Business </label>\n                                                    <Multiselect\n\n                                                        options={lineOfBusiness}\n                                                        displayValue=\"label\"\n                                                        onSelect={setlob}\n                                                        onRemove={setlob}\n                                                        placeholder=\"Select LOB\"\n                                                        showCheckbox={true}\n                                                        showArrow={true}\n                                                    />\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div className=\"row\">\n                                            <div className=\"col-md-12\" style={{ textAlign: 'right' }}>\n                                                <button type=\"submit\" className=\"btn btn-primary\">Save</button>\n                                            </div>\n                                        </div>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n\nexport default AddCompanyUser"],"names":["AddCompanyUser","navigate","useNavigate","perPage","useState","pageCount","setPageCount","page","setPage","lineOfBusiness","setLineOfBusiness","lob","setlob","useEffect","getlistLineOfBusiness","fetch","method","headers","then","response","json","data","console","log","line_of_businessdt","line_of_business_list","map","item","label","line_of_business_name","value","_id","getUsers","async","requestOptions","localStorage","getItem","slice","total","pages","Math","ceil","request","requestdata","filter","agentApprovalStatus","length","setItem","_jsx","className","children","style","marginTop","_jsxs","href","float","action","onSubmit","e","preventDefault","FormData","target","name","get","email","mobile","date_of_brith","line_of_business","body","JSON","stringify","status","swal","type","placeholder","autoComplete","required","format","Multiselect","options","displayValue","onSelect","onRemove","showCheckbox","showArrow","textAlign"],"sourceRoot":""}