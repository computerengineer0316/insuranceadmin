"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[292],{40292:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(65043),o=n(73216),l=n(73023),i=n.n(l),s=n(54168),c=n(30064),r=n.n(c),d=n(70579);const h=()=>{const e=(0,o.Zp)(),[t,n]=(0,a.useState)([]),[l,c]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[m,u]=(0,a.useState)({}),[x,j]=(0,a.useState)([]),[f,y]=(0,a.useState)(null),[v,g]=(0,a.useState)([]);(0,a.useEffect)((()=>{N(),M(),b()}),[]);const _={name:"Model Name",MakeId:"Make Name",start_year:"Start Year",body_type:"Body Type",engine:"Engine",minValue:"Min Value",maxValue:"Max Value",Mindep:"Min Depreciation",maxDep:"Max Depreciation",noOfDep:"Depreciation Up To Years",location:"Location"},N=()=>{const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}};fetch("https://insuranceapi-3o5t.onrender.com/api/getYachtMake",e).then((e=>e.json())).then((e=>{n(e.data)}))},b=()=>{const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}};fetch("https://insuranceapi-3o5t.onrender.com/api/get_Yacht_Body_type",e).then((e=>e.json())).then((e=>{j(e.data)}))},M=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,n=t.length,a=[];for(let o=0;o<n;o++){const e={label:t[o].location_name,value:t[o]._id};a.push(e)}c(a)}))},C=(e,t)=>{const{name:n,value:a}=t.target,o=[...h];o[e][n]=a,p(o)},S=(e,t,n)=>{const a=[...h];a[e][n]=t,p(a)};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsxs)("div",{className:"card",children:[(0,d.jsx)("div",{className:"card-header",children:(0,d.jsx)("h4",{className:"card-title",children:"Add Motor Model details"})}),(0,d.jsx)("div",{className:"card-body addmotorplans",style:{overflowX:"scroll"},children:(0,d.jsxs)("table",{className:"table table-bordered",style:{width:"1700px"},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,d.jsx)("button",{className:"btn btn-outline-success",onClick:()=>{var e,n;const a={name:"",MakeId:null===(e=t[0])||void 0===e?void 0:e._id,start_year:"",body_type:null===(n=x[0])||void 0===n?void 0:n._id,engine:"",minValue:"",maxValue:"",Mindep:"",maxDep:"",noOfDep:"",location:l};p([...h,a])},children:"+"})}),(0,d.jsx)("th",{children:"Yacht Model Name"}),(0,d.jsx)("th",{children:"Yacht Make"}),(0,d.jsx)("th",{children:"Start Year"}),(0,d.jsx)("th",{children:"Body Type"}),(0,d.jsx)("th",{children:"Engine"}),(0,d.jsx)("th",{children:"Min Value"}),(0,d.jsx)("th",{children:"Max Value"}),(0,d.jsx)("th",{children:"Min Depreciation"}),(0,d.jsx)("th",{children:"Max Depreciation"}),(0,d.jsx)("th",{children:"No. Of Depreciation"}),(0,d.jsx)("th",{children:"Location"})]})}),(0,d.jsx)("tbody",{children:h.map(((e,n)=>{var a;return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(e=>{const t=[...h],n=[...v];n.splice(e,1),t.splice(e,1),p(t),g(n)})(n),children:"x"})}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",onChange:e=>C(n,e),className:"form-control",name:"name",placeholder:"Yacht Model Name",autoComplete:"off"})}),(0,d.jsx)("td",{children:(0,d.jsx)("select",{className:"form-control",defaultValue:null===(a=t[0])||void 0===a?void 0:a._id,name:"MakeId",children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,d.jsx)("option",{value:e._id,children:e.name},t)))})}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",className:"form-control",onChange:e=>C(n,e),placeholder:"Start Year",name:"start_year",autoComplete:"off"})}),(0,d.jsx)("td",{children:(0,d.jsx)("select",{className:"form-control",onChange:e=>C(n,e),name:"body_type",children:null===x||void 0===x?void 0:x.map(((e,t)=>(0,d.jsx)("option",{selected:0==t,value:e._id,children:e.yacht_body_type},t)))})}),(0,d.jsx)("td",{children:(0,d.jsxs)("select",{className:"form-control",name:"engine",onChange:e=>C(n,e),children:[(0,d.jsx)("option",{children:"Select Engine"}),(0,d.jsx)("option",{value:"2",children:"2"}),(0,d.jsx)("option",{value:"4",children:"4"}),(0,d.jsx)("option",{value:"6",children:"6"}),(0,d.jsx)("option",{value:"8",children:"8"}),(0,d.jsx)("option",{value:"10",children:"10"}),(0,d.jsx)("option",{value:"12",children:"12"})]})}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",className:"form-control",onChange:e=>C(n,e),placeholder:"Min Value",name:"minValue",autoComplete:"off"})}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",className:"form-control",onChange:e=>C(n,e),placeholder:"Max Value",name:"maxValue",autoComplete:"off"})}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",className:"form-control",onChange:e=>C(n,e),placeholder:"Min Depreciation ",name:"Mindep",autoComplete:"off"})}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",className:"form-control",onChange:e=>C(n,e),placeholder:"Max Depreciation ",name:"maxDep",autoComplete:"off"})}),(0,d.jsx)("td",{children:(0,d.jsx)("input",{type:"text",className:"form-control",onChange:e=>C(n,e),placeholder:"No. Of Depreciation ",name:"noOfDep",autoComplete:"off"})}),(0,d.jsx)("td",{children:(0,d.jsx)(s.default,{options:l,selectedValues:l,displayValue:"label",onSelect:e=>S(n,e,"location"),onRemove:e=>S(n,e,"location"),placeholder:"Select Location",showCheckbox:!0,required:!0})})]},n)}))})]})}),(0,d.jsx)("div",{className:"card-footer",children:(0,d.jsx)("button",{className:"btn btn-outline-success",onClick:t=>{t.preventDefault();try{for(let e=0;e<h.length;e++)for(const t in h[e])if(h[e].hasOwnProperty(t)){const n=h[e][t];if(""==n||null==n||void 0==n)return void r().fire({title:"warning",text:`${_[t]}  is required`,icon:"warning",confirmButtonText:"Ok"})}else;const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)};fetch("https://insuranceapi-3o5t.onrender.com/api/add_Yacht_model",t).then((e=>e.json())).then((t=>{200==t.status?(i()({text:t.message,type:"success",icon:"success",button:!1}),e("/ViewYachtModel"),setTimeout((()=>{i().close()}),1e3)):(i()({title:"Error!",text:t.message,type:"error",icon:"error",button:!1}),e("/ViewYachtModel"),setTimeout((()=>{i().close()}),1e3))}))}catch(n){console.log(n)}},children:"Submit"})})]})})})})})}}}]);
//# sourceMappingURL=292.ccb35bce.chunk.js.map