"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5700],{85700:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var l=s(65043),o=s(73216),c=s(73023),n=s.n(c),r=s(54168),t=s(70579);const i=()=>{const e=(0,o.Zp)(),[a,s]=(0,l.useState)([]),[c,i]=(0,l.useState)(null),[d,m]=(0,l.useState)(null),[p,h]=(0,l.useState)(""),[u,x]=(0,l.useState)(""),[f,j]=(0,l.useState)(""),[N,y]=(0,l.useState)(""),[v,_]=(0,l.useState)(""),[g,b]=(0,l.useState)(""),[S,C]=(0,l.useState)([]);(0,l.useEffect)((()=>{const a=localStorage.getItem("token");null===a||void 0===a||""===a?e("/login"):(w(),E())}),[]);const w=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,l=a.length,o=[];for(let s=0;s<l;s++){const e={label:a[s].line_of_business_name,value:a[s]._id};o.push(e)}s(o)}))},E=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,s=a.length,l=[];for(let o=0;o<s;o++){const e={label:a[o].location_name,value:a[o]._id};l.push(e)}C(l),m(l)}))};return(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("h4",{className:"card-title",children:"Add Company"})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("a",{href:"/insurance-company",className:"btn btn-primary",style:{float:"right"},children:"Back"})})]})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("form",{action:"/",method:"POST",onSubmit:async a=>{a.preventDefault();const s=new FormData(a.target),l=s.get("company_name"),o=s.get("body"),r=s.get("email_id"),t=s.get("phone_no"),i=s.get("address"),m=s.get("default_time");if(null==d)return n()({title:"Error!",text:"Please Select Location",type:"error",icon:"error"}),!1;if(null==c)return n()({title:"Error!",text:"Please Select Line Of Business",type:"error",icon:"error"}),!1;const h=c,x=h.length,j=[];for(let e=0;e<x;e++)j.push(h[e].value);const y=d,_=y.length,b=[];for(let e=0;e<_;e++)b.push(y[e].value);const S=new FormData;S.append("company_name",l),S.append("company_body",o),S.append("company_email_id",r),S.append("company_phone_no",t),S.append("company_address",i),S.append("company_logo",p),S.append("company_dha_format",u),S.append("company_medical_application",f),S.append("company_salary_declaration",N),S.append("company_kyc_form",v),S.append("company_terms_condition",g),S.append("line_of_business_id",j.toString()),S.append("company_location",b.toString()),S.append("default_time",m);let C=await fetch("https://insuranceapi-3o5t.onrender.com/api/addCompany",{method:"post",body:S});C=await C.json(),200===C.status?n()({title:"Success!",text:C.message,type:"success",icon:"success"}).then((function(){e("/insurance-company")})):n()({title:"Error!",text:C.message,type:"error",icon:"error"}).then((function(){e("/insurance-company")}))},children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Company Name"}),(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Company Name",name:"company_name",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Body"}),(0,t.jsx)("textarea",{className:"form-control",placeholder:"Enter Body",name:"body"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Email Id"}),(0,t.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter Email Id",name:"email_id",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Address"}),(0,t.jsx)("textarea",{className:"form-control",placeholder:"Enter Address",name:"address"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Phone No"}),(0,t.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Phone No",name:"phone_no",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Location"}),(0,t.jsx)(r.default,{options:S,displayValue:"label",selectedValues:S,onSelect:m,onRemove:m,placeholder:"Select Location",showCheckbox:!0,required:!0})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Company Logo"}),(0,t.jsx)("input",{type:"file",className:"form-control",name:"company_logo",accept:".png, .jpg, .jpeg",onChange:e=>h(e.target.files[0]),required:!0})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Line Of Business"}),(0,t.jsx)(r.default,{options:a,displayValue:"label",onSelect:i,onRemove:i,placeholder:"Select Line Of Business",showCheckbox:!0,required:!0})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"DHA Format Census List"}),(0,t.jsx)("input",{type:"file",className:"form-control",name:"dha_format",onChange:e=>x(e.target.files[0]),accept:".xlsx, .csv, .doc, .docx, .pdf"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Medical Application forms"}),(0,t.jsx)("input",{type:"file",className:"form-control",name:"medical_application",onChange:e=>j(e.target.files[0]),accept:".xlsx, .csv, .doc, .docx, .pdf"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"Salary Declaration Form"}),(0,t.jsx)("input",{type:"file",className:"form-control",name:"salary_declaration",onChange:e=>y(e.target.files[0]),accept:".xlsx, .csv, .doc, .docx, .pdf"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"KYC Form"}),(0,t.jsx)("input",{type:"file",className:"form-control",name:"kyc_form",onChange:e=>_(e.target.files[0]),accept:".xlsx, .csv, .doc, .docx, .pdf"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",style:{position:"relative"},children:[(0,t.jsx)("label",{className:"form-label",children:"Terms & Condition"}),(0,t.jsx)("input",{type:"file",className:"form-control",name:"company_terms_condition",onChange:e=>b(e.target.files[0]),accept:".xlsx, .csv, .doc, .docx, .pdf"})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{className:"form-label",children:"default Time"}),(0,t.jsxs)("select",{className:"form-control",name:"default_time",required:!0,children:[(0,t.jsx)("option",{value:"",hidden:!0,children:"Select Defalut Time"}),(0,t.jsx)("option",{value:"daily",children:"Daily"}),(0,t.jsx)("option",{value:"weekly",children:"Weekly"}),(0,t.jsx)("option",{value:"monthly",children:"Monthly"}),(0,t.jsx)("option",{value:"yearly",children:"Yearly"})]})]})})]}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})}}}]);
//# sourceMappingURL=5700.c2482453.chunk.js.map