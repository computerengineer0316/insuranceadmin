"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1],{60001:(e,a,s)=>{s.r(a),s.d(a,{default:()=>h});var l=s(65043),t=s(53519),i=s(73216),n=s(92157),c=s.n(n),o=(s(93946),s(73023)),r=s.n(o),d=s(70579);const h=()=>{const e=(0,i.Zp)(),[a]=(0,l.useState)(10),[s,n]=(0,l.useState)(0),[o,h]=(0,l.useState)(1),[m,p]=(0,l.useState)([]);(0,l.useEffect)((()=>{const s=localStorage.getItem("token");null===s||void 0===s||""===s?e("/login"):g(o,a)}),[]);const g=async(e,a)=>{try{const s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")||0}};await fetch(`https://insuranceapi-3o5t.onrender.com/api/getUserEmail?page=${e}&limit=${a}`,s).then((e=>e.json())).then((e=>{console.log(e);const s=(null===e||void 0===e?void 0:e.total)/a,l=Math.ceil(s);n(l);const t=e.data;console.log(t,"list"),p(t)}))}catch(s){console.log(s)}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(t.A,{children:(0,d.jsxs)("div",{className:"card mb-4",children:[(0,d.jsx)("div",{className:"card-header",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsx)("h4",{className:"card-title",children:"Mails"})}),(0,d.jsx)("div",{className:"col-md-6"})]})}),(0,d.jsx)("div",{className:"card-header",style:{textAlign:"right"}}),(0,d.jsxs)("div",{className:"card-body",children:[(0,d.jsxs)("table",{className:"table table-bordered",children:[(0,d.jsx)("thead",{className:"thead-dark",children:(0,d.jsxs)("tr",{className:"table-info",children:[(0,d.jsx)("th",{scope:"col",children:"#"}),(0,d.jsx)("th",{scope:"col",children:"Name"}),(0,d.jsx)("th",{scope:"col",children:"Email"}),(0,d.jsx)("th",{scope:"col",children:"Count"}),(0,d.jsx)("th",{scope:"col",children:"Action"})]})}),(0,d.jsx)("tbody",{children:(null===m||void 0===m?void 0:m.length)>0?m.map(((a,s)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:s+1}),(0,d.jsx)("td",{children:a.name}),(0,d.jsx)("td",{children:a.email}),(0,d.jsx)("td",{children:a.emailCount}),(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{className:"btn btn-primary",onClick:()=>{a.emails.length>0?e("/Mailslist",{state:{emails:a.emails}}):r()("No emails found","This user has no emails.","warning")},children:"View"})," "]})]},s))):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{colSpan:"7",children:"No Data Found"})})})]}),(0,d.jsx)(c(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:s,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:e=>{const s=e.selected;h(s+1),g(s+1,a)},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})]})})})}}}]);
//# sourceMappingURL=1.edeb6b0f.chunk.js.map