"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7543,1072,8691,6310],{27955:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var n=s(65043),t=s(73216),i=s(54604),l=s(5328),r=s(92157),o=s.n(r),c=s(73023),d=s.n(c),p=s(84217),h=s(53519),u=s(61072),m=s(14282),x=s(70579);const b=function(e){let{companyId:a}=e;const[s,t]=(0,n.useState)([]),[i]=(0,n.useState)(10),[l,r]=(0,n.useState)(0),[c,b]=(0,n.useState)(1),[g,j]=(0,n.useState)(!1),[v,f]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[_,C]=(0,n.useState)("");(0,n.useEffect)((()=>{k(a,c,i)}),[]);const k=(e,a,s)=>{t([]);const n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({companyId:e,page:a,perPage:s})};fetch("https://insuranceapi-3o5t.onrender.com/api/getMotorPlans",n).then((e=>e.json())).then((e=>{if(200===e.status){const a=e.total/s,n=Math.ceil(a);r(n),console.log(e.data);const i=e.data;t(i)}}))},w=(e,s)=>{fetch(`https://insuranceapi-3o5t.onrender.com/api/updatestatusMotorPlan/${e}/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{200===e.status?d()({title:"Success!",text:e.message,icon:"success",button:"Ok"}).then((()=>{k(a,c,i)})):d()({title:"Error!",text:e.message,icon:"error",button:"Ok"}).then((()=>{k(a,c,i)}))}))},S=(c-1)*i;return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"table-responsive",children:[(0,x.jsxs)("table",{className:"table table-bordered",children:[(0,x.jsx)("thead",{className:"thead-dark",children:(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("th",{children:"Sr No."}),(0,x.jsx)("th",{children:"Plan Name"}),(0,x.jsx)("th",{children:"Policy Type"}),(0,x.jsx)("th",{children:"Action"})]})}),(0,x.jsx)("tbody",{children:s.map(((e,a)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:S+a+1}),(0,x.jsx)("td",{children:e.plan_name}),(0,x.jsx)("td",{children:e.policy_type[0].policy_type_name}),(0,x.jsxs)("td",{children:[(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/EditMotorPlan?id=${e._id}`,className:"btn btn-primary",children:"Edit"})}),"\xa0\xa0",1===e.status?(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Are you sure you wish to deactivate this item?")&&w(e._id,0)},children:"Deactivate"})}):(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{window.confirm("Are you sure you wish to activate this item?")&&w(e._id,1)},children:"Activate"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{return a=e._id,s=e.policywordings_file,j(!0),f(a),void N(s);var a,s},children:"T & C"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewStandardCover?id=${e._id}&type=motor`,className:"btn btn-info",children:"Standard Cover"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewAdditionalCover?id=${e._id}&type=motor`,className:"btn btn-warning",children:"Additional Cover"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/Nonapplicablenationality?id=${e._id}`,className:"btn btn-dark",children:"Nationality (Plan Non-Applicable)"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/blacklistvehicle?id=${e._id}`,className:"btn btn-secondary",children:"Black List vehicle"})})]})]},a)))})]}),(0,x.jsx)(o(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:l,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:e=>{const s=e.selected;b(s+1),k(a,s+1,i)},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})}),(0,x.jsxs)(p.A,{size:"lg",show:g,onHide:()=>j(!1),children:[(0,x.jsx)(p.A.Header,{closeButton:!0,children:(0,x.jsx)(p.A.Title,{children:"Upload "})}),(0,x.jsx)(p.A.Body,{children:(0,x.jsx)(h.A,{children:(0,x.jsxs)(u.A,{children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"name",children:"Policy Wordings/T&C"}),(0,x.jsx)("input",{type:"file",className:"form-control",id:"file",name:"file",onChange:e=>C(e.target.files[0])})]})}),""==y||null==y||void 0==y||"undefined"==y||0==y.length?"":(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("a",{className:"btn btn-warning",href:`https://insuranceapi-3o5t.onrender.com/uploads/${y}`,style:{position:"relative",top:"23px"},rel:"noreferrer",target:"_blank",children:"view"})})]})})}),(0,x.jsxs)(p.A.Footer,{children:[(0,x.jsx)(m.A,{variant:"primary",onClick:async e=>{e.preventDefault();const a=new FormData;a.append("policywordings_file",_),a.append("id",v);const s={method:"POST",body:a};await fetch("https://insuranceapi-3o5t.onrender.com/api/upload_policywordings_file",s).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e))),j(!1),d()({title:"Success!",text:"Policy Wordings File Uploaded Successfully",icon:"success",button:"Ok"})},children:"Upload"}),(0,x.jsx)(m.A,{variant:"secondary",onClick:()=>j(!1),children:"Close"})]})]})]})};const g=function(e){let{companyId:a}=e;const[s,t]=(0,n.useState)([]),[i]=(0,n.useState)(10),[l,r]=(0,n.useState)(0),[c,b]=(0,n.useState)(1),[g,j]=(0,n.useState)(!1),[v,f]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[_,C]=(0,n.useState)("");(0,n.useEffect)((()=>{k(a,c,i)}),[]);const k=(e,a,s)=>{t([]);const n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({companyId:e,page:a,perPage:s})};fetch("https://insuranceapi-3o5t.onrender.com/api/getTravelPlans",n).then((e=>e.json())).then((e=>{const a=e.total/s,n=Math.ceil(a);r(n);const i=e.data;t(i)}))},w=(e,s)=>{fetch(`https://insuranceapi-3o5t.onrender.com/api/updatestatusTravelPlan/${e}/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{200===e.status?d()({title:"Success!",text:e.message,icon:"success",button:"Ok"}).then((()=>{k(a,c,i)})):d()({title:"Error!",text:e.message,icon:"error",button:"Ok"}).then((()=>{k(a,c,i)}))}))};return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"table-responsive",children:[(0,x.jsxs)("table",{className:"table table-bordered",children:[(0,x.jsx)("thead",{className:"thead-dark",children:(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("th",{children:"Sr No."}),(0,x.jsx)("th",{children:"Travel Insurance For"}),(0,x.jsx)("th",{children:"Travel Type"}),(0,x.jsx)("th",{children:"Plan Name"}),(0,x.jsx)("th",{children:"Action"})]})}),(0,x.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map(((e,a)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:a+1}),(0,x.jsx)("td",{children:e.travel_insurance_for[0].travel_insurance_for}),(0,x.jsx)("td",{children:e.travel_type[0].travel_type}),(0,x.jsx)("td",{children:e.plan_name}),(0,x.jsxs)("td",{children:[(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/EdittravelPlan?id=${e._id}`,className:"btn btn-primary",children:"Edit"})}),"\xa0\xa0",1===e.status?(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Are you sure you wish to deactivate this item?")&&w(e._id,0)},children:"Deactivate"})}):(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{window.confirm("Are you sure you wish to activate this item?")&&w(e._id,1)},children:"Activate"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewPlanPrice?id=${e._id}`,className:"btn btn-dark",children:"Add Plan Price"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{return a=e._id,s=e.policywordings_file,j(!0),f(a),void N(s);var a,s},children:"T & C"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewStandardCover?id=${e._id}&type=travel`,className:"btn btn-info",children:"Standard Cover"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewAdditionalCover?id=${e._id}&type=travel`,className:"btn btn-warning",children:"Additional Cover"})})]})]},a)))})]}),(0,x.jsx)(o(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:l,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:e=>{const s=e.selected+1;b(s),k(a,s,i)},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})}),(0,x.jsxs)(p.A,{size:"lg",show:g,onHide:()=>j(!1),children:[(0,x.jsx)(p.A.Header,{closeButton:!0,children:(0,x.jsx)(p.A.Title,{children:"Upload "})}),(0,x.jsx)(p.A.Body,{children:(0,x.jsx)(h.A,{children:(0,x.jsxs)(u.A,{children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"name",children:"Policy Wordings/T&C"}),(0,x.jsx)("input",{type:"file",className:"form-control",id:"file",name:"file",onChange:e=>C(e.target.files[0])})]})}),""==y||null==y||void 0==y||"undefined"==y||0==y.length?"":(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("a",{className:"btn btn-warning",href:`https://insuranceapi-3o5t.onrender.com/uploads/${y}`,style:{position:"relative",top:"23px"},rel:"noreferrer",target:"_blank",children:"view"})})]})})}),(0,x.jsxs)(p.A.Footer,{children:[(0,x.jsx)(m.A,{variant:"primary",onClick:async e=>{e.preventDefault();const a=new FormData;a.append("policywordings_file",_),a.append("id",v);const s={method:"POST",body:a};await fetch("https://insuranceapi-3o5t.onrender.com/api/upload_travel_plan_policywordings_file",s).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e))),j(!1),d()({title:"Success!",text:"Policy Wordings File Uploaded Successfully",icon:"success",button:"Ok"})},children:"Upload"}),(0,x.jsx)(m.A,{variant:"secondary",onClick:()=>j(!1),children:"Close"})]})]})]})};const j=function(e){let{companyId:a}=e;const[s,t]=(0,n.useState)([]),[i]=(0,n.useState)(10),[l,r]=(0,n.useState)(0),[c,b]=(0,n.useState)(1),[g,j]=(0,n.useState)(!1),[v,f]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[_,C]=(0,n.useState)("");(0,n.useEffect)((()=>{k(a,c,i)}),[]);const k=async(e,a,s)=>{t([]);const n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({companyId:e,page:a,perPage:s})};await fetch("https://insuranceapi-3o5t.onrender.com/api/getHomePlansInsurance",n).then((e=>e.json())).then((e=>{console.log(e.data);const a=e.total/s,n=Math.ceil(a);r(n);const i=e.data;t(i)}))},w=(e,s)=>{fetch(`https://insuranceapi-3o5t.onrender.com/api/updatestatusHOmePlan/${e}/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{200===e.status?d()({title:"Success!",text:e.message,icon:"success",button:"Ok"}).then((()=>{k(a,c,i)})):d()({title:"Error!",text:e.message,icon:"error",button:"Ok"}).then((()=>{k(a,c,i)}))}))};return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"table-responsive",children:[(0,x.jsxs)("table",{className:"table table-bordered",children:[(0,x.jsx)("thead",{className:"thead-dark",children:(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("th",{children:"Sr No."}),(0,x.jsx)("th",{children:"Property Type"}),(0,x.jsx)("th",{children:"Plan Type"}),(0,x.jsx)("th",{children:"Plan Name"}),(0,x.jsx)("th",{children:"Action"})]})}),(0,x.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map(((e,a)=>{var s,n;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:a+1}),(0,x.jsx)("td",{children:null===(s=e.property_type_id)||void 0===s?void 0:s.map((e=>e.label)).join(", ")}),(0,x.jsx)("td",{children:null===(n=e.plan_type)||void 0===n?void 0:n.map((e=>e.home_plan_type)).join(", ")}),(0,x.jsx)("td",{children:e.plan_name}),(0,x.jsxs)("td",{children:[(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/EditHomePlan?id=${e._id}`,className:"btn btn-primary",children:"Edit"})}),"\xa0\xa0",1===e.status?(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Are you sure you wish to deactivate this item?")&&w(e._id,0)},children:"Deactivate"})}):(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{window.confirm("Are you sure you wish to activate this item?")&&w(e._id,1)},children:"Activate"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{return a=e._id,s=e.policywordings_file,j(!0),f(a),void N(s);var a,s},children:"T & C"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewStandardCover?id=${e._id}&type=home`,className:"btn btn-info",children:"Standard Cover"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewAdditionalCover?id=${e._id}&type=home`,className:"btn btn-warning",children:"Additional Cover"})})]})]},a)}))})]}),(0,x.jsx)(o(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:l,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:e=>{const s=e.selected+1;b(s),k(a,s,i)},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})}),(0,x.jsxs)(p.A,{size:"lg",show:g,onHide:()=>j(!1),children:[(0,x.jsx)(p.A.Header,{closeButton:!0,children:(0,x.jsx)(p.A.Title,{children:"Upload "})}),(0,x.jsx)(p.A.Body,{children:(0,x.jsx)(h.A,{children:(0,x.jsxs)(u.A,{children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"name",children:"Policy Wordings/T&C"}),(0,x.jsx)("input",{type:"file",className:"form-control",id:"file",name:"file",onChange:e=>C(e.target.files[0])})]})}),""==y||null==y||void 0==y||"undefined"==y||0==y.length?"":(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("a",{className:"btn btn-warning",href:`https://insuranceapi-3o5t.onrender.com/uploads/${y}`,style:{position:"relative",top:"23px"},rel:"noreferrer",target:"_blank",children:"view"})})]})})}),(0,x.jsxs)(p.A.Footer,{children:[(0,x.jsx)(m.A,{variant:"primary",onClick:async e=>{e.preventDefault();const a=new FormData;a.append("policywordings_file",_),a.append("id",v);const s={method:"POST",body:a};await fetch("https://insuranceapi-3o5t.onrender.com/api/upload_home_plan_policywordings_file",s).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e))),j(!1),d()({title:"Success!",text:"Policy Wordings File Uploaded Successfully",icon:"success",button:"Ok"})},children:"Upload"}),(0,x.jsx)(m.A,{variant:"secondary",onClick:()=>j(!1),children:"Close"})]})]})]})};const v=function(e){let{companyId:a}=e;const[s,t]=(0,n.useState)([]),[i]=(0,n.useState)(10),[l,r]=(0,n.useState)(0),[c,b]=(0,n.useState)(1),[g,j]=(0,n.useState)(!1),[v,f]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[_,C]=(0,n.useState)("");(0,n.useEffect)((()=>{k(a,c,i)}),[]);const k=async(e,a,s)=>{t([]);await fetch(`https://insuranceapi-3o5t.onrender.com/api/getyachtplans?companyId=${e}&page=${a}&limit=${s}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(e.data);const a=e.total/s,n=Math.ceil(a);r(n);const i=e.data;t(i)}))},w=async(e,s)=>{await fetch(`https://insuranceapi-3o5t.onrender.com/api/updateStatusYachtPlan/${e}/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{200==e.status?(d()({title:"Success!",text:e.message,icon:"success",button:!1}),k(a,c,i),setTimeout((()=>{d().close()}),1e3)):d()({title:"Error!",text:e.message,icon:"error",button:"Ok"}).then((()=>{k(a,c,i)}))}))};return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"table-responsive",children:[(0,x.jsxs)("table",{className:"table table-bordered",children:[(0,x.jsx)("thead",{className:"thead-dark",children:(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("th",{children:"Sr No."}),(0,x.jsx)("th",{children:"Plan Name"}),(0,x.jsx)("th",{children:"Policy Type"}),(0,x.jsx)("th",{children:"Action"})]})}),(0,x.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map(((e,a)=>{var s;return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:a+1}),(0,x.jsx)("td",{children:e.plan_name}),(0,x.jsx)("td",{children:null===(s=e.policy_type)||void 0===s?void 0:s.map((e=>e.policy_type_name)).join(", ")}),(0,x.jsxs)("td",{children:[(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/EditYachtPlan?id=${e._id}`,className:"btn btn-primary",children:"Edit"})}),"\xa0\xa0",1===e.status?(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Are you sure you wish to deactivate this item?")&&w(e._id,0)},children:"Deactivate"})}):(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{window.confirm("Are you sure you wish to activate this item?")&&w(e._id,1)},children:"Activate"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{return a=e._id,s=e.policywordings_file,j(!0),f(a),void N(s);var a,s},children:"T & C"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewStandardCover?id=${e._id}&type=yacht`,className:"btn btn-info",children:"Standard Cover"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewAdditionalCover?id=${e._id}&type=yacht`,className:"btn btn-warning",children:"Additional Cover"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/YachtCondition?id=${e._id}&type=yacht`,className:"btn btn-secondary",children:"Conditions"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/BlacklistYacht?id=${e._id}&type=yacht`,className:"btn btn-secondary",children:"Black Listed Yacht"})}),"\xa0\xa0"]})]},a)}))})]}),(0,x.jsx)(o(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:l,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:e=>{const s=e.selected+1;b(s),k(a,s,i)},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})}),(0,x.jsxs)(p.A,{size:"lg",show:g,onHide:()=>j(!1),children:[(0,x.jsx)(p.A.Header,{closeButton:!0,children:(0,x.jsx)(p.A.Title,{children:"Upload "})}),(0,x.jsx)(p.A.Body,{children:(0,x.jsx)(h.A,{children:(0,x.jsxs)(u.A,{children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"name",children:"Policy Wordings/T&C"}),(0,x.jsx)("input",{type:"file",className:"form-control",id:"file",name:"file",onChange:e=>C(e.target.files[0])})]})}),""==y||null==y||void 0==y||"undefined"==y||0==y.length?"":(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("a",{className:"btn btn-warning",href:`https://insuranceapi-3o5t.onrender.com/uploads/${y}`,style:{position:"relative",top:"23px"},rel:"noreferrer",target:"_blank",children:"view"})})]})})}),(0,x.jsxs)(p.A.Footer,{children:[(0,x.jsx)(m.A,{variant:"primary",onClick:async e=>{e.preventDefault();const a=new FormData;a.append("policywordings_file",_),a.append("id",v);const s={method:"POST",body:a};await fetch("https://insuranceapi-3o5t.onrender.com/api/upload_Yacht_plan_policywordings_file",s).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e))),j(!1),d()({title:"Success!",text:"Policy Wordings File Uploaded Successfully",icon:"success",button:"Ok"})},children:"Upload"}),(0,x.jsx)(m.A,{variant:"secondary",onClick:()=>j(!1),children:"Close"})]})]})]})};const f=function(e){let{companyId:a}=e;const[s,t]=(0,n.useState)([]),[i]=(0,n.useState)(10),[l,r]=(0,n.useState)(0),[c,b]=(0,n.useState)(1),[g,j]=(0,n.useState)(!1),[v,f]=(0,n.useState)(""),[y,N]=(0,n.useState)(""),[_,C]=(0,n.useState)("");(0,n.useEffect)((()=>{k(a,c,i)}),[]);const k=async(e,a,s)=>{t([]);await fetch(`https://insuranceapi-3o5t.onrender.com/api/getmedicalplansinsurance?companyId=${e}&page=${a}&limit=${s}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{var a,n,i,l;console.log(e.data[0].data);const o=null===(a=e.data[0])||void 0===a?void 0:a.totalCount,c=(null!==(n=o[0])&&void 0!==n&&n.total?null===(i=o[0])||void 0===i?void 0:i.total:0)/s,d=Math.ceil(c);r(d);const p=null===e||void 0===e||null===(l=e.data[0])||void 0===l?void 0:l.data;t(p)}))},w=async(e,s)=>{await fetch(`https://insuranceapi-3o5t.onrender.com/api/updatestatusMedicalPlan/${e}/${s}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{200==e.status?(d()({title:"Success!",text:e.message,icon:"success",button:!1}),k(a,c,i),setTimeout((()=>{d().close()}),1e3)):d()({title:"Error!",text:e.message,icon:"error",button:"Ok"}).then((()=>{k(a,c,i)}))}))};console.log(s);const S=(c-1)*i;return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"table-responsive",children:[(0,x.jsxs)("table",{className:"table table-bordered",children:[(0,x.jsx)("thead",{className:"thead-dark",children:(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("th",{children:"Sr No."}),(0,x.jsx)("th",{children:"Plan Name"}),(0,x.jsx)("th",{children:"Action"})]})}),(0,x.jsx)("tbody",{children:null===s||void 0===s?void 0:s.map(((e,a)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:S+a+1}),(0,x.jsx)("td",{children:e.plan_name}),(0,x.jsxs)("td",{children:[(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/EditMedicalPlan?id=${e._id}`,className:"btn btn-primary",children:"Edit"})}),"\xa0\xa0",1===e.status?(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Are you sure you wish to deactivate this item?")&&w(e._id,0)},children:"Deactivate"})}):(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{window.confirm("Are you sure you wish to activate this item?")&&w(e._id,1)},children:"Activate"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("button",{className:"btn btn-success",onClick:()=>{return a=e._id,s=e.policywordings_file,j(!0),f(a),void N(s);var a,s},children:"T & C"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewStandardCover?id=${e._id}&type=medical`,className:"btn btn-info",children:"Standard Cover"})}),"\xa0\xa0",(0,x.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:(0,x.jsx)("a",{href:`/ViewAdditionalCover?id=${e._id}&type=medical`,className:"btn btn-warning",children:"Additional Cover"})}),"\xa0\xa0"]})]},a)))})]}),(0,x.jsx)(o(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:l,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:e=>{const s=e.selected+1;b(s),k(a,s,i)},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})}),(0,x.jsxs)(p.A,{size:"lg",show:g,onHide:()=>j(!1),children:[(0,x.jsx)(p.A.Header,{closeButton:!0,children:(0,x.jsx)(p.A.Title,{children:"Upload "})}),(0,x.jsx)(p.A.Body,{children:(0,x.jsx)(h.A,{children:(0,x.jsxs)(u.A,{children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"name",children:"Policy Wordings/T&C"}),(0,x.jsx)("input",{type:"file",className:"form-control",id:"file",name:"file",onChange:e=>C(e.target.files[0])})]})}),""==y||null==y||void 0==y||"undefined"==y||0==y.length?"":(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("a",{className:"btn btn-warning",href:`https://insuranceapi-3o5t.onrender.com/uploads/${y}`,style:{position:"relative",top:"23px"},rel:"noreferrer",target:"_blank",children:"view"})})]})})}),(0,x.jsxs)(p.A.Footer,{children:[(0,x.jsx)(m.A,{variant:"primary",onClick:async e=>{e.preventDefault();const a=new FormData;a.append("policywordings_file",_),a.append("id",v);const s={method:"POST",body:a};await fetch("https://insuranceapi-3o5t.onrender.com/api/upload_medical_plan_policywordings_file",s).then((e=>e.text())).then((e=>console.log(e))).catch((e=>console.log("error",e))),j(!1),d()({title:"Success!",text:"Policy Wordings File Uploaded Successfully",icon:"success",button:"Ok"})},children:"Upload"}),(0,x.jsx)(m.A,{variant:"secondary",onClick:()=>j(!1),children:"Close"})]})]})]})},y=()=>{var e;const a=(0,t.Zp)(),[s,r]=(0,n.useState)(""),[o,c]=(0,n.useState)([]);(0,n.useEffect)((()=>{const e=localStorage.getItem("token");if(null===e||void 0===e||""===e)a("/login");else{const e=window.location.href.split("/")[3].split("?")[1].split("=")[1];r(e),d(e)}}),[]);const d=e=>{c([]);fetch(`https://insuranceapi-3o5t.onrender.com/api/getCompanyDetailsbyid/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{if(200===e.status){const a=e.data.company_line_of_business_id.split(","),s=a.length;for(let e=0;e<s;e++){const s={method:"GET",headers:{"Content-Type":"application/json"}};fetch(`https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_by_id/${a[e]}`,s).then((e=>e.json())).then((e=>{if(200===e.status){const a={line_of_business_id:e.data.map((e=>null===e||void 0===e?void 0:e._id)).toString(),line_of_business_name:e.data.map((e=>null===e||void 0===e?void 0:e.line_of_business_name)).toString()};c((e=>[...e,a]))}}))}}}))};return console.log(o),console.log(s),(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:"container",children:(0,x.jsx)("div",{className:"row",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("h4",{children:"Plans"})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("a",{href:"/insurance-company",className:"btn btn-primary",style:{float:"right"},children:"Back"})})]})}),(0,x.jsx)("div",{style:{padding:"5px"},children:(0,x.jsx)(i.A,{defaultActiveKey:null===(e=o[0])||void 0===e?void 0:e.line_of_business_name,id:"uncontrolled-tab-example",className:"mb-3",children:o&&o.map(((e,a)=>(0,x.jsxs)(l.A,{eventKey:e.line_of_business_name,title:e.line_of_business_name,children:["Motor"===e.line_of_business_name&&(0,x.jsx)(b,{companyId:s}),"Travel"===e.line_of_business_name&&(0,x.jsx)(g,{companyId:s}),"Home"===e.line_of_business_name&&(0,x.jsx)(j,{companyId:s}),"Yacht"===e.line_of_business_name&&(0,x.jsx)(v,{companyId:s}),"Medical"===e.line_of_business_name&&(0,x.jsx)(f,{companyId:s})]},a)))})})]})})})})})}},22740:e=>{e.exports=function(e,a,s,n,t,i,l,r){if(!e){var o;if(void 0===a)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[s,n,t,i,l,r],d=0;(o=new Error(a.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},61072:(e,a,s)=>{s.d(a,{A:()=>c});var n=s(98139),t=s.n(n),i=s(65043),l=s(67852),r=s(70579);const o=i.forwardRef(((e,a)=>{let{bsPrefix:s,className:n,as:i="div",...o}=e;const c=(0,l.oU)(s,"row"),d=(0,l.gy)(),p=(0,l.Jm)(),h=`${c}-cols`,u=[];return d.forEach((e=>{const a=o[e];let s;delete o[e],null!=a&&"object"===typeof a?({cols:s}=a):s=a;const n=e!==p?`-${e}`:"";null!=s&&u.push(`${h}${n}-${s}`)})),(0,r.jsx)(i,{ref:a,...o,className:t()(n,c,...u)})}));o.displayName="Row";const c=o},97121:(e,a,s)=>{s.d(a,{Zw:()=>o});var n=s(58168),t=s(98587),i=s(65043);s(22740);function l(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function r(e){var a=function(e,a){if("object"!==typeof e||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,a||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(e,"string");return"symbol"===typeof a?a:String(a)}function o(e,a){return Object.keys(a).reduce((function(s,o){var c,d=s,p=d[l(o)],h=d[o],u=(0,t.A)(d,[l(o),o].map(r)),m=a[o],x=function(e,a,s){var n=(0,i.useRef)(void 0!==e),t=(0,i.useState)(a),l=t[0],r=t[1],o=void 0!==e,c=n.current;return n.current=o,!o&&c&&l!==a&&r(a),[o?e:l,(0,i.useCallback)((function(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),t=1;t<a;t++)n[t-1]=arguments[t];s&&s.apply(void 0,[e].concat(n)),r(e)}),[s])]}(h,p,e[m]),b=x[0],g=x[1];return(0,n.A)({},u,((c={})[o]=b,c[m]=g,c))}),e)}function c(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function d(e){this.setState(function(a){var s=this.constructor.getDerivedStateFromProps(e,a);return null!==s&&void 0!==s?s:null}.bind(this))}function p(e,a){try{var s=this.props,n=this.state;this.props=e,this.state=a,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(s,n)}finally{this.props=s,this.state=n}}c.__suppressDeprecationWarning=!0,d.__suppressDeprecationWarning=!0,p.__suppressDeprecationWarning=!0},58168:(e,a,s)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var n in s)({}).hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},n.apply(null,arguments)}s.d(a,{A:()=>n})}}]);
//# sourceMappingURL=7543.1d18ffd0.chunk.js.map