"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2789],{2789:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var s=t(65043),l=t(73216),n=t(73023),c=t.n(n),o=t(54168),r=t(70579);const i=()=>{const e=(0,l.Zp)(),[a,t]=(0,s.useState)([]),[n,i]=(0,s.useState)(null);(0,s.useEffect)((()=>{const a=localStorage.getItem("token");null===a||void 0===a||""===a?e("/login"):d()}),[]);const d=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=e.data,s=a.length,l=[];for(let t=0;t<s;t++){const e={label:a[t].location_name,value:a[t]._id};l.push(e)}t(l)}))};return(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsx)("h4",{className:"card-title",children:"Add Nature Of Plan"})})})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("form",{action:"/",method:"POST",onSubmit:a=>{a.preventDefault();const t=new FormData(a.target),s=t.get("nature_of_plan_name"),l=n,o=l.length,r=[];for(let e=0;e<o;e++)r.push(l[e].value);const i=t.get("status"),d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nature_of_plan_name:s,nature_of_plan_location:r.toString(),nature_of_plan_status:i})};fetch("https://insuranceapi-3o5t.onrender.com/api/add_nature_of_plan",d).then((e=>e.json())).then((a=>{200===a.status?c()({title:"Success!",text:"Nature Of Plan Added Successfully!",icon:"success",button:"Ok"}).then((function(){e("/nature-of-plan")})):c()({title:"Error!",text:a.message,type:"error",icon:"error"}).then((function(){e("/nature-of-plan")}))}))},children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Nature Of Plan Name"}),(0,r.jsx)("input",{type:"text",className:"form-control",placeholder:"Nature Of Plan Name",name:"nature_of_plan_name",autoComplete:"off",required:!0})]})}),(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Location"}),(0,r.jsx)(o.default,{options:a,displayValue:"label",onSelect:i,onRemove:i,placeholder:"Select Location",showCheckbox:!0,required:!0})]})})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{className:"form-label",children:"Status"}),(0,r.jsxs)("select",{className:"form-control",name:"status",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Status"}),(0,r.jsx)("option",{value:"1",children:"Active"}),(0,r.jsx)("option",{value:"0",children:"Inactive"})]})]})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})}}}]);
//# sourceMappingURL=2789.a59bd12a.chunk.js.map