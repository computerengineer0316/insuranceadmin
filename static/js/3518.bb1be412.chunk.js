"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3518],{63518:(e,l,a)=>{a.r(l),a.d(l,{default:()=>v});var t=a(65043),n=a(53519),o=a(84217),s=a(14282),i=a(73216),r=a(92157),c=a.n(r),d=a(73023),p=a.n(d),m=a(54168),h=a(86213),u=a(70579);const v=()=>{var e;const l=(0,i.Zp)(),[a,r]=(0,t.useState)(10),[d,v]=(0,t.useState)(0),[_]=(0,t.useState)(5),[x,b]=(0,t.useState)(1),[j,g]=(0,t.useState)([]),[y,f]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1),[C,S]=(0,t.useState)([]),[P,T]=(0,t.useState)([]),[A,k]=(0,t.useState)([]),[E,q]=(0,t.useState)([]),[V,B]=(0,t.useState)([]),[F,H]=(0,t.useState)([]),[L,M]=(0,t.useState)([]),[R,D]=(0,t.useState)([]),[G,O]=(0,t.useState)([]),[I,$]=(0,t.useState)([]),[Y,z]=(0,t.useState)([]),[U,W]=(0,t.useState)([]),[J,Z]=(0,t.useState)([]),[K,Q]=(0,t.useState)([]),[X,ee]=(0,t.useState)([]),[le,ae]=(0,t.useState)([]),[te,ne]=(0,t.useState)([]),[oe,se]=(0,t.useState)([]),[ie,re]=(0,t.useState)([]),[ce,de]=(0,t.useState)([]),[pe,me]=(0,t.useState)([]);(0,t.useEffect)((()=>{const e=localStorage.getItem("token");if(null===e||void 0===e||""===e)l("/login");else{var a;const e=JSON.parse(localStorage.getItem("user")),l=(null===e||void 0===e||null===(a=e.master_permission)||void 0===a?void 0:a[0])||{};g(l),Se(x,_),ge(),ye(),Ne(),fe(),we(),xe(),be(),je(),ve(),_e(),he()}}),[]);const he=async e=>{await fetch("https://insuranceapi-3o5t.onrender.com/api/getPolicyType",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(e.data);let l=e.data;const a=l.length,t=[];for(let n=0;n<a;n++){const e={label:l[n].policy_type_name,value:l[n]._id};t.push(e)}z(t)}))},ue=e=>{e.preventDefault();const l=e.target.value.split(",");let a={value:l[0],label:l[1]};console.log("lob value>>>>>",a),Z(a)},ve=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getTravelInsuranceFor",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const l=e.data.map((e=>({label:e.travel_insurance_for,value:e._id})));$(l)}))},_e=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/travelcovertype",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const l=e.data.map((e=>({label:e.travel_cover_type,value:e._id})));ae(l)}))},xe=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getPlanCategory",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const l=e.data.map((e=>({label:e.plan_category_name,value:e._id})));Q(l)}))},be=()=>{const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}};fetch("https://insuranceapi-3o5t.onrender.com/api/get_home_plan_type?match=true",e).then((e=>e.json())).then((e=>{const l=e.data.map((e=>({label:e.home_plan_type,value:e._id})));se(l)}))},je=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getMedicalPlanTypeList",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const l=e.data.map((e=>({label:e.medical_plan_type,value:e._id})));me(l)}))},ge=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const l=e.data,a=l.length,t=[];for(let n=0;n<a;n++){const e={label:l[n].line_of_business_name,value:l[n]._id};t.push(e)}console.log(t,"line_of_business_list"),k(t)}))},ye=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const l=e.data,a=l.length,t=[];for(let n=0;n<a;n++){const e={label:l[n].location_name,value:l[n]._id};t.push(e)}M(t),q(t)}))},fe=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/company_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{H(e.data)}))},Ne=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getNatureOfPlan",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{B(e.data)}))},we=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getRepairCondition",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const l=e.data,a=l.length,t=[];for(let n=0;n<a;n++){const e={_id:l[n]._id,repair_type_name:l[n].repair_type_name};t.push(e)}D(t)}))},Ce=async(e,l)=>{h.A.post(`https://insuranceapi-3o5t.onrender.com/api/updateBestPlanStatus?id=${e}&status=${l}`).then((e=>{var l;200==e.status?(f(!1),p()({text:e.data.message,type:"success",icon:"success"}).then((function(){Se(x,_)}))):(f(!1),p()({title:"Error!",text:null===(l=e.data)||void 0===l?void 0:l.message,type:"error",icon:"error"}).then((function(){Se(x,_)})))}))},Se=(e,l)=>{try{h.A.get(`https://insuranceapi-3o5t.onrender.com/api/getAllBestPlans?page=${e}&perPage=${l}`).then((e=>{if(200==e.status){const a=e.data.count/l,t=Math.ceil(a);v(t),console.log(e.data.data,"data.data.data"),S(e.data.data),f(!1)}else f(!1),p()({title:"Error!",text:e.data.message,type:"error",icon:"error"}).then((function(){}))}))}catch(a){console.log(a.message)}},Pe=(x-1)*_;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.A,{children:(0,u.jsxs)("div",{className:"card mb-4",children:[(0,u.jsx)("div",{className:"card-header",children:(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsx)("h4",{className:"card-title",children:"Best Plan"})}),(0,u.jsx)("div",{className:"col-md-6",children:null!==(e=j.best_plan)&&void 0!==e&&e.includes("create")?(0,u.jsx)("button",{className:"btn btn-primary",style:{float:"right"},onClick:()=>f(!0),children:"Add Best Plan"}):""})]})}),(0,u.jsxs)("div",{className:"card-body",children:[(0,u.jsxs)("table",{className:"table table-bordered table-responsive ",children:[(0,u.jsx)("thead",{className:"thead-dark",children:(0,u.jsxs)("tr",{className:"table-info",children:[(0,u.jsx)("th",{scope:"col",children:"#"}),(0,u.jsx)("th",{scope:"col",children:"LOB"}),(0,u.jsx)("th",{scope:"col",children:"Company Name"}),(0,u.jsx)("th",{scope:"col",children:"Plan Price"}),(0,u.jsx)("th",{scope:"col",children:"Plan Price Topup"}),(0,u.jsx)("th",{scope:"col",children:"Location"}),(0,u.jsx)("th",{scope:"col",children:"Action"})]})}),(0,u.jsx)("tbody",{children:(null===C||void 0===C?void 0:C.length)>0?C.map(((e,l)=>{var a,t,n,o,s,i;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:Pe+l+1}),(0,u.jsx)("td",{children:null===e||void 0===e||null===(a=e.lob[0])||void 0===a?void 0:a.line_of_business_name}),(0,u.jsx)("td",{children:null===e||void 0===e||null===(t=e.company_id[0])||void 0===t?void 0:t.company_name}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.best_plan_price}),(0,u.jsx)("td",{children:null===e||void 0===e?void 0:e.best_plan_topup}),(0,u.jsx)("td",{children:null===e||void 0===e||null===(n=e.location)||void 0===n||null===(o=n.map((e=>e.location_name)))||void 0===o?void 0:o.join(", ")}),(0,u.jsxs)("td",{children:[(null===(s=j.best_plan)||void 0===s?void 0:s.includes("edit"))&&(0,u.jsx)("button",{className:"btn btn-primary",onClick:()=>(e=>{try{h.A.get(`https://insuranceapi-3o5t.onrender.com/api/getbestplanbyid?id=${e}`).then((e=>{if(201==e.status){var l,a,t,n,o,s,i,r,c,d,m,h,u,v,_,x,b,j,g,y,N,C;console.log(null===(l=e.data)||void 0===l?void 0:l.data[0],">>>>>>> Update data"),T(null===(a=e.data)||void 0===a?void 0:a.data[0]);const p=null===(t=e.data)||void 0===t||null===(n=t.data[0])||void 0===n?void 0:n.location,f=[];for(let e=0;e<(null===p||void 0===p?void 0:p.length);e++){const l={label:p[e].location_name,value:p[e]._id};f.push(l)}M(f);const S=null===(o=e.data)||void 0===o||null===(s=o.data[0])||void 0===s?void 0:s.plan_category,P=null===S||void 0===S?void 0:S.map((e=>({label:e.plan_category_name,value:e._id}))),A=null===(i=e.data)||void 0===i||null===(r=i.data[0])||void 0===r?void 0:r.policy_types,k=null===A||void 0===A?void 0:A.map((e=>({label:e.policy_type_name,value:e._id})));W(k),O(P);const E=null===(c=e.data)||void 0===c||null===(d=c.data[0])||void 0===d?void 0:d.policy_types,q=(null===E||void 0===E||E.map((e=>({label:e.policy_type_name,value:e._id}))),null===(m=e.data)||void 0===m||null===(h=m.data[0])||void 0===h?void 0:h.lob_result),V=null===q||void 0===q?void 0:q.map((e=>({label:e.line_of_business_name,value:e._id})));Z(V[0]);const B=null===(u=e.data)||void 0===u||null===(v=u.data[0])||void 0===v?void 0:v.locations,F=(null===B||void 0===B||B.map((e=>({label:e.location_name,value:e._id}))),null===(_=e.data)||void 0===_||null===(x=_.data[0])||void 0===x?void 0:x.travel_insurance_for),H=null===F||void 0===F?void 0:F.map((e=>({label:e.travel_insurance_for,value:e._id})));ee(H);const L=null===(b=e.data)||void 0===b||null===(j=b.data[0])||void 0===j?void 0:j.cover_type,R=null===L||void 0===L?void 0:L.map((e=>({label:e.travel_cover_type,value:e._id})));ne(R);const D=null===(g=e.data)||void 0===g||null===(y=g.data[0])||void 0===y?void 0:y.home_plan_type,G=null===D||void 0===D?void 0:D.map((e=>({label:e.home_plan_type,value:e._id})));re(G);const I=null===(N=e.data)||void 0===N||null===(C=N.data[0])||void 0===C?void 0:C.medical_plan_type;null===I||void 0===I||I.map((e=>({label:e.medical_plan_type,value:e._id}))),w(!0)}else f(!1),p()({title:"Error!",text:e.message,type:"error",icon:"error"}).then((function(){}))}))}catch(l){console.log(l.message)}})(e._id),children:"Edit"})," ",(null===(i=j.best_plan)||void 0===i?void 0:i.includes("edit"))&&(0,u.jsxs)(u.Fragment,{children:[1==e.status?(0,u.jsx)("button",{className:"btn btn-danger mx-1",onClick:()=>{window.confirm("Are you sure you wish to deactivate this item?")&&Ce(e._id,0)},children:"Deactivate"}):(0,u.jsx)("button",{className:"btn btn-success mx-1",onClick:()=>{window.confirm("Are you sure you wish to activate this item?")&&Ce(e._id,1)},children:"Activate"}),(0,u.jsx)("button",{className:"btn btn-warning mx-1",onClick:()=>{var l;window.confirm("Are you sure you wish to Delete this item?")&&(l=e._id,fetch(`https://insuranceapi-3o5t.onrender.com/api/deleteMasterData/?id=${l}&type=best_plan`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{200===e.status?(p()({text:e.message,icon:"success",button:!1}),Se(x,_),setTimeout((()=>{p().close()}),1e3)):(p()({title:"Error!",text:e.message,icon:"error",button:!1}),Se(x,_),setTimeout((()=>{p().close()}),1e3))})))},children:"Delete"})]})]})]},l)})):(0,u.jsx)("tr",{children:(0,u.jsx)("td",{colSpan:"6",children:"No Data Found"})})})]}),(0,u.jsx)(c(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:d,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:e=>{const l=e.selected;b(l+1),Se(l+1,_)},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})]})]})}),(0,u.jsxs)(o.A,{size:"lg",show:y,onHide:()=>f(!1),children:[(0,u.jsx)(o.A.Header,{closeButton:!0,children:(0,u.jsx)(o.A.Title,{children:"Add best plan"})}),(0,u.jsx)(o.A.Body,{children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-md-12",children:(0,u.jsx)("div",{className:"card",children:(0,u.jsx)("div",{children:(0,u.jsxs)("form",{onSubmit:e=>{e.preventDefault();const l=new FormData(e.target),a=l.get("lob"),t=l.get("company_id"),n=l.get("best_plan_price"),o=l.get("best_plan_price_topup"),s=l.get("nature_of_plan");let i={};if("Travel"==J.label){if(0==X.length)return p()({title:"Alert!",text:"Please select Travel Insurance For",type:"warning",icon:"warning"}),!1;if(0==te.length)return p()({title:"Alert!",text:"Please select Cover Type",type:"warning",icon:"warning"}),!1;i={lob:a,company_id:t,best_plan_price:n,best_plan_topup:o,travel_insurance_for:X,travel_cover_type:te,location:L,nature_of_plan:s}}else if("Motor"==J.label||"Yacht"==J.label){if(0==U.length)return p()({title:"Alert!",text:"Please select Policy Type",type:"warning",icon:"warning"}),!1;if(0==G.length)return p()({title:"Alert!",text:"Please select Plan Category",type:"warning",icon:"warning"}),!1;i={lob:a,company_id:t,best_plan_price:n,best_plan_topup:o,location:L,plan_category:G,policy_type:U,nature_of_plan:s}}else if("Home"==J.label){if(0==ie.length)return p()({title:"Alert!",text:"Please select Home Plan Type",type:"warning",icon:"warning"}),!1;if(0==G.length)return p()({title:"Warning!",text:"Please select Plan Category",type:"warning",icon:"warning"}),!1;i={lob:a,company_id:t,best_plan_price:n,best_plan_topup:o,location:L,plan_category:G,home_plan_type:ie,nature_of_plan:s}}else if("Medical"==J.label){if(0==ce.length)return p()({title:"Error!",text:"Please select Medical Plan Type",type:"warning",icon:"warning"}),!1;if(0==G.length)return p()({title:"Error!",text:"Please select Plan Category",type:"waring",icon:"warning"}),!1;i={lob:a,company_id:t,best_plan_price:n,best_plan_topup:o,location:L,plan_category:G,medical_plan_type:ce,nature_of_plan:s}}h.A.post("https://insuranceapi-3o5t.onrender.com/api/addBestPlan",i).then((e=>{var l,a;201==e.status?(f(!1),p()({text:null===(l=e.data)||void 0===l?void 0:l.message,type:"success",icon:"success"}).then((function(){Se(x,_)}))):(f(!1),p()({title:"Error!",text:null===(a=e.data)||void 0===a?void 0:a.message,type:"error",icon:"error"}).then((function(){})))}))},children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group ",children:[(0,u.jsx)("strong",{children:"Company Name"}),(0,u.jsxs)("select",{required:!0,className:"form-control",name:"company_id",children:[(0,u.jsx)("option",{value:"",children:"Select Company"}),F.map(((e,l)=>(0,u.jsx)("option",{value:e._id,children:e.company_name},l)))]})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group ",children:[(0,u.jsx)("strong",{children:"Line Of Business"}),(0,u.jsxs)("select",{required:!0,className:"form-control",onChange:e=>ue(e),name:"lob",children:[(0,u.jsx)("option",{value:"",children:"Select Line Of Business"}),A.map(((e,l)=>(0,u.jsx)("option",{value:e.value+","+e.label,children:e.label},l)))]})]})}),"Motor"===J.label||"Yacht"===J.label||"Medical"===J.label||"Home"===J.label?(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Select Plan Category"})}),(0,u.jsx)(m.default,{options:K,displayValue:"label",onSelect:O,onRemove:O,placeholder:"Select Plan Category",showCheckbox:!0,showArrow:!0,required:!0})]})}):"","Motor"===J.label||"Yacht"===J.label?(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Select Policy Type"})}),(0,u.jsx)(m.default,{options:Y,displayValue:"label",onSelect:W,onRemove:W,placeholder:"Select Policy Type",showCheckbox:!0,showArrow:!0,required:!0})]})}):"","Travel"===J.label?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("strong",{children:(0,u.jsx)("label",{children:"Travel Insurance For"})}),(0,u.jsx)(m.default,{options:I,displayValue:"label",onSelect:ee,onRemove:ee,placeholder:"Select Travel Insurance For",showArrow:!0,showCheckbox:!0,required:!0})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("strong",{children:(0,u.jsx)("label",{children:"Cover Type"})}),(0,u.jsx)(m.default,{options:le,displayValue:"label",onSelect:ne,onRemove:ne,placeholder:"Select Travel Cover Type",showArrow:!0,showCheckbox:!0,required:!0})]})})]}):"","Home"===J.label?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Home Plan Type"})}),(0,u.jsx)(m.default,{options:oe,displayValue:"label",onSelect:re,onRemove:re,placeholder:"Select Home Plan Type",showArrow:!0,showCheckbox:!0,required:!0})]})})}):"","Medical"===J.label?(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("strong",{children:(0,u.jsx)("label",{children:"Medical Plan Type"})}),(0,u.jsx)(m.default,{options:pe,displayValue:"label",onSelect:de,onRemove:de,placeholder:"Select Home Plan Type",showArrow:!0,showCheckbox:!0,required:!0})]})}):"",(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group ",children:[(0,u.jsx)("strong",{children:"Nature of Plan"}),(0,u.jsxs)("select",{required:!0,className:"form-control",name:"nature_of_plan",children:[(0,u.jsx)("option",{value:"",children:"Select Nature of Plan"}),V.map(((e,l)=>(0,u.jsx)("option",{value:e._id,children:e.nature_of_plan_name},l)))]})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Best Plan Price"})}),(0,u.jsx)("input",{type:"text",className:"form-control",name:"best_plan_price",placeholder:"Enter best plan price",autoComplete:"off",required:!0})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Best Plan Price Topup"})}),(0,u.jsx)("input",{type:"text",className:"form-control",name:"best_plan_price_topup",placeholder:"Enter best plan price topup",autoComplete:"off",required:!0})]})}),(0,u.jsx)("div",{className:"col-md-6",children:(0,u.jsxs)("div",{className:"form-group",children:[(0,u.jsx)("label",{children:"Location"}),(0,u.jsx)(m.default,{options:E,selectedValues:E,onSelect:e=>M(e),onRemove:e=>M(e),displayValue:"label",placeholder:"Select Location",closeOnSelect:!1,avoidHighlightFirstOption:!0,showCheckbox:!0,style:{chips:{background:"#007bff"}},required:!0})]})})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{className:"btn btn-primary my-2 mx-2",type:"submit",children:"Submit"})})]})})})})})})}),(0,u.jsx)(o.A.Footer,{children:(0,u.jsx)(s.A,{variant:"secondary",onClick:()=>f(!1),children:"Close"})})]}),(0,u.jsxs)(o.A,{size:"lg",show:N,onHide:()=>w(!1),children:[(0,u.jsx)(o.A.Header,{closeButton:!0,children:(0,u.jsx)(o.A.Title,{children:"Edit Best Plan"})}),(0,u.jsx)(o.A.Body,{children:(0,u.jsx)("div",{className:"container",children:(0,u.jsx)("div",{className:"row",children:(0,u.jsx)("div",{className:"col-md-12",children:(0,u.jsx)("div",{className:"card",children:(0,u.jsx)("div",{className:"card-body",children:(0,u.jsxs)("form",{method:"PUT",onSubmit:e=>{e.preventDefault();const l=new FormData(e.target),a=l.get("lob"),t=l.get("company_id"),n=l.get("best_plan_price"),o=l.get("best_plan_price_topup"),s=l.get("nature_of_plan");let i={};if("Travel"==J.label){if(0==X.length)return p()({title:"Alert!",text:"Please select Travel Insurance For",type:"warning",icon:"warning"}),!1;if(0==te.length)return p()({title:"Alert!",text:"Please select Cover Type",type:"warning",icon:"warning"}),!1;i={lob:a,company_id:t,best_plan_price:n,best_plan_topup:o,travel_insurance_for:X,travel_cover_type:te,nature_of_plan:s,location:L}}else if("Motor"==J.label||"Yacht"==J.label){if(0==U.length)return p()({title:"Alert!",text:"Please select Policy Type",type:"warning",icon:"warning"}),!1;if(0==G.length)return p()({title:"Alert!",text:"Please select Plan Category",type:"warning",icon:"warning"}),!1;i={lob:a,company_id:t,best_plan_price:n,best_plan_topup:o,location:L,plan_category:G,policy_type:U,nature_of_plan:s}}else if("Home"==J.label){if(0==ie.length)return p()({title:"Alert!",text:"Please select Home Plan Type",type:"warning",icon:"warning"}),!1;if(0==G.length)return p()({title:"Warning!",text:"Please select Plan Category",type:"warning",icon:"warning"}),!1;i={lob:a,company_id:t,best_plan_price:n,best_plan_topup:o,location:L,plan_category:G,nature_of_plan:s,home_plan_type:ie}}else if("Medical"==J.label){if(0==ce.length)return p()({title:"Error!",text:"Please select Medical Plan Type",type:"warning",icon:"warning"}),!1;if(0==G.length)return p()({title:"Error!",text:"Please select Plan Category",type:"waring",icon:"warning"}),!1;i={lob:a,company_id:t,best_plan_price:n,best_plan_topup:o,location:L,nature_of_plan:s,plan_category:G,medical_plan_type:ce}}const r=P._id;h.A.post(`https://insuranceapi-3o5t.onrender.com/api/updateBestPlan?id=${r}`,i).then((e=>{200==e.status?(w(!1),Se(x,_),p()({text:e.message,type:"success",icon:"success"})):(w(!1),p()({title:"Error!",text:e.message,type:"error",icon:"error"}).then((function(){})))}))},children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-md-4",children:[(0,u.jsx)("strong",{children:"Company Name"}),(0,u.jsxs)("select",{required:!0,className:"form-control",name:"company_id",children:[(0,u.jsx)("option",{value:"",children:"Select Company"}),F.map(((e,l)=>(0,u.jsx)("option",{value:e._id,selected:P.company_id==e._id,children:e.company_name},l)))]})]}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group ",children:[(0,u.jsx)("strong",{children:"Line Of Business"}),(0,u.jsxs)("select",{required:!0,className:"form-control",onChange:e=>ue(e),name:"lob",children:[(0,u.jsx)("option",{value:"",children:"Select Line Of Business"}),A.map(((e,l)=>(0,u.jsx)("option",{value:e.value+","+e.label,selected:e.value==P.lob,children:e.label},l)))]})]})}),"Motor"===J.label||"Yacht"===J.label||"Medical"===J.label||"Home"===J.label?(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Select Plan Category"})}),(0,u.jsx)(m.default,{options:K,selectedValues:G,displayValue:"label",onSelect:O,onRemove:O,placeholder:"Select Plan Category",showCheckbox:!0,showArrow:!0,required:!0})]})}):"","Motor"===J.label||"Yacht"===J.label?(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Select Policy Type"})}),(0,u.jsx)(m.default,{options:Y,displayValue:"label",selectedValues:U,onSelect:W,onRemove:W,placeholder:"Select Policy Type",showCheckbox:!0,showArrow:!0,required:!0})]})}):"","Travel"===J.label?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("strong",{children:(0,u.jsx)("label",{children:"Travel Insurance For"})}),(0,u.jsx)(m.default,{options:I,selectedValues:X,displayValue:"label",onSelect:ee,onRemove:ee,placeholder:"Select Travel Insurance For",showArrow:!0,showCheckbox:!0,required:!0})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("strong",{children:(0,u.jsx)("label",{children:"Travel Cover Type"})}),(0,u.jsx)(m.default,{options:le,selectedValues:te,displayValue:"label",onSelect:ne,onRemove:ne,placeholder:"Select Travel Cover Type",showArrow:!0,showCheckbox:!0,required:!0})]})})]}):"","Home"===J.label?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Home Plan Type"})}),(0,u.jsx)(m.default,{options:oe,selectedValues:ie,displayValue:"label",onSelect:re,onRemove:re,placeholder:"Select Travel Cover Type",showArrow:!0,showCheckbox:!0,required:!0})]})})}):"","Medical"===J.label?(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("strong",{children:(0,u.jsx)("label",{children:"Medical Plan Type"})}),(0,u.jsx)(m.default,{options:pe,selectedValues:ce,displayValue:"label",onSelect:de,onRemove:de,placeholder:"Select Home Plan Type",showArrow:!0,showCheckbox:!0,required:!0})]})}):"",(0,u.jsxs)("div",{className:"col-md-4",children:[(0,u.jsx)("strong",{children:"Nature of Plan"}),(0,u.jsxs)("select",{required:!0,className:"form-control",name:"nature_of_plan",children:[(0,u.jsx)("option",{hidden:!0,value:"",children:"Select Nature of Plan"}),V.map(((e,l)=>(0,u.jsx)("option",{value:e._id,selected:P.nature_of_plan==e._id,children:e.nature_of_plan_name},l)))]})]}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Best plan Price"})}),(0,u.jsx)("input",{type:"text",className:"form-control",name:"best_plan_price",placeholder:"Enter Best plan price Description",defaultValue:null===P||void 0===P?void 0:P.best_plan_price,autoComplete:"off",required:!0})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{className:"form-label",children:(0,u.jsx)("strong",{children:"Best Plan Price Topup"})}),(0,u.jsx)("input",{type:"text",className:"form-control",name:"best_plan_price_topup",placeholder:"Enter best plan price topup",defaultValue:null===P||void 0===P?void 0:P.best_plan_topup,autoComplete:"off",required:!0})]})}),(0,u.jsx)("div",{className:"col-md-4",children:(0,u.jsxs)("div",{className:"form-group mb-3",children:[(0,u.jsx)("label",{children:"Location"}),(0,u.jsx)(m.default,{options:E,selectedValues:L,onSelect:e=>M(e),onRemove:e=>M(e),displayValue:"label",placeholder:"Select Location",closeOnSelect:!1,avoidHighlightFirstOption:!0,showCheckbox:!0,style:{chips:{background:"#007bff"}},required:!0})]})})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{className:"btn btn-primary my-2 mx-2",type:"submit",children:"Update"})})]})})})})})})}),(0,u.jsx)(o.A.Footer,{children:(0,u.jsx)(s.A,{variant:"secondary",onClick:()=>w(!1),children:"Close"})})]})]})}}}]);
//# sourceMappingURL=3518.bb1be412.chunk.js.map