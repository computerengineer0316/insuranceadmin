"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[2086],{2086:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});a(93946);var n=a(65043),l=a(54168),s=a(73216),i=a(73023),o=a.n(i),r=a(70579);const c=()=>{const e=(0,s.Zp)();(0,n.useEffect)((()=>{b(),N()}),[]);const t=window.location.href,a=new URLSearchParams(t.split("?")[1]).get("id"),i=(0,s.zy)().pathname.split("?")[1];console.log(i);const[c,d]=(0,n.useState)([]),[h,u]=(0,n.useState)(),[m,p]=(0,n.useState)([]),[g,v]=(0,n.useState)([]),[j,_]=(0,n.useState)(""),[f,x]=(0,n.useState)(),b=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,a=t.length,n=[];for(let l=0;l<a;l++){const e={label:t[l].location_name,value:t[l]._id};n.push(e)}d(n)}))},S=e=>{u(e)},N=async()=>{const e={method:"post",body:JSON.stringify({ParamValue:a}),headers:{"Content-Type":"application/json"}};let t=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_travel_region_list_id",e);t=await t.json(),_(t.travel_region),x(t.travel_region_status);const n=t.travel_region_location.toString().split(","),l=n.length,s=[];for(let a=0;a<l;a++){const e={method:"GET",headers:{"Content-Type":"application/json"}};fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location_by_id/${n[a]}`,e).then((e=>e.json())).then((e=>{s.push(e.data.location_name);if(s.length===l){const e=s.join(",").split(","),t=e.length,a=[];for(let l=0;l<t;l++){const t={label:e[l],value:n[l]};a.push(t)}u(a),v(a)}}))}b()};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h4",{className:"card-title",children:" Travel Region"})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("form",{action:"/",method:"POST",onSubmit:async t=>{if(t.preventDefault(),""===j||null===j)return o()("Please Enter Travel Region","","warning"),!1;if(void 0==g||null==g)return o()("Please Select Travel Region Location","","warning"),!1;if(""===f||null===f)return o()("Please Select Travel Region Status","","warning"),!1;{const t=h,n=t.length,l=[];for(let e=0;e<n;e++)l.push(t[e].value);let s=await fetch("https://insuranceapi-3o5t.onrender.com/api/update_travel_region_list_details",{method:"POST",body:JSON.stringify({ParamValue:a,travel_region:j,travel_region_location:l.toString(),travel_region_status:f}),headers:{"Content-Type":"application/json"}});s=await s.json(),o()("Updated Succesfully","","success"),e("/Viewtravelregionlist")}},children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Edit Travel Region"})}),(0,r.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Name",defaultValue:j,onChange:e=>_(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Select Location"})}),(0,r.jsx)(l.default,{options:c,selectedValues:h,onSelect:S,onRemove:S,displayValue:"label",placeholder:"Select Location",closeOnSelect:!1,avoidHighlightFirstOption:!0,showCheckbox:!0,style:{chips:{background:"#007bff"}},required:!0})]}),(0,r.jsxs)("div",{className:"col-md-6",children:[(0,r.jsx)("label",{className:"form-label",children:(0,r.jsx)("strong",{children:"Status"})}),".",(0,r.jsxs)("select",{className:"form-control",name:"status",onChange:e=>x(e.target.value),children:[(0,r.jsx)("option",{defaultValue:f,hidden:!0,children:1==f?"Active":"InActive"}),(0,r.jsx)("option",{value:"1",children:"Active"}),(0,r.jsx)("option",{value:"0",children:"InActive"})]})]})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})})}}}]);
//# sourceMappingURL=2086.3b739c55.chunk.js.map