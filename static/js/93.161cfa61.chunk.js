"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[93,1072,8691,6310],{93:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var s=t(65043),n=t(92157),o=t.n(n),l=t(73216),i=t(1177),r=t(84217),c=t(53519),d=t(61072),p=t(14282),m=t(86178),h=t.n(m),u=t(30710),x=t(70579);const g=function(e){let{filterOptions:a,defaultOptions:t}=e;const n=(0,l.Zp)(),[m,g]=(0,s.useState)([]),[j,f]=(0,s.useState)([]),[v,y]=(0,s.useState)([]),[b]=(0,s.useState)(5),[N,_]=(0,s.useState)(0),[w,C]=(0,s.useState)(1),[A,S]=(0,s.useState)(!1),[k,O]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?n("/login"):P(w,b)}),[a]);const P=async(e,s)=>{O(!0);let n=a.location,o=a.lob,l=a.businessType,i=a.agent,r=a.dateRange,c=t.startdate,d=t.enddate;n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):[],o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):[],l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):[],i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):t.defaultagent.map((e=>e.value));const p=localStorage.getItem("token"),m=JSON.parse(localStorage.getItem("user")).usertype,h={method:"POST",body:JSON.stringify({page:e,limit:s,location:n,lob:o,business_type:l,newagent:i,dateRange:r,startdate:c,enddate:d}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+p}};"646224eab201a6f07b2dff36"==m&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Closed",h).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);_(t);const n=e.data;g(n)})).catch((e=>{console.log(e)})).finally((()=>{O(!1)})),"64622470b201a6f07b2dff22"==m&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Closed&dashboardType=salesAdvisorDashboard",h).then((e=>e.json())).then((e=>{const a=e.total/s,t=Math.ceil(a);_(t);const n=e.data;g(n)})).catch((e=>{console.log(e)})).finally((()=>{O(!1)}))},T=(w-1)*b;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i.A,{children:(0,x.jsxs)(i.A.Item,{eventKey:"1",children:[(0,x.jsx)(i.A.Header,{children:(0,x.jsx)("div",{className:"card-header new_leads",children:(0,x.jsx)("strong",{children:"Issued Policies"})})}),(0,x.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,x.jsxs)("table",{className:"table solid salesdashboards1234",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("th",{scope:"col",children:"Sr"}),(0,x.jsx)("th",{scope:"col",children:"Name"}),(0,x.jsx)("th",{scope:"col",children:"Phone No."}),(0,x.jsx)("th",{scope:"col",children:"Email-ID"}),(0,x.jsx)("th",{scope:"col",children:"Assigned Date & Time"}),(0,x.jsx)("th",{scope:"col",children:"Aging (as of today)"}),(0,x.jsx)("th",{scope:"col",children:"Type of Policy"}),(0,x.jsx)("th",{scope:"col",children:"Business Type"}),(0,x.jsx)("th",{scope:"col",children:"Action"})]})}),(0,x.jsx)("tbody",{children:k?(0,x.jsx)("div",{className:"loader-container",children:(0,x.jsx)(u.A,{color:"#ED1C24",loading:k,size:50})}):(0,x.jsx)(x.Fragment,{children:m.length>0?m.map(((e,a)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:T+a+1}),(0,x.jsx)("td",{children:e.name}),(0,x.jsx)("td",{children:(0,x.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`https://wa.me/${e}`;window.open(a)})(e.phoneno),children:e.phoneno})}),(0,x.jsx)("td",{children:(0,x.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`mailto:${e}`;window.open(a)})(e.email),children:e.email})}),(0,x.jsx)("td",{children:e.assign_salesadvisor_timestamp?new Date(e.assign_salesadvisor_timestamp).toString():new Date(e.new_lead_timestamp).toString()}),(0,x.jsx)("td",{children:e.assign_salesadvisor_timestamp?h()(e.assign_salesadvisor_timestamp).fromNow():h()(e.new_lead_timestamp).fromNow()}),(0,x.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,x.jsx)("td",{children:e.business_type}),(0,x.jsx)("td",{className:"buttons_icons",children:(0,x.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>(async e=>{let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_new_lead_detailsbyid",{method:"post",body:JSON.stringify({ParamValue:e}),headers:{"Content-Type":"application/json"}});a=await a.json(),f(a.data[0]),y(a.data[0].policy_type[0].line_of_business_name),S(!0)})(e._id),children:(0,x.jsx)("i",{className:"fa-solid fa-eye"})})})]},a))):(0,x.jsx)("tr",{children:(0,x.jsx)("td",{colSpan:"12",className:"text-center",children:(0,x.jsx)("strong",{children:"No Records Found"})})})})})]}),(0,x.jsx)("section",{children:(0,x.jsx)(o(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:N,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const a=e.selected;C(a+1),P(a+1,b,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})}),(0,x.jsxs)(r.A,{size:"lg",show:A,onHide:()=>S(!1),children:[(0,x.jsx)(r.A.Header,{closeButton:!0,children:(0,x.jsx)(r.A.Title,{children:"Lead Detail"})}),(0,x.jsx)(r.A.Body,{children:(0,x.jsxs)(c.A,{children:[(0,x.jsxs)(d.A,{children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"name",children:"Name"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:j.name})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"email",children:"Email"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:j.email})]})})]}),(0,x.jsxs)(d.A,{children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"phoneno",children:"Phone No."}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"phoneno",name:"phoneno",value:j.phoneno})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"dob",children:"Line Of Business"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"lob",name:"lob",value:v})]})})]})]})}),(0,x.jsx)(r.A.Footer,{children:(0,x.jsx)(p.A,{variant:"secondary",onClick:()=>S(!1),children:"Close"})})]})]})}},61072:(e,a,t)=>{t.d(a,{A:()=>c});var s=t(98139),n=t.n(s),o=t(65043),l=t(67852),i=t(70579);const r=o.forwardRef(((e,a)=>{let{bsPrefix:t,className:s,as:o="div",...r}=e;const c=(0,l.oU)(t,"row"),d=(0,l.gy)(),p=(0,l.Jm)(),m=`${c}-cols`,h=[];return d.forEach((e=>{const a=r[e];let t;delete r[e],null!=a&&"object"===typeof a?({cols:t}=a):t=a;const s=e!==p?`-${e}`:"";null!=t&&h.push(`${m}${s}-${t}`)})),(0,i.jsx)(o,{ref:a,...r,className:n()(s,c,...h)})}));r.displayName="Row";const c=r},30710:(e,a,t)=>{t.d(a,{A:()=>c});var s=t(65043),n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function o(e){var a=function(e){if("number"===typeof e)return{value:e,unit:"px"};var a,t=(e.match(/^[0-9.]*/)||"").toString();a=t.includes(".")?parseFloat(t):parseInt(t,10);var s=(e.match(/[^0-9]*$/)||"").toString();return n[s]?{value:a,unit:s}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(a,"px.")),{value:a,unit:"px"})}(e);return"".concat(a.value).concat(a.unit)}var l=function(){return l=Object.assign||function(e){for(var a,t=1,s=arguments.length;t<s;t++)for(var n in a=arguments[t])Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e},l.apply(this,arguments)},i=function(e,a){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&a.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]])}return t},r=function(e,a,t){var s="react-spinners-".concat(e,"-").concat(t);if("undefined"==typeof window||!window.document)return s;var n=document.createElement("style");document.head.appendChild(n);var o=n.sheet,l="\n    @keyframes ".concat(s," {\n      ").concat(a,"\n    }\n  ");return o&&o.insertRule(l,0),s}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const c=function(e){var a=e.loading,t=void 0===a||a,n=e.color,c=void 0===n?"#000000":n,d=e.speedMultiplier,p=void 0===d?1:d,m=e.cssOverride,h=void 0===m?{}:m,u=e.size,x=void 0===u?35:u,g=i(e,["loading","color","speedMultiplier","cssOverride","size"]),j=l({background:"transparent !important",width:o(x),height:o(x),borderRadius:"100%",border:"2px solid",borderTopColor:c,borderBottomColor:"transparent",borderLeftColor:c,borderRightColor:c,display:"inline-block",animation:"".concat(r," ").concat(.75/p,"s 0s infinite linear"),animationFillMode:"both"},h);return t?s.createElement("span",l({style:j},g)):null}}}]);
//# sourceMappingURL=93.161cfa61.chunk.js.map