"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9170],{69170:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var l=a(65043),o=a(73216),s=a(12488),n=(a(84596),a(93946)),r=a(70579);const i=function(e){let{filterOptions:t,defaultOptions:a}=e;console.log("filterOptions",t),console.log("defaultOptions",a);const i=(0,o.Zp)(),[u,c]=(0,l.useState)([]);(0,l.useEffect)((()=>{d()}),[]),(0,l.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?i("/login"):C()}),[t]);const d=()=>{const e=JSON.parse(localStorage.getItem("user")).line_of_business;if(e.length>0){const t=e,a=t.length,l=[];for(let e=0;e<a;e++){const a={label:t[e].lob_name,value:t[e].lob_id};l.push(a)}c(l)}else{fetch("https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,a=t.length,l=[];for(let o=0;o<a;o++){const e={label:t[o].line_of_business_name,value:t[o]._id};l.push(e)}c(l)}))}},[p,m]=(0,l.useState)(0),[g,h]=(0,l.useState)(0),[b,f]=(0,l.useState)(0),[v,x]=(0,l.useState)(0),[_,y]=(0,l.useState)(0),[S,j]=(0,l.useState)(0),C=async()=>{var e;console.log("inside filterOptions",t),console.log("inside defaultOptions",a);const l=JSON.parse(localStorage.getItem("user"));let o=t.location,s=t.lob,n=t.businessType,r=t.agent,i=t.dateRange,u=a.startdate,c=a.enddate,d=l.assign_staff,p=a.userType;o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):a.defaultlocation.map((e=>e.value)),s=null!=s&&void 0!=s&&Array.isArray(s)&&0!==s.length?s.map((e=>e.value)):a.defaultlob.map((e=>e.value)),n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):a.defaultbusinessType.map((e=>e.value)),r=null!=r&&void 0!=r&&Array.isArray(r)&&0!==r.length?r.map((e=>e.value)):a.defaultagent.map((e=>e.value));const g=localStorage.getItem("token"),b=JSON.parse(localStorage.getItem("user")),v=b.usertype;null===b||void 0===b||null===(e=b.dashboard_permission[0])||void 0===e||e.dc_dashboard;console.log("loginusertype",v);const _={method:"POST",body:JSON.stringify({location:o,lob:s,business_type:n,newagent:r,dateRange:i,startdate:u,enddate:c,assign_staff:d,userType:p}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+g}};"6462250eb201a6f07b2dff3a"!=v&&"646224eab201a6f07b2dff36"!=v&&"646224deb201a6f07b2dff32"!=v&&"64622526b201a6f07b2dff3e"!=v||await fetch("https://insuranceapi-3o5t.onrender.com/api/topLeagentCount",_).then((e=>e.json())).then((e=>{console.log("data",e.data),m(e.data.motorCount),h(e.data.travelCount),f(e.data.homeCount),x(e.data.yatchCount),y(e.data.medicalCount),j(e.data.ortherInsuranceCount)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==v&&await fetch("https://insuranceapi-3o5t.onrender.com/api/topLeagentCount?dashboardType=documentsChaserDashbord",_).then((e=>e.json())).then((e=>{console.log("data",e.data),m(e.data.motorCount),h(e.data.travelCount),f(e.data.homeCount),x(e.data.yatchCount),y(e.data.medicalCount),j(e.data.ortherInsuranceCount)})).catch((e=>{console.log(e)}))};return console.log("lob",u.map((e=>e.label))),console.log("motorcount",p),console.log("travelcount",g),console.log("homecount",b),console.log("yachtcount",v),console.log("medicalcount",_),console.log("othercount",S),(0,r.jsx)("div",{children:(0,r.jsx)(s.default,{className:"carousel_abcds",margin:30,swipeable:!1,draggable:!0,showDots:!0,responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:6},desktop:{breakpoint:{max:3e3,min:1024},items:6},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:u?u.map(((e,t)=>"Motor"==e.label?(0,r.jsx)(n.UF,{xs:2,class:"item",children:(0,r.jsx)(n.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:e.label,value:null!=p?null===p||void 0===p?void 0:p.toString():"0"})},t):"Travel"==e.label?(0,r.jsx)(n.UF,{xs:2,class:"item",children:(0,r.jsx)(n.U0,{className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:e.label,value:null!=g?null===g||void 0===g?void 0:g.toString():"0"})},t):"Home"==e.label?(0,r.jsx)(n.UF,{xs:2,class:"item",children:(0,r.jsx)(n.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:e.label,value:null!=b?null===b||void 0===b?void 0:b.toString():"0"})},t):"Yacht"==e.label?(0,r.jsx)(n.UF,{xs:2,class:"item",children:(0,r.jsx)(n.U0,{className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:e.label,value:null!=v?null===v||void 0===v?void 0:v.toString():"0"})},t):"Medical"==e.label?(0,r.jsx)(n.UF,{xs:2,class:"item",children:(0,r.jsx)(n.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:e.label,value:null!=_?null===_||void 0===_?void 0:_.toString():"0"})},t):"Other Insurance"==e.label?(0,r.jsx)(n.UF,{xs:2,class:"item",children:(0,r.jsx)(n.U0,{className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:e.label,value:null!=S?null===S||void 0===S?void 0:S.toString():"0"})},t):null)):null})})}}}]);
//# sourceMappingURL=9170.143a4525.chunk.js.map