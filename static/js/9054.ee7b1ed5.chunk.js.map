{"version":3,"file":"static/js/9054.ee7b1ed5.chunk.js","mappings":"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","sources":["views/insurance-company/ViewLOB.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst ViewLob = () => {\n    const navigate = useNavigate();\n    const [companyId, setCompanyId] = useState('');\n    const [lineofbusiness, setLob] = useState([]);\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token === null || token === undefined || token === '') {\n            navigate('/login')\n        }\n        else {\n            const url = window.location.href;\n            const url1 = url.split(\"/\")[3];\n            const url2 = url1.split(\"?\")[1];\n            const id = url2.split(\"=\")[1];\n            setCompanyId(id);\n            CompanyDetails(id);\n        }\n    }, []);\n\n    const CompanyDetails = (id) => {\n        setLob([]);\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/getCompanyDetailsbyid/${id}`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status === 200) {\n                    const company = data.data;\n                    const lob = company.company_line_of_business_id;\n                    const lob_id = lob.split(',');\n                    const lob_id_len = lob_id.length;\n                    for (let i = 0; i < lob_id_len; i++) {\n                        const requestOptions = {\n                            method: 'GET',\n                            headers: {\n                                'Content-Type': 'application/json',\n                            },\n                        };\n                        fetch(`https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_by_id/${lob_id[i]}`, requestOptions)\n                            .then(response => response.json())\n                            .then(data => {\n                                if (data.status === 200) {\n                                    const line_of_business_id = data.data._id;\n                                    const line_of_business_name = data.data.line_of_business_name;\n\n                                    const requestOptions = {\n                                        method: 'POST',\n                                        headers: {\n                                            'Content-Type': 'application/json',\n                                        },\n                                        body: JSON.stringify({\n                                            company_id: id,\n                                            line_of_business_id: line_of_business_id,\n                                        })\n                                    };\n                                    fetch(`https://insuranceapi-3o5t.onrender.com/api/getapiintegrate`, requestOptions)\n                                        .then(response => response.json())\n                                        .then(data1 => {\n                                            if (data1.status === 200) {\n                                                const ischeck1 = data1.data[0].api_integrate > 0 ? true : false;\n\n                                                const lobdt = {\n                                                    line_of_business_id: line_of_business_id,\n                                                    line_of_business_name: line_of_business_name,\n                                                    isCheck: ischeck1,\n                                                    api_int_id: data1.data[0]._id,\n                                                    api_status: data1.data[0].api_status,\n                                                    credit_limit: data1.data[0].credit_limit\n                                                }\n                                                setLob(lineofbusiness => [...lineofbusiness, lobdt]);\n                                            }\n                                            else {\n                                                const lobdt = {\n                                                    line_of_business_id: line_of_business_id,\n                                                    line_of_business_name: line_of_business_name,\n                                                    isCheck: false,\n                                                    api_int_id: 0,\n                                                    api_status: 0,\n                                                    credit_limit: 0\n                                                }\n                                                setLob(lineofbusiness => [...lineofbusiness, lobdt]);\n                                            }\n                                        });\n                                }\n                            });\n                    }\n                }\n            });\n    }\n\n    const handleCheckboxChange = (event, id, id1) => {\n        const isChecked = event.target.checked;\n\n        if (isChecked) {\n            apiintegrate(id, isChecked, id1);\n        }\n        else {\n            apiintegrate(id, isChecked, id1);\n        }\n    };\n\n    const apiintegrate = (id, isChecked, id1) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                company_id: companyId,\n                line_of_business_id: id,\n                isChecked: isChecked,\n                api_int_id: id1\n            })\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/apiintegrate`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                console.log(data)\n                CompanyDetails(companyId);\n            });\n    }\n\n    const updateStatus = (id, status) => {\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                id: id,\n                status: status\n            })\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/updateapistatus`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                CompanyDetails(companyId);\n            });\n    }\n\n    const updatecreditamt = (event, id) => {\n        const credit_limit = event.target.value;\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                id: id,\n                credit_limit: credit_limit\n            })\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/updatecreditlimit`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                CompanyDetails(companyId);\n            });\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <div className=\"card mt-5\">\n                        <div className=\"card-header\">\n                            <div className='row'>\n                                <div className='col-md-6'>\n                                    <h4>Line of Business</h4>\n                                </div>\n                                <div className=\"col-md-6\">\n                                    <a href=\"/insurance-company\" className=\"btn btn-primary\" style={{ float: 'right' }}>Back</a>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"card-body\">\n                            <table className=\"table table-bordered table-striped\">\n                                <thead>\n                                    <tr>\n                                        <th>Line of Business</th>\n                                        <th>API Integrated</th>\n                                        <th>Credit Limit</th>\n                                        <th>Status</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {\n                                        lineofbusiness.map((item, index) => {\n                                            return (\n                                                <tr key={index}>\n                                                    <td>{item.line_of_business_name}</td>\n                                                    <td>\n                                                        <div className=\"checkboxs\">\n                                                            <input className=\"form-check-input\" type=\"checkbox\" id=\"flexCheckDefault\" checked={item.isCheck} onClick={(event) => handleCheckboxChange(event, item.line_of_business_id, item.api_int_id)} />\n                                                        </div>\n                                                    </td>\n                                                    <td>\n                                                        <div className='form-group'>\n                                                            <input type='text' className='form-control' defaultValue={item.credit_limit} onBlur={(event) => updatecreditamt(event, item.api_int_id)} />\n                                                        </div>\n                                                    </td>\n                                                    <td>\n                                                        {\n                                                            item.api_int_id == \"\" ? \"\" : item.api_status === 1 ?\n                                                                <button className=\"btn btn-danger btn-sm\" onClick={() => { if (window.confirm('Are you sure you wish to deactivate this item?')) updateStatus(item.api_int_id, 0) }}>Deactivate</button> :\n                                                                <button className=\"btn btn-success btn-sm\" onClick={() => { if (window.confirm('Are you sure you wish to activate this item?')) updateStatus(item.api_int_id, 1) }}>Activate</button>\n\n                                                        }\n                                                    </td>\n                                                </tr>\n                                            )\n                                        })\n                                    }\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ViewLob\n"],"names":["ViewLob","navigate","useNavigate","companyId","setCompanyId","useState","lineofbusiness","setLob","useEffect","token","localStorage","getItem","undefined","id","window","location","href","split","CompanyDetails","fetch","method","headers","then","response","json","data","status","lob_id","company_line_of_business_id","lob_id_len","length","i","requestOptions","line_of_business_id","_id","line_of_business_name","body","JSON","stringify","company_id","data1","ischeck1","api_integrate","lobdt","isCheck","api_int_id","api_status","credit_limit","apiintegrate","isChecked","id1","console","log","updateStatus","_jsx","className","children","_jsxs","style","float","map","item","index","type","checked","onClick","event","handleCheckboxChange","target","defaultValue","onBlur","updatecreditamt","value","confirm"],"sourceRoot":""}