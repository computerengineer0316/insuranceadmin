"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4207],{34207:(e,t,o)=>{o.r(t),o.d(t,{default:()=>h});var n=o(65043),a=o(73216),l=o(73023),s=o.n(l),i=o(54168),r=o(30064),d=o.n(r),c=o(70579);const h=()=>{const e=(0,a.Zp)(),[t,o]=(0,n.useState)([]),[l,r]=(0,n.useState)([]),[h,m]=(0,n.useState)([]),[p,u]=(0,n.useState)(null),[x,j]=(0,n.useState)(""),[_,y]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),[C,g]=(0,n.useState)([]),[M,b]=(0,n.useState)({}),[N,S]=(0,n.useState)([]),[T,k]=(0,n.useState)(null),[D,w]=(0,n.useState)([]);(0,n.useEffect)((()=>{V(),Y(),O(),G()}),[]);const E={body_type:"Body Type",cylinder:"Cylinder",dep:"Depreciation Up To Years",location:"Location",max:"Max Car Value",max_dep:"Max Depreciation",min:"Min Car Value",min_dep:"Min Depreciation",motor_model_detail_id:"Motor Model",motor_model_detail_name:"Motor model Name",motor_model_make_id:"Make Motor",start_year:"Start Year"},V=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_model_motor_name",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{o(e.data)}))},Y=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getlistMakeMotor",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{r(e.data)}))},G=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_body_type_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(e.data,">>>>> body types"),S(e.data)}))},O=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,o=t.length,n=[];for(let a=0;a<o;a++){const e={label:t[a].location_name,value:t[a]._id};n.push(e)}m(n)}))},B=(e,t)=>{const{name:o,value:n}=t.target,a=[...C];a[e][o]=n,g(a)},L=(e,t,o)=>{const n=[...C];n[e][o]=t,g(n)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card-header",children:(0,c.jsx)("h4",{className:"card-title",children:"Add Motor Model details"})}),(0,c.jsx)("div",{className:"card-body addmotorplans",style:{overflowX:"scroll"},children:(0,c.jsxs)("table",{className:"table table-bordered",style:{width:"1700px"},children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{children:(0,c.jsx)("button",{className:"btn btn-outline-success",onClick:()=>{var e,t;const o={motor_model_detail_name:"",motor_model_detail_id:"",motor_model_make_id:null===(e=l[0])||void 0===e?void 0:e._id,start_year:"",body_type:null===(t=N[0])||void 0===t?void 0:t._id,cylinder:"",min:"",max:"",dep:"",min_dep:"",max_dep:"",discontinution_year:"",location:h};g([...C,o])},children:"+"})}),(0,c.jsx)("th",{children:"Motor Model details"}),(0,c.jsx)("th",{children:"Make Motor"}),(0,c.jsx)("th",{children:"Motor Models"}),(0,c.jsx)("th",{children:"Start Year"}),(0,c.jsx)("th",{children:"Body Type"}),(0,c.jsx)("th",{children:"Cylinder"}),(0,c.jsx)("th",{children:"Min Car"}),(0,c.jsx)("th",{children:"Max Car"}),(0,c.jsx)("th",{children:"Depreciation up to years"}),(0,c.jsx)("th",{children:"Min Depreciation up to years"}),(0,c.jsx)("th",{children:"Max Depreciation up to years"}),(0,c.jsx)("th",{children:"Discontinution Year"}),(0,c.jsx)("th",{children:"Location"})]})}),(0,c.jsx)("tbody",{children:C.map(((e,t)=>{var o,n;return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(e=>{const t=[...C],o=[...D];o.splice(e,1),t.splice(e,1),g(t),w(o)})(t),children:"x"})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",onChange:e=>B(t,e),className:"form-control",name:"motor_model_detail_name",placeholder:"Model Motor Name",autoComplete:"off"})}),(0,c.jsx)("td",{children:(0,c.jsx)("select",{className:"form-control",defaultValue:null===(o=l[0])||void 0===o?void 0:o._id,onChange:e=>((e,t)=>{const o=t.target.value;console.log(o,">>>>");const{name:n,value:a}=t.target,l=[...C];l[e][n]=a,g(l),fetch(`https://insuranceapi-3o5t.onrender.com/api/modelmotor/${o}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{var o;const n=t.data,a=n.length;console.log(null===(o=n[0])||void 0===o?void 0:o._id,">>>>>>>>modelMotorid");const l=[];for(let e=0;e<a;e++){const t={label:n[e].motor_model_name,value:n[e]._id};l.push(t)}if(D.length>0){const t=[...D];t.splice(e,1,l),w(t)}else{const t=[...D];t[e]=l,w(t)}}))})(t,e),name:"motor_model_make_id",children:null===l||void 0===l?void 0:l.map(((e,t)=>(0,c.jsx)("option",{value:e._id,children:e.make_motor_name},t)))})}),(0,c.jsx)("td",{children:(0,c.jsxs)("select",{className:"form-control",onChange:e=>B(t,e),name:"motor_model_detail_id",children:[(0,c.jsx)("option",{hidden:!0,children:"Select Motor model"}),null===(n=D[t])||void 0===n?void 0:n.map(((e,t)=>(0,c.jsx)("option",{value:e.value,children:e.label},t)))]})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",onChange:e=>B(t,e),placeholder:"Start Year",name:"start_year",autoComplete:"off"})}),(0,c.jsx)("td",{children:(0,c.jsx)("select",{className:"form-control",onChange:e=>B(t,e),name:"body_type",children:null===N||void 0===N?void 0:N.map(((e,t)=>(0,c.jsx)("option",{selected:0==t,value:e._id,children:e.body_type_name},t)))})}),(0,c.jsx)("td",{children:(0,c.jsxs)("select",{className:"form-control",name:"cylinder",onChange:e=>B(t,e),children:[(0,c.jsx)("option",{children:"Select Cylinder"}),(0,c.jsx)("option",{value:"2",children:"2"}),(0,c.jsx)("option",{value:"4",children:"4"}),(0,c.jsx)("option",{value:"6",children:"6"}),(0,c.jsx)("option",{value:"8",children:"8"}),(0,c.jsx)("option",{value:"10",children:"10"}),(0,c.jsx)("option",{value:"12",children:"12"})]})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",onChange:e=>B(t,e),placeholder:"Min",name:"min",autoComplete:"off"})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",onChange:e=>B(t,e),placeholder:"Max",name:"max",autoComplete:"off"})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",onChange:e=>B(t,e),placeholder:"Depreciation up to years",name:"dep",autoComplete:"off"})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",onChange:e=>B(t,e),placeholder:"Min Depreciation up to years",name:"min_dep",autoComplete:"off"})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",onChange:e=>B(t,e),placeholder:"Max Depreciation up to years",name:"max_dep",autoComplete:"off"})}),(0,c.jsx)("td",{children:(0,c.jsx)("input",{type:"text",className:"form-control",onChange:e=>B(t,e),placeholder:"Discontinution Year",name:"discontinution_year",autoComplete:"off"})}),(0,c.jsx)("td",{children:(0,c.jsx)(i.default,{options:h,selectedValues:h,displayValue:"label",onSelect:e=>L(t,e,"location"),onRemove:e=>L(t,e,"location"),placeholder:"Select Location",showCheckbox:!0,required:!0})})]},t)}))})]})}),(0,c.jsx)("div",{className:"card-footer",children:(0,c.jsx)("button",{className:"btn btn-outline-success",onClick:t=>{t.preventDefault();try{for(let e=0;e<C.length;e++)for(const t in C[e])if(C[e].hasOwnProperty(t)){if(C[e][t]||"discontinution_year"==t)continue;return void d().fire({title:"warning",text:`${E[t]}  is required`,icon:"warning",confirmButtonText:"Ok"})}console.log(C,">>>>>>>>>>rowsData"),console.log(C,">>>>>>>>>>rowsData");const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)};fetch("https://insuranceapi-3o5t.onrender.com/api/add_Motor_model_details",t).then((e=>e.json())).then((t=>{200==t.status?(s()({text:t.message,type:"success",icon:"success",button:!1}),e("/ViewMotorModelDetails"),setTimeout((()=>{s().close()}),1e3)):(s()({title:"Error!",text:t.message,type:"error",icon:"error",button:!1}),e("/AddMotorModelDetails"),setTimeout((()=>{s().close()}),1e3))}))}catch(o){console.log(o)}},children:"Submit"})})]})})})})})}}}]);
//# sourceMappingURL=4207.8252ff32.chunk.js.map