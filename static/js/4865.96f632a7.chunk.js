"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4865],{34865:(e,l,a)=>{a.r(l),a.d(l,{default:()=>r});var o=a(65043),s=a(73216),n=a(73023),i=a.n(n),t=a(70579);const r=()=>{var e,l;const a=(0,s.Zp)(),[n,r]=(0,o.useState)({}),[d,c]=(0,o.useState)({}),[m,h]=(0,o.useState)(""),[u,p]=(0,o.useState)([]),[v,x]=(0,o.useState)([]),[j,N]=(0,o.useState)([]),[f,g]=(0,o.useState)([]),[b,y]=(0,o.useState)([]),[C,S]=(0,o.useState)([]),[F,_]=(0,o.useState)([]);(0,o.useEffect)((()=>{const e=localStorage.getItem("token");if(null===e||void 0===e||""===e)a("/login");else{const e=window.location.href.split("/")[3].split("?")[1].split("=")[1];V(e),h(e),T(),E(),k(),L(),G(),B(),I()}}),[]);const V=e=>{fetch(`https://insuranceapi-3o5t.onrender.com/api/GetSingleMemberRequest?id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log("data>>>>>",e),r(e.data[0])}))},w=e=>{const{name:l,value:a}=e.target;c({...d,[l]:a})},T=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getGender",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(e.data,"gender data"),p(e.data)}))},E=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getMaritalStatus",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{x(e.data)}))},k=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getRelation",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{N(e.data)}))},L=()=>{const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}};fetch("https://insuranceapi-3o5t.onrender.com/api/get_area_of_registration",e).then((e=>e.json())).then((e=>{g(e.data)}))},G=()=>{const e={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")||0}};fetch("https://insuranceapi-3o5t.onrender.com/api/get_nationality_list",e).then((e=>e.json())).then((e=>{y(e.data)}))},B=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getWorkLocation",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{S(e.data)}))},I=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getsponsortype",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{_(e.data)}))};return(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("h4",{children:"Edit Member Details"})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>a(-1),style:{float:"right"},children:"Back"})})]})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"First Name"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"firstName",defaultValue:null===n||void 0===n?void 0:n.firstName,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Middle Name"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"middleName",defaultValue:null===n||void 0===n?void 0:n.middleName,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Last Name"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"lastnName",defaultValue:null===n||void 0===n?void 0:n.lastnName,type:"text",className:"form-control"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Employee Number"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"employeeNumber",defaultValue:null===n||void 0===n?void 0:n.employeeNumber,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Date Of Birth"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"dateOfBirth",defaultValue:null===n||void 0===n||null===(e=n.dateOfBirth)||void 0===e?void 0:e.slice(0,10),type:"date",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Gender"}),(0,t.jsxs)("select",{className:"form-control",onChange:e=>w(e),name:"gender",children:[(0,t.jsx)("option",{value:"",children:"Select Gender"}),null===u||void 0===u?void 0:u.map((e=>(0,t.jsx)("option",{selected:n.gender==e.name,value:e.name,children:e.name},e._id)))]})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Marital Status"}),(0,t.jsxs)("select",{className:"form-control",name:"maritalStatus",onChange:e=>w(e),children:[(0,t.jsx)("option",{value:"",children:"Select Marital Status"}),null===v||void 0===v?void 0:v.map((e=>(0,t.jsx)("option",{selected:(null===n||void 0===n?void 0:n.maritalStatus)==e.name,value:e.name,children:e.name},e._id)))]})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Relation"}),(0,t.jsxs)("select",{className:"form-control",name:"relation",onChange:e=>w(e),children:[(0,t.jsx)("option",{value:"",children:"Select Relation"}),null===j||void 0===j?void 0:j.map((e=>(0,t.jsx)("option",{selected:(null===n||void 0===n?void 0:n.relation)==e.name,value:e.name,children:e.name},e._id)))]})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Category"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"category",defaultValue:null===n||void 0===n?void 0:n.category,type:"text",className:"form-control"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Region"}),(0,t.jsxs)("select",{className:"form-control",name:"regino",defaultValue:null===n||void 0===n?void 0:n.regino,onChange:e=>w(e),children:[(0,t.jsx)("option",{value:"",children:"Select Region"}),null===f||void 0===f?void 0:f.map((e=>(0,t.jsx)("option",{selected:n.regino==e.area_of_registration_name,value:e.area_of_registration_name,children:e.area_of_registration_name},e._id)))]})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"LSB"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"LSB",defaultValue:null===n||void 0===n?void 0:n.LSB,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Nationality"}),(0,t.jsxs)("select",{className:"form-control",name:"nationality",onChange:e=>w(e),children:[(0,t.jsx)("option",{value:"",children:"Select Nationality"}),null===b||void 0===b?void 0:b.map((e=>(0,t.jsx)("option",{selected:(null===n||void 0===n?void 0:n.nationality)==e.nationality_name,value:e.nationality_name,children:e.nationality_name},e._id)))]})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Passport Number"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"passportNumber",defaultValue:null===n||void 0===n?void 0:n.passportNumber,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Eid Number"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"EidNumber",defaultValue:null===n||void 0===n?void 0:n.EidNumber,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Uid Number"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"UidNumber",defaultValue:null===n||void 0===n?void 0:n.UidNumber,type:"text",className:"form-control"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Visa Issued Location"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"visaIssuedLocation",defaultValue:null===n||void 0===n?void 0:n.visaIssuedLocation,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Actual Salary Band"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"firstName",defaultValue:null===n||void 0===n?void 0:n.actualSalryBand,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Person Commission"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"personCommission",defaultValue:null===n||void 0===n?void 0:n.personCommission,type:"text",className:"form-control"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Residential Location"}),(0,t.jsxs)("select",{className:"form-control",onChange:e=>w(e),children:[(0,t.jsx)("option",{value:"",children:"Select Residential Location"}),null===C||void 0===C?void 0:C.map((e=>(0,t.jsx)("option",{selected:(null===n||void 0===n?void 0:n.residentialLocation)==e.worklocation,value:e.worklocation,children:e.worklocation},e._id)))]})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Work Location"}),(0,t.jsxs)("select",{className:"form-control",onChange:e=>w(e),children:[(0,t.jsx)("option",{value:"",children:"Select Work Location"}),null===C||void 0===C?void 0:C.map((e=>(0,t.jsx)("option",{selected:(null===n||void 0===n?void 0:n.residentialLocation)==e.worklocation,value:e.worklocation,children:e.worklocation},e._id)))]})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Mobile Number"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"phoneno",defaultValue:null===n||void 0===n?void 0:n.phoneno,type:"text",className:"form-control"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Email"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"email",defaultValue:null===n||void 0===n?void 0:n.email,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Photo File Name"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"photoFileName",defaultValue:null===n||void 0===n?void 0:n.photoFileName,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Sponsor Type"}),(0,t.jsxs)("select",{className:"form-control",onChange:e=>w(e),name:"sponsorType",children:[(0,t.jsx)("option",{value:"",children:"Select Sponsor Type"}),null===F||void 0===F?void 0:F.map((e=>(0,t.jsx)("option",{selected:(null===n||void 0===n?void 0:n.sponsorType)==e.sponsortype,value:e.sponsortype,children:e.sponsortype},e._id)))]})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Sponsor Id"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"sponsorId",defaultValue:null===n||void 0===n?void 0:n.sponsorId,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Sponsor Contact Number"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"sponsorContactNumber",defaultValue:null===n||void 0===n?void 0:n.sponsorContactNumber,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Sponsor Contact Email"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"sponsorContactEmail",defaultValue:null===n||void 0===n?void 0:n.sponsorContactEmail,type:"text",className:"form-control"})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Occupation"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"occupation",defaultValue:null===n||void 0===n?void 0:n.occupation,type:"text",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Additional Effective Date"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"AdditionEffectiveDate",defaultValue:null===n||void 0===n||null===(l=n.AdditionEffectiveDate)||void 0===l?void 0:l.slice(0,10),type:"date",className:"form-control"})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Visa File FNumber"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"visaFileNumber",defaultValue:null===n||void 0===n?void 0:n.visaFileNumber,type:"text",className:"form-control"})]})})]}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{htmlFor:"",children:"Birth Certificate Number"}),(0,t.jsx)("input",{onChange:e=>w(e),name:"birthCertificateNumber",defaultValue:null===n||void 0===n?void 0:n.birthCertificateNumber,type:"text",className:"form-control"})]})})}),(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>(()=>{const e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)};fetch(`https://insuranceapi-3o5t.onrender.com/api/UpdateGroupMedicalMember?id=${m}`,e).then((e=>e.json())).then((e=>{200===e.status?(i()({text:"Updated Successfully",icon:"success",type:"success",buttons:!1}),setTimeout((()=>{i().close(),a(-1)}),2e3)):(i()({text:"Something went wrong",icon:"error",buttons:!1}),setTimeout((()=>{i().close(),a(-1)}),2e3))}))})(),children:"Update"})]})]})})})})}}}]);
//# sourceMappingURL=4865.96f632a7.chunk.js.map