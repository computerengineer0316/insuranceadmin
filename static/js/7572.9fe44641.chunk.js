"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[7572],{77572:(t,a,e)=>{e.r(a),e.d(a,{default:()=>m});var o=e(93946),n=e(90504),u=e(65043),s=e(73216),d=e(1177),r=e(78602),l=e(54168),c=e(70579);const m=function(t){let{filterOptions:a,defaultOptions:e,lobdata:m}=t;const h=(0,s.Zp)(),[i,C]=(0,u.useState)([]);let[p,y]=(0,u.useState)([]);(0,u.useEffect)((()=>{const t=localStorage.getItem("token");null===t||void 0===t||""===t?h("/login"):f()}),[m]),(0,u.useEffect)((()=>{_e()}),[]);const[S,b]=(0,u.useState)(),f=async()=>{let t=m.map((t=>t.value));const a={method:"POST",body:JSON.stringify({lob:t}),headers:{"Content-Type":"application/json"}};await fetch("https://insuranceapi-3o5t.onrender.com/api/get_new_leads_count",a).then((t=>t.json())).then((t=>{b(t)}))};let g={labels:[],datasets:[]};S&&Array.isArray(S.data)&&(g={labels:S.data.map((t=>t.line_of_business_name)),datasets:S.data.map((t=>({label:t.line_of_business_name,data:[t.total],backgroundColor:"Motor"===t.line_of_business_name?"#0D2F92":"#f87979",hoverBackgroundColor:"Motor"===t.line_of_business_name?"#0D2F92":"#f87979"})))});const[v,_]=(0,u.useState)(0),[j,A]=(0,u.useState)(0),[J,O]=(0,u.useState)(0),[F,x]=(0,u.useState)(0),[M,N]=(0,u.useState)(0),[T,w]=(0,u.useState)(0);(0,u.useEffect)((()=>{const t=localStorage.getItem("token");null===t||void 0===t||""===t?h("/login"):(E(),fe())}),[a,p]);const k=t=>{y(t.map((t=>t.lead_status)))};console.log("i m down",p);const[I,B]=(0,u.useState)("daily"),E=async()=>{const t=JSON.parse(localStorage.getItem("user"));let o=a.location,n=a.lob,u=a.businessType,s=a.agent,d=a.dateRange,r=e.startdate,l=e.enddate,c=t.assign_staff,m=e.userType;o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((t=>t.value)):e.defaultlocation.map((t=>t.value)),n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((t=>t.value)):e.defaultlob.map((t=>t.value)),u=null!=u&&void 0!=u&&Array.isArray(u)&&0!==u.length?u.map((t=>t.value)):e.defaultbusinessType.map((t=>t.value)),s=null!=s&&void 0!=s&&Array.isArray(s)&&0!==s.length?s.map((t=>t.value)):e.defaultagent.map((t=>t.value)),null!=p&&void 0!=p&&Array.isArray(p)&&0!==p.length||(p=i.map((t=>t.lead_status))),console.log("i m up",p);const h=localStorage.getItem("token"),C=JSON.parse(localStorage.getItem("user")).usertype,y={method:"POST",body:JSON.stringify({location:o,lob:n,business_type:u,newagent:s,dateRange:d,startdate:r,enddate:l,assign_staff:c,userType:m,selectedValue:p}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};"646224eab201a6f07b2dff36"==C&&await fetch("https://insuranceapi-3o5t.onrender.com/api/topLeagentCount",y).then((t=>t.json())).then((t=>{console.log("data",t.data),_(t.data.motorCount),A(t.data.travelCount),O(t.data.homeCount),x(t.data.medicalCount),N(t.data.yatchCount),w(t.data.ortherInsuranceCount)})).catch((t=>{console.log(t)})),"64622470b201a6f07b2dff22"==C&&await fetch("https://insuranceapi-3o5t.onrender.com/api/topLeagentCount?dashboardType=salesAdvisorDashboard",y).then((t=>t.json())).then((t=>{console.log("data",t.data),_(t.data.motorCount),A(t.data.travelCount),O(t.data.homeCount),x(t.data.medicalCount),N(t.data.yatchCount),w(t.data.ortherInsuranceCount)})).catch((t=>{console.log(t)}))},[D,R]=(0,u.useState)(0),[V,H]=(0,u.useState)(0),[P,G]=(0,u.useState)(0),[L,Y]=(0,u.useState)(0),[$,z]=(0,u.useState)(0),[K,W]=(0,u.useState)(0),[U,Z]=(0,u.useState)(0),[q,Q]=(0,u.useState)(0),[X,tt]=(0,u.useState)(0),[at,et]=(0,u.useState)(0),[ot,nt]=(0,u.useState)(0),[ut,st]=(0,u.useState)(0),[dt,rt]=(0,u.useState)(0),[lt,ct]=(0,u.useState)(0),[mt,ht]=(0,u.useState)(0),[it,Ct]=(0,u.useState)(0),[pt,yt]=(0,u.useState)(0),[St,bt]=(0,u.useState)(0),[ft,gt]=(0,u.useState)(0),[vt,_t]=(0,u.useState)(0),[jt,At]=(0,u.useState)(0),[Jt,Ot]=(0,u.useState)(0),[Ft,xt]=(0,u.useState)(0),[Mt,Nt]=(0,u.useState)(0),[Tt,wt]=(0,u.useState)(0),[kt,It]=(0,u.useState)(0),[Bt,Et]=(0,u.useState)(0),[Dt,Rt]=(0,u.useState)(0),[Vt,Ht]=(0,u.useState)(0),[Pt,Gt]=(0,u.useState)(0),[Lt,Yt]=(0,u.useState)(0),[$t,zt]=(0,u.useState)(0),[Kt,Wt]=(0,u.useState)(0),[Ut,Zt]=(0,u.useState)(0),[qt,Qt]=(0,u.useState)(0),[Xt,ta]=(0,u.useState)(0),[aa,ea]=(0,u.useState)(0),[oa,na]=(0,u.useState)(0),[ua,sa]=(0,u.useState)(0),[da,ra]=(0,u.useState)(0),[la,ca]=(0,u.useState)(0),[ma,ha]=(0,u.useState)(0),[ia,Ca]=(0,u.useState)(0),[pa,ya]=(0,u.useState)(0),[Sa,ba]=(0,u.useState)(0),[fa,ga]=(0,u.useState)(0),[va,_a]=(0,u.useState)(0),[ja,Aa]=(0,u.useState)(0),[Ja,Oa]=(0,u.useState)(0),[Fa,xa]=(0,u.useState)(0),[Ma,Na]=(0,u.useState)(0),[Ta,wa]=(0,u.useState)(0),[ka,Ia]=(0,u.useState)(0),[Ba,Ea]=(0,u.useState)(0),[Da,Ra]=(0,u.useState)(0),[Va,Ha]=(0,u.useState)(0),[Pa,Ga]=(0,u.useState)(0),[La,Ya]=(0,u.useState)(0),[$a,za]=(0,u.useState)(0),[Ka,Wa]=(0,u.useState)(0),[Ua,Za]=(0,u.useState)(0),[qa,Qa]=(0,u.useState)(0),[Xa,te]=(0,u.useState)(0),[ae,ee]=(0,u.useState)(0),[oe,ne]=(0,u.useState)(0),[ue,se]=(0,u.useState)(0),[de,re]=(0,u.useState)(0),[le,ce]=(0,u.useState)(0),[me,he]=(0,u.useState)(0),[ie,Ce]=(0,u.useState)(0),[pe,ye]=(0,u.useState)(0),[Se,be]=(0,u.useState)(0),fe=async()=>{const t=JSON.parse(localStorage.getItem("user"));let o=a.location,n=a.lob,u=a.businessType,s=a.agent,d=a.dateRange,r=e.startdate,l=e.enddate,c=t.assign_staff,m=e.userType;o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((t=>t.value)):e.defaultlocation.map((t=>t.value)),n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((t=>t.value)):e.defaultlob.map((t=>t.value)),u=null!=u&&void 0!=u&&Array.isArray(u)&&0!==u.length?u.map((t=>t.value)):e.defaultbusinessType.map((t=>t.value)),s=null!=s&&void 0!=s&&Array.isArray(s)&&0!==s.length?s.map((t=>t.value)):e.defaultagent.map((t=>t.value));const h=localStorage.getItem("token"),i=JSON.parse(localStorage.getItem("user")).usertype;B(d);const C={method:"POST",body:JSON.stringify({location:o,lob:n,business_type:u,newagent:s,dateRange:d,startdate:r,enddate:l,assign_staff:c,userType:m}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+h}};"646224eab201a6f07b2dff36"==i&&await fetch("https://insuranceapi-3o5t.onrender.com/api/getAllGraphCount",C).then((t=>t.json())).then((t=>{console.log("data",t.data.sepmotorCount),R(t.data.janmotorCount),H(t.data.febmotorCount),G(t.data.marmotorCount),Y(t.data.aprmotorCount),z(t.data.maymotorCount),W(t.data.junmotorCount),Z(t.data.julmotorCount),Q(t.data.augmotorCount),tt(t.data.sepmotorCount),et(t.data.octmotorCount),nt(t.data.novmotorCount),st(t.data.decmotorCount),rt(t.data.jantravelCount),ct(t.data.febtravelCount),ht(t.data.martravelCount),Ct(t.data.aprtravelCount),yt(t.data.maytravelCount),bt(t.data.juntravelCount),gt(t.data.jultravelCount),_t(t.data.augtravelCount),At(t.data.septravelCount),Ot(t.data.octtravelCount),xt(t.data.novtravelCount),Nt(t.data.dectravelCount),wt(t.data.janhomeCount),It(t.data.febhomeCount),Et(t.data.marhomeCount),Rt(t.data.aprhomeCount),Ht(t.data.mayhomeCount),Gt(t.data.junhomeCount),Yt(t.data.julhomeCount),zt(t.data.aughomeCount),Wt(t.data.sephomeCount),Zt(t.data.octhomeCount),Qt(t.data.novhomeCount),ta(t.data.dechomeCount),ea(t.data.janmedicalCount),na(t.data.febmedicalCount),sa(t.data.marmedicalCount),ra(t.data.aprmedicalCount),ca(t.data.maymedicalCount),ha(t.data.junmedicalCount),Ca(t.data.julmedicalCount),ya(t.data.augmedicalCount),ba(t.data.sepmedicalCount),ga(t.data.octmedicalCount),_a(t.data.novmedicalCount),Aa(t.data.decmedicalCount),Oa(t.data.janyachtCount),xa(t.data.febyachtCount),Na(t.data.maryachtCount),wa(t.data.apryachtCount),Ia(t.data.mayyachtCount),Ea(t.data.junyachtCount),Ra(t.data.julyachtCount),Ha(t.data.augyachtCount),Ga(t.data.sepyachtCount),Ya(t.data.octyachtCount),za(t.data.novyachtCount),Wa(t.data.decyachtCount),Za(t.data.janotherCount),Qa(t.data.febotherCount),te(t.data.marotherCount),ee(t.data.aprotherCount),ne(t.data.mayotherCount),se(t.data.junotherCount),re(t.data.julotherCount),ce(t.data.augotherCount),he(t.data.sepotherCount),Ce(t.data.octotherCount),ye(t.data.novotherCount),be(t.data.decotherCount)})).catch((t=>{console.log(t)})),"64622470b201a6f07b2dff22"==i&&await fetch("https://insuranceapi-3o5t.onrender.com/api/getAllGraphCount?dashboardType=salesAdvisorDashboard",C).then((t=>t.json())).then((t=>{console.log("data",t.data.sepmotorCount),R(t.data.janmotorCount),H(t.data.febmotorCount),G(t.data.marmotorCount),Y(t.data.aprmotorCount),z(t.data.maymotorCount),W(t.data.junmotorCount),Z(t.data.julmotorCount),Q(t.data.augmotorCount),tt(t.data.sepmotorCount),et(t.data.octmotorCount),nt(t.data.novmotorCount),st(t.data.decmotorCount),rt(t.data.jantravelCount),ct(t.data.febtravelCount),ht(t.data.martravelCount),Ct(t.data.aprtravelCount),yt(t.data.maytravelCount),bt(t.data.juntravelCount),gt(t.data.jultravelCount),_t(t.data.augtravelCount),At(t.data.septravelCount),Ot(t.data.octtravelCount),xt(t.data.novtravelCount),Nt(t.data.dectravelCount),wt(t.data.janhomeCount),It(t.data.febhomeCount),Et(t.data.marhomeCount),Rt(t.data.aprhomeCount),Ht(t.data.mayhomeCount),Gt(t.data.junhomeCount),Yt(t.data.julhomeCount),zt(t.data.aughomeCount),Wt(t.data.sephomeCount),Zt(t.data.octhomeCount),Qt(t.data.novhomeCount),ta(t.data.dechomeCount),ea(t.data.janmedicalCount),na(t.data.febmedicalCount),sa(t.data.marmedicalCount),ra(t.data.aprmedicalCount),ca(t.data.maymedicalCount),ha(t.data.junmedicalCount),Ca(t.data.julmedicalCount),ya(t.data.augmedicalCount),ba(t.data.sepmedicalCount),ga(t.data.octmedicalCount),_a(t.data.novmedicalCount),Aa(t.data.decmedicalCount),Oa(t.data.janyachtCount),xa(t.data.febyachtCount),Na(t.data.maryachtCount),wa(t.data.apryachtCount),Ia(t.data.mayyachtCount),Ea(t.data.junyachtCount),Ra(t.data.julyachtCount),Ha(t.data.augyachtCount),Ga(t.data.sepyachtCount),Ya(t.data.octyachtCount),za(t.data.novyachtCount),Wa(t.data.decyachtCount),Za(t.data.janotherCount),Qa(t.data.febotherCount),te(t.data.marotherCount),ee(t.data.aprotherCount),ne(t.data.mayotherCount),se(t.data.junotherCount),re(t.data.julotherCount),ce(t.data.augotherCount),he(t.data.sepotherCount),Ce(t.data.octotherCount),ye(t.data.novotherCount),be(t.data.decotherCount)})).catch((t=>{console.log(t)}))},ge=[{line_of_business_name:"Motor",monthlydata:[{month:"January",count:D},{month:"February",count:V},{month:"March",count:P},{month:"April",count:L},{month:"May",count:$},{month:"June",count:K},{month:"July",count:U},{month:"August",count:q},{month:"September",count:X},{month:"October",count:at},{month:"November",count:ot},{month:"December",count:ut}]},{line_of_business_name:"Travel",monthlydata:[{month:"January",count:dt},{month:"February",count:lt},{month:"March",count:mt},{month:"April",count:it},{month:"May",count:pt},{month:"June",count:St},{month:"July",count:ft},{month:"August",count:vt},{month:"September",count:jt},{month:"October",count:Jt},{month:"November",count:Ft},{month:"December",count:Mt}]},{line_of_business_name:"Home",monthlydata:[{month:"January",count:Tt},{month:"February",count:kt},{month:"March",count:Bt},{month:"April",count:Dt},{month:"May",count:Vt},{month:"June",count:Pt},{month:"July",count:Lt},{month:"August",count:$t},{month:"September",count:Kt},{month:"October",count:Ut},{month:"November",count:qt},{month:"December",count:Xt}]},{line_of_business_name:"Medical",monthlydata:[{month:"January",count:aa},{month:"February",count:oa},{month:"March",count:ua},{month:"April",count:da},{month:"May",count:la},{month:"June",count:ma},{month:"July",count:ia},{month:"August",count:pa},{month:"September",count:Sa},{month:"October",count:fa},{month:"November",count:va},{month:"December",count:ja}]},{line_of_business_name:"Yacht",monthlydata:[{month:"January",count:Ja},{month:"February",count:Fa},{month:"March",count:Ma},{month:"April",count:Ta},{month:"May",count:ka},{month:"June",count:Ba},{month:"July",count:Da},{month:"August",count:Va},{month:"September",count:Pa},{month:"October",count:La},{month:"November",count:$a},{month:"December",count:Ka}]},{line_of_business_name:"Other Insurance",monthlydata:[{month:"January",count:Ua},{month:"February",count:qa},{month:"March",count:Xa},{month:"April",count:ae},{month:"May",count:oe},{month:"June",count:ue},{month:"July",count:de},{month:"August",count:le},{month:"September",count:me},{month:"October",count:ie},{month:"November",count:pe},{month:"December",count:Se}]}];let ve={labels:[],datasets:[]};ve={labels:Array.from(new Set(ge.flatMap((t=>t.monthlydata.map((t=>t.month)))))),datasets:ge.map((t=>({label:t.line_of_business_name,backgroundColor:"Motor"===t.line_of_business_name?"#FF6384":"Travel"===t.line_of_business_name?"#007500":"Home"===t.line_of_business_name?"#FFCE56":"Medical"===t.line_of_business_name?"#36A2EB":"Yacht"===t.line_of_business_name?"#5742f5":"#da42f5",data:t.monthlydata.map((t=>t.count))})))};const _e=async()=>{const t=JSON.parse(localStorage.getItem("user")).usertype;let a=await fetch("https://insuranceapi-3o5t.onrender.com/api/get_lead_status_name?type=salesAdvisor",{method:"post",body:JSON.stringify({usertype:t}),headers:{"Content-Type":"application/json"}});a=await a.json(),C(a.data)};return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.A,{children:(0,c.jsxs)(d.A.Item,{eventKey:"1",children:[(0,c.jsx)(d.A.Header,{children:(0,c.jsx)("div",{className:"card-header new_leads",children:(0,c.jsx)("strong",{children:"Graphical View "})})}),(0,c.jsx)(d.A.Body,{style:{padding:"2px"},children:(0,c.jsx)(o.E$,{className:"mb-4",children:(0,c.jsxs)(o.sK,{children:[(0,c.jsx)(o.UF,{lg:8,children:(0,c.jsxs)(o.E$,{className:"mb-4",children:[(0,c.jsx)(o.V0,{children:"Bar Chart"}),(0,c.jsx)(o.W6,{children:(0,c.jsx)(n.BB,{data:ve})})]})}),(0,c.jsx)(r.A,{className:"",lg:4,children:(0,c.jsxs)(o.E$,{className:"mb-4",children:[(0,c.jsx)(o.V0,{children:"Pie chart"}),(0,c.jsxs)(o.W6,{children:[(0,c.jsx)(l.default,{options:i,onSelect:k,onRemove:k,displayValue:"lead_status",showArrow:!0}),(0,c.jsx)(n.kp,{data:{labels:["Motor","Travel","Home","Medical","Yacht","Other LOB"],datasets:[{data:[v,j,J,F,M,T],backgroundColor:["#FF6384","#007500","#FFCE56","#36A2EB","#5742f5","#da42f5"],hoverBackgroundColor:["#FF6384","#007500","#FFCE56","#36A2EB","#5742f5","#da42f5"]}]}})]})]})})]})})})]})})})}}}]);
//# sourceMappingURL=7572.9fe44641.chunk.js.map