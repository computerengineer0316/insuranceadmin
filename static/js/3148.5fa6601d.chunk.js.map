{"version":3,"file":"static/js/3148.5fa6601d.chunk.js","mappings":"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","sources":["views/producer/ProducerTopLegend.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport { Container, Row, Col, Modal, Button } from 'react-bootstrap';\nimport Carousel from \"react-multi-carousel\";\nimport \"react-multi-carousel/lib/styles.css\";\nimport { CWidgetStatsC } from '@coreui/react';\nimport { CCol } from '@coreui/react';\nimport PropTypes from 'prop-types';\n\n\nProducerTopLegend.propTypes =\n{\n    filterOptions: PropTypes.shape({\n        location: PropTypes.string,\n        lob: PropTypes.string,\n        businessType: PropTypes.string,\n        agent: PropTypes.string,\n        dateRange: PropTypes\n    })\n};\n\nProducerTopLegend.propTypes = {\n    defaultOptions: PropTypes.shape({\n        defaultlocation: PropTypes.string,\n        defaultlob: PropTypes.string,\n        defaultbusinessType: PropTypes.string,\n        defaultagent: PropTypes.string,\n        defaultdateRange: PropTypes,\n        startdate: PropTypes,\n        enddate: PropTypes,\n        userType: PropTypes\n    })\n};\n\n\nfunction ProducerTopLegend({ filterOptions, defaultOptions }) {\n\n    const navigate = useNavigate();\n    const responsive = {\n        superLargeDesktop: {\n            // the naming can be any, depends on you.\n            breakpoint: { max: 4000, min: 3000 },\n            items: 6\n        },\n        desktop: {\n            breakpoint: { max: 3000, min: 1024 },\n            items: 6\n        },\n        tablet: {\n            breakpoint: { max: 1024, min: 464 },\n            items: 2\n        },\n        mobile: {\n            breakpoint: { max: 464, min: 0 },\n            items: 1\n        }\n    };\n\n    const [newleadcount, setNewLeadCountount] = useState(0);\n    const [closeLeadCount, setCloseLeadCount] = useState(0);\n    const [closingRatio, setClosingRatio] = useState(0);\n    const [PremiumEarned, setPremiumEarned] = useState(0);\n    const [IncomeEarned, setIncomeEarned] = useState(0);\n    const [lostCount, setLostCount] = useState(0);\n    const [pendingCount, setPendingCount] = useState(0);\n    const [topLeagentCount, setTopLeagentCount] = useState('');\n\n\n\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token === null || token === undefined || token === '') {\n            navigate('/login')\n        }\n        else {\n            getTotalCount();\n        }\n    }, [filterOptions]);\n\n\n    const getTotalCount = async () => {\n\n        const userdata = JSON.parse(localStorage.getItem('user'));\n        let newlocation = filterOptions.location;\n        let newlob = filterOptions.lob;\n        let newbusinessType = filterOptions.businessType;\n        let newagent = filterOptions.agent;\n        let dateRange = filterOptions.dateRange;\n        let startdate = defaultOptions.startdate;\n        let enddate = defaultOptions.enddate;\n        let assign_staff = userdata.assign_staff;\n        let usertype = defaultOptions.userType\n\n        if (newlocation == null || newlocation == undefined || !Array.isArray(newlocation) || newlocation.length === 0) {\n            newlocation = defaultOptions.defaultlocation.map((item) => item.value);\n            // newlocation = [];\n        }\n        else {\n            newlocation = newlocation.map((item) => item.value);\n        }\n\n        if (newlob == null || newlob == undefined || !Array.isArray(newlob) || newlob.length === 0) {\n            newlob = defaultOptions.defaultlob.map((item) => item.value);\n            // newlob = [];\n        }\n        else {\n            newlob = newlob.map((item) => item.value);\n        }\n\n        if (newbusinessType == null || newbusinessType == undefined || !Array.isArray(newbusinessType) || newbusinessType.length === 0) {\n            newbusinessType = defaultOptions.defaultbusinessType.map((item) => item.value);\n            // newbusinessType = [];\n\n        }\n        else {\n            newbusinessType = newbusinessType.map((item) => item.value);\n        }\n        if (newagent == null || newagent == undefined || !Array.isArray(newagent) || newagent.length === 0) {\n            newagent = defaultOptions.defaultagent.map((item) => item.value);\n        }\n        else {\n            newagent = newagent.map((item) => item.value);\n        }\n\n        const token = localStorage.getItem('token');\n        const loginuser = JSON.parse(localStorage.getItem('user'));\n        const loginusertype = loginuser.usertype;\n        console.log(\"loginusertype\", loginusertype);\n\n        const requestOptions = {\n            method: 'POST',\n            body: JSON.stringify({\n                location: newlocation,\n                lob: newlob,\n                business_type: newbusinessType,\n                newagent: newagent,\n                dateRange: dateRange,\n                startdate: startdate,\n                enddate: enddate,\n                assign_staff: assign_staff,\n                userType: usertype\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + token\n            },\n        };\n\n\n        if (loginusertype == \"66068569e8f96a29286c956e\") {\n            await fetch(`https://insuranceapi-3o5t.onrender.com/api/getProducerTopLeagentCount`, requestOptions)\n                .then(response => response.json())\n                .then(data => {\n                    console.log(\"data\", data.data);\n                    setNewLeadCountount(data.data.newLead)\n                    setCloseLeadCount(data.data.closeLeadCount)\n                    setClosingRatio(data.data.closingRation)\n                    setPremiumEarned(data.data.premiumEarened)\n                    setIncomeEarned(data.data.incomeEarened)\n                    setLostCount(data.data.lostCount)\n                    setPendingCount(data.data.pendingCount)\n                    setTopLeagentCount(data.data.topAgent)\n                })\n                .catch((error) => {\n                    console.log(error)\n                })\n\n\n        }\n        if (loginusertype == \"64622470b201a6f07b2dff22\") {\n            await fetch(`https://insuranceapi-3o5t.onrender.com/api/getProducerTopLeagentCount?dashboardType=producerDashbord`, requestOptions)\n                .then(response => response.json())\n                .then(data => {\n                    console.log(\"data\", data);\n                    setNewLeadCountount(data.data.newLead)\n                    setCloseLeadCount(data.data.closeLeadCount)\n                    setClosingRatio(data.data.closingRation)\n                    setPremiumEarned(data.data.premiumEarened)\n                    setIncomeEarned(data.data.incomeEarened)\n                    setLostCount(data.data.lostCount)\n                    setPendingCount(data.data.pendingCount)\n                    setTopLeagentCount(data.data.topAgent)\n\n                }\n                )\n                .catch((error) => {\n                    console.log(error)\n                }\n                )\n\n        }\n    }\n\n\n\n\n    function formatAmount(amount) {\n        if (amount !== null) {\n            const numericValue = parseFloat(amount.toString().replace(/,/g, ''));\n            if (!isNaN(numericValue)) {\n                // Use toLocaleString with custom options for grouping\n                return numericValue.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 2, useGrouping: true });\n            }\n            return ''; // Return an empty string if the input is not a valid number\n        }\n    }\n\n\n\n\n\n    return (\n        <div>\n            <Carousel className='carousel_abcds' margin={30} swipeable={false}\n                draggable={true}\n                showDots={true}\n                responsive={responsive}\n            >\n                {/* <CRow className='custom_abcd'> */}\n                <CCol xs={2} class='item'>\n                    <CWidgetStatsC\n                        className=\"mb-3\"\n                        progress={{ color: 'primary', value: 100 }}\n                        text=\"Widget helper text\"\n                        title=\"New Leads\"\n                        value={newleadcount != null ? newleadcount?.toString() : \"0\"}\n                    />\n                </CCol>\n                <CCol xs={2} class='item'>\n                    <CWidgetStatsC\n                        className=\"mb-3\"\n                        progress={{ color: 'danger', value: 100 }}\n                        text=\"Widget helper text\"\n                        title=\"Pending Leads\"\n                        value={pendingCount != null ? pendingCount?.toString() : \"0\"}\n                    />\n                </CCol>\n                <CCol xs={2} class='item'>\n                    <CWidgetStatsC\n                        className=\"mb-3\"\n                        progress={{ color: 'primary', value: 100 }}\n                        text=\"Widget helper text\"\n                        title=\"Closed\"\n                        value={closeLeadCount != null ? closeLeadCount?.toString() : \"0\"}\n                    />\n                </CCol>\n                <CCol xs={2} class='item' >\n                    <CWidgetStatsC\n                        className=\"mb-3\"\n                        progress={{ color: 'danger', value: 100 }}\n                        text=\"Widget helper text\"\n                        title=\"Premium earned\"\n                        value={formatAmount(PremiumEarned != null ? PremiumEarned?.toString() : \"0\")}\n                    />\n                </CCol>\n                <CCol xs={2} class='item'>\n                    <CWidgetStatsC\n                        width={36}\n                        className=\"mb-3\"\n                        progress={{ color: 'primary', value: 100 }}\n                        text=\"Widget helper text\"\n                        title=\"IncomeEarned\"\n                        value={formatAmount(IncomeEarned != null ? IncomeEarned?.toString() : \"0\")}\n                    />\n                </CCol>\n                <CCol xs={2} class='item'>\n                    <CWidgetStatsC\n                        className=\"mb-3\"\n                        progress={{ color: 'danger', value: 100 }}\n                        text=\"Widget helper text\"\n                        title=\"Top Agent/Team\"\n                        value={topLeagentCount != null ? topLeagentCount?.toString() : \"\"}\n                    />\n                </CCol>\n                <CCol xs={2} class='item'>\n                    <CWidgetStatsC\n                        width={36}\n                        className=\"mb-3\"\n                        progress={{ color: 'primary', value: 100 }}\n                        text=\"Widget helper text\"\n                        title=\"Closing Ratio\"\n                        value={closingRatio != null ? closingRatio.toFixed(3) : \"0\"}\n                    />\n                </CCol>\n\n                <CCol xs={2} class='item'>\n                    <CWidgetStatsC\n                        width={36}\n                        className=\"mb-3\"\n                        progress={{ color: 'danger', value: 100 }}\n                        text=\"Widget helper text\"\n                        title=\"Lost\"\n                        value={lostCount != null ? lostCount?.toString() : \"0\"}\n                    />\n                </CCol>\n\n                {/* </CRow> */}\n            </Carousel>\n\n        </div>\n    )\n}\n\nexport default ProducerTopLegend"],"names":["_ref","filterOptions","defaultOptions","navigate","useNavigate","newleadcount","setNewLeadCountount","useState","closeLeadCount","setCloseLeadCount","closingRatio","setClosingRatio","PremiumEarned","setPremiumEarned","IncomeEarned","setIncomeEarned","lostCount","setLostCount","pendingCount","setPendingCount","topLeagentCount","setTopLeagentCount","useEffect","token","localStorage","getItem","undefined","getTotalCount","async","userdata","JSON","parse","newlocation","location","newlob","lob","newbusinessType","businessType","newagent","agent","dateRange","startdate","enddate","assign_staff","usertype","userType","Array","isArray","length","map","item","value","defaultlocation","defaultlob","defaultbusinessType","defaultagent","loginusertype","console","log","requestOptions","method","body","stringify","business_type","headers","fetch","then","response","json","data","newLead","closingRation","premiumEarened","incomeEarened","topAgent","catch","error","formatAmount","amount","numericValue","parseFloat","toString","replace","isNaN","toLocaleString","minimumFractionDigits","maximumFractionDigits","useGrouping","_jsx","children","_jsxs","Carousel","className","margin","swipeable","draggable","showDots","responsive","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","mobile","CCol","xs","class","CWidgetStatsC","progress","color","text","title","width","toFixed"],"sourceRoot":""}