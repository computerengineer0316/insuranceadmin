"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8603,1072,8691,6310],{28603:(e,a,n)=>{n.r(a),n.d(a,{default:()=>x});var t=n(65043),s=n(92157),o=n.n(s),l=n(73216),i=n(1177),r=n(84217),c=n(53519),d=n(61072),p=n(14282),h=n(86178),m=n.n(h),u=n(30710),f=n(70579);const x=function(e){var a;let{filterOptions:n,defaultOptions:s}=e;const h=(0,l.Zp)(),[x,v]=(0,t.useState)([]),[b,j]=(0,t.useState)([]),[g,y]=(0,t.useState)([]),[_]=(0,t.useState)(5),[N,w]=(0,t.useState)(0),[k,C]=(0,t.useState)(1),[A,S]=(0,t.useState)(!1),[O,L]=(0,t.useState)(!1),[T,$]=(0,t.useState)(0);(0,t.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?h("/login"):E(k,_)}),[n]);const P=JSON.parse(localStorage.getItem("user")),D=(P.usertype,null===P||void 0===P?void 0:P.location);null===P||void 0===P||null===(a=P.dashboard_permission[0])||void 0===a||a.sa_dashboard;let I="";D&&D.length>0&&D[0].loc_id&&(I=D[0].loc_id);const E=async(e,a)=>{L(!0);let t=n.location,o=n.lob,l=n.businessType,i=n.agent,r=n.dateRange,c=s.startdate,d=s.enddate;t=null!=t&&void 0!=t&&Array.isArray(t)&&0!==t.length?t.map((e=>e.value)):s.defaultlocation.map((e=>e.value)),o=null!=o&&void 0!=o&&Array.isArray(o)&&0!==o.length?o.map((e=>e.value)):s.defaultlob.map((e=>e.value)),l=null!=l&&void 0!=l&&Array.isArray(l)&&0!==l.length?l.map((e=>e.value)):s.defaultbusinessType.map((e=>e.value)),i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):s.defaultagent.map((e=>e.value));const p=localStorage.getItem("token"),h=JSON.parse(localStorage.getItem("user")).usertype,m={method:"POST",body:JSON.stringify({page:e,limit:a,location:t,lob:o,business_type:l,newagent:i,dateRange:r,startdate:c,enddate:d}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+p}};"6462250eb201a6f07b2dff3a"!=h&&"646224eab201a6f07b2dff36"!=h&&"646224deb201a6f07b2dff32"!=h&&"64622526b201a6f07b2dff3e"!=h||await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=&dashboardType=salesAdvisorDashboard",m).then((e=>e.json())).then((e=>{const n=e.total;$(n);const t=n/a,s=Math.ceil(t);w(s);const o=e.data;v(o)})).catch((e=>{console.log(e)})).finally((()=>{L(!1)})),"64622470b201a6f07b2dff22"==h&&await fetch("https://insuranceapi-3o5t.onrender.com/api/get_supervisor_leads?leadType=Closed&dashboardType=salesAdvisorDashboard",m).then((e=>e.json())).then((e=>{const n=e.total;$(n);const t=n/a,s=Math.ceil(t);w(s);const o=e.data;v(o)})).catch((e=>{console.log(e)})).finally((()=>{L(!1)}))},F=(k-1)*_;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.A,{children:(0,f.jsxs)(i.A.Item,{eventKey:"1",children:[(0,f.jsx)(i.A.Header,{children:(0,f.jsxs)("div",{style:{position:"relative"},className:"card-header new_leads",children:[(0,f.jsx)("strong",{children:"Closed Business"}),T>0?(0,f.jsx)("div",{className:"dashboardNotify",children:(0,f.jsx)("h6",{children:T})}):""]})}),(0,f.jsxs)(i.A.Body,{className:"scrollavcds",style:{padding:"2px"},children:[(0,f.jsxs)("table",{className:"table table-bordered",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:"table-info",children:[(0,f.jsx)("th",{scope:"col",children:"Sr"}),(0,f.jsx)("th",{scope:"col",children:"Name"}),(0,f.jsx)("th",{scope:"col",children:"Phone No."}),(0,f.jsx)("th",{scope:"col",children:"Email-ID"}),(0,f.jsx)("th",{scope:"col",children:"Nationality"}),(0,f.jsx)("th",{scope:"col",children:"Assigned Date & Time"}),(0,f.jsx)("th",{scope:"col",children:"Aging (as of today)"}),(0,f.jsx)("th",{scope:"col",children:"Type of Policy"}),(0,f.jsx)("th",{scope:"col",children:"Business Type"}),"64116415591c2f02bcddf51e"!=I&&(0,f.jsx)("th",{scope:"col",children:"Link"}),(0,f.jsx)("th",{scope:"col",children:"Action"})]})}),(0,f.jsx)("tbody",{children:O?(0,f.jsx)("div",{className:"loader-container",children:(0,f.jsx)(u.A,{color:"#ED1C24",loading:O,size:50})}):(0,f.jsx)(f.Fragment,{children:x.length>0?x.map(((e,a)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{children:F+a+1}),(0,f.jsx)("td",{children:e.name}),(0,f.jsx)("td",{children:(0,f.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`https://wa.me/${e}`;window.open(a)})(e.phoneno),children:e.phoneno})}),(0,f.jsx)("td",{children:(0,f.jsx)("a",{href:"#",onClick:()=>(e=>{const a=`mailto:${e}`;window.open(a)})(e.email),children:e.email})}),(0,f.jsx)("td",{children:e.nationality}),(0,f.jsx)("td",{children:e.assign_salesadvisor_timestamp?new Date(e.assign_salesadvisor_timestamp).toString():new Date(e.new_lead_timestamp).toString()}),(0,f.jsx)("td",{children:e.assign_salesadvisor_timestamp?m()(e.assign_salesadvisor_timestamp).fromNow():m()(e.new_lead_timestamp).fromNow()}),(0,f.jsx)("td",{children:e.policy_type[0].line_of_business_name}),(0,f.jsx)("td",{children:e.business_type}),"64116415591c2f02bcddf51e"!=I&&(0,f.jsx)("td",{children:(0,f.jsx)("a",{href:e.buisnessEntityCostomerLink,target:"_blank",rel:"noopener noreferrer",children:e.buisnessEntityCostomerLink})}),(0,f.jsx)("td",{className:"buttons_icons",children:(0,f.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ",onClick:()=>{return a=e._id,"Motor"===(n=e.policy_type[0].line_of_business_name)&&window.open(`/MotorLeaddetails?id=${a}`,"_blank"),"Travel"===n&&window.open(`/TravelLeaddetails?id=${a}`,"_blank"),"Medical"===n&&window.open(`/MedicalLeaddetails?id=${a}`,"_blank"),"Home"===n&&window.open(`/HomeLeaddetails?id=${a}`,"_blank"),"Yacht"===n&&window.open(`/YachtLeaddetails?id=${a}`,"_blank"),void("Other Insurance"===n&&window.open(`/OtherInsuranceLeaddetails?id=${a}`,"_blank"));var a,n},children:(0,f.jsx)("i",{className:"fa-solid fa-eye"})})})]},a))):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:"12",className:"text-center",children:(0,f.jsx)("strong",{children:"No Records Found"})})})})})]}),(0,f.jsx)("section",{children:(0,f.jsx)(o(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:N,marginPagesDisplayed:1,pageRangeDisplayed:1,onPageChange:e=>{const a=e.selected;C(a+1),E(a+1,_,localStorage.getItem("lob"))},containerClassName:"pagination justify-content-end",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})]})}),(0,f.jsxs)(r.A,{size:"lg",show:A,onHide:()=>S(!1),children:[(0,f.jsx)(r.A.Header,{closeButton:!0,children:(0,f.jsx)(r.A.Title,{children:"Lead Detail"})}),(0,f.jsx)(r.A.Body,{children:(0,f.jsxs)(c.A,{children:[(0,f.jsxs)(d.A,{children:[(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"name",children:"Name"}),(0,f.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:b.name})]})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"email",children:"Email"}),(0,f.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:b.email})]})})]}),(0,f.jsxs)(d.A,{children:[(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"phoneno",children:"Phone No."}),(0,f.jsx)("input",{type:"text",className:"form-control",id:"phoneno",name:"phoneno",value:b.phoneno})]})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"dob",children:"Line Of Business"}),(0,f.jsx)("input",{type:"text",className:"form-control",id:"lob",name:"lob",value:g})]})})]})]})}),(0,f.jsx)(r.A.Footer,{children:(0,f.jsx)(p.A,{variant:"secondary",onClick:()=>S(!1),children:"Close"})})]})]})}},61072:(e,a,n)=>{n.d(a,{A:()=>c});var t=n(98139),s=n.n(t),o=n(65043),l=n(67852),i=n(70579);const r=o.forwardRef(((e,a)=>{let{bsPrefix:n,className:t,as:o="div",...r}=e;const c=(0,l.oU)(n,"row"),d=(0,l.gy)(),p=(0,l.Jm)(),h=`${c}-cols`,m=[];return d.forEach((e=>{const a=r[e];let n;delete r[e],null!=a&&"object"===typeof a?({cols:n}=a):n=a;const t=e!==p?`-${e}`:"";null!=n&&m.push(`${h}${t}-${n}`)})),(0,i.jsx)(o,{ref:a,...r,className:s()(t,c,...m)})}));r.displayName="Row";const c=r},30710:(e,a,n)=>{n.d(a,{A:()=>c});var t=n(65043),s={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function o(e){var a=function(e){if("number"===typeof e)return{value:e,unit:"px"};var a,n=(e.match(/^[0-9.]*/)||"").toString();a=n.includes(".")?parseFloat(n):parseInt(n,10);var t=(e.match(/[^0-9]*$/)||"").toString();return s[t]?{value:a,unit:t}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(a,"px.")),{value:a,unit:"px"})}(e);return"".concat(a.value).concat(a.unit)}var l=function(){return l=Object.assign||function(e){for(var a,n=1,t=arguments.length;n<t;n++)for(var s in a=arguments[n])Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);return e},l.apply(this,arguments)},i=function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(t=Object.getOwnPropertySymbols(e);s<t.length;s++)a.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(n[t[s]]=e[t[s]])}return n},r=function(e,a,n){var t="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return t;var s=document.createElement("style");document.head.appendChild(s);var o=s.sheet,l="\n    @keyframes ".concat(t," {\n      ").concat(a,"\n    }\n  ");return o&&o.insertRule(l,0),t}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const c=function(e){var a=e.loading,n=void 0===a||a,s=e.color,c=void 0===s?"#000000":s,d=e.speedMultiplier,p=void 0===d?1:d,h=e.cssOverride,m=void 0===h?{}:h,u=e.size,f=void 0===u?35:u,x=i(e,["loading","color","speedMultiplier","cssOverride","size"]),v=l({background:"transparent !important",width:o(f),height:o(f),borderRadius:"100%",border:"2px solid",borderTopColor:c,borderBottomColor:"transparent",borderLeftColor:c,borderRightColor:c,display:"inline-block",animation:"".concat(r," ").concat(.75/p,"s 0s infinite linear"),animationFillMode:"both"},m);return n?t.createElement("span",l({style:v},x)):null}}}]);
//# sourceMappingURL=8603.9069155b.chunk.js.map