"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9188],{89188:(e,a,n)=>{n.r(a),n.d(a,{default:()=>i});var s=n(65043),o=n(73216),r=n(73023),l=n.n(r),c=n(54168),t=n(70579);const i=()=>{const e=(0,o.Zp)(),[a,n]=(0,s.useState)([]),[r,i]=(0,s.useState)([]),[m,d]=(0,s.useState)([]);(0,s.useEffect)((()=>{const a=localStorage.getItem("token");null===a||void 0===a||""===a?e("/login"):(u(),h())}),[]);const u=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_list",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(e);const a=null===e||void 0===e?void 0:e.data,s=null===a||void 0===a?void 0:a.length,o=[];for(let n=0;n<s;n++){var r,l;const e={label:null===(r=a[n])||void 0===r?void 0:r.line_of_business_name,value:null===(l=a[n])||void 0===l?void 0:l._id};o.push(e)}n(o)}))},h=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getNationality",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const a=null===e||void 0===e?void 0:e.data,n=null===a||void 0===a?void 0:a.length,s=[];for(let l=0;l<n;l++){var o,r;const e={label:null===(o=a[l])||void 0===o?void 0:o.nationality_name,value:null===(r=a[l])||void 0===r?void 0:r._id};s.push(e)}d(s)}))};return(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsx)("div",{className:"card",style:{marginTop:"20px"},children:(0,t.jsx)("div",{className:"card-header",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("h4",{className:"card-title",children:"Add Location"})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsx)("a",{href:"/ViewBusinessEntity",className:"btn btn-primary",style:{float:"right"},children:"Back"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("form",{method:"POST",onSubmit:a=>{a.preventDefault();const n=new FormData(a.target),s=n.get("name"),o=n.get("ref_number");if(void 0==r||null==r||""==r)return l()({title:"Error!",text:"Please Select LOB",type:"error",icon:"error"}),!1;const c=n.get("country"),t=n.get("technical_person_name"),i=n.get("technical_person_email"),m=n.get("technical_person_contact"),d=n.get("account_or_admin_name"),u=n.get("account_or_admin_email"),h=n.get("account_or_admin_contact"),p=n.get("supervisor_or_manager_name"),_=n.get("supervisor_or_manager_email"),x=n.get("supervisor_or_manager_contact"),v={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location_name:s,ref_number:o,lob:r,country:c,technical_person_name:t,technical_person_email:i,technical_person_contact:m,account_or_admin_name:d,account_or_admin_email:u,account_or_admin_contact:h,supervisor_or_manager_name:p,supervisor_or_manager_email:_,supervisor_or_manager_contact:x})};fetch("https://insuranceapi-3o5t.onrender.com/api/businessEntity",v).then((e=>e.json())).then((a=>{200===a.status?l()({title:"Success!",text:a.message,type:"success",icon:"success"}).then((function(){e("/ViewBusinessEntity")})):l()({title:"Error!",text:a.message,type:"error",icon:"error"}).then((function(){e("/ViewBusinessEntity")}))}))},children:[(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Location Name"}),(0,t.jsx)("input",{type:"text",className:"form-control",name:"name",placeholder:"Enter Location Name",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Reference Number"}),(0,t.jsx)("input",{type:"text",className:"form-control",name:"ref_number",placeholder:"Enter Reference Number",autoComplete:"off",required:!0})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Line Of Business"}),(0,t.jsx)(c.default,{options:a,displayValue:"label",selectedValues:a,onSelect:i,onRemove:i,placeholder:"Select LOB",showCheckbox:!0})]})}),(0,t.jsx)("div",{className:"col-md-6",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Country"}),(0,t.jsxs)("select",{className:"form-control",name:"country",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Select Country"}),m.map(((e,a)=>(0,t.jsx)("option",{value:e.value,children:e.label},a)))]})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Technical Person Name"}),(0,t.jsx)("input",{type:"text",className:"form-control",name:"technical_person_name",placeholder:"Enter Technical Person Name",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Technical Person Email"}),(0,t.jsx)("input",{type:"email",className:"form-control",name:"technical_person_email",placeholder:"Enter Technical Person Email",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Technical Person Contact No"}),(0,t.jsx)("input",{type:"text",className:"form-control",name:"technical_person_contact",placeholder:"Enter Technical Person Contact No",autoComplete:"off",required:!0})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Account / Admin Name"}),(0,t.jsx)("input",{type:"text",className:"form-control",name:"account_or_admin_name",placeholder:"Enter Account / Admin Name",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Account / Admin Email"}),(0,t.jsx)("input",{type:"email",className:"form-control",name:"account_or_admin_email",placeholder:"Enter Account / Admin Email",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Account / Admin Contact No"}),(0,t.jsx)("input",{type:"text",className:"form-control",name:"account_or_admin_contact",placeholder:"Enter Account / Admin Contact No",autoComplete:"off",required:!0})]})})]}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Supervisor / Manager Name"}),(0,t.jsx)("input",{type:"text",className:"form-control",name:"supervisor_or_manager_name",placeholder:"Enter Supervisor / Manager Name",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Supervisor / Manager Email"}),(0,t.jsx)("input",{type:"email",className:"form-control",name:"supervisor_or_manager_email",placeholder:"Enter Supervisor / Manager name",autoComplete:"off",required:!0})]})}),(0,t.jsx)("div",{className:"col-md-4",children:(0,t.jsxs)("div",{className:"form-group mb-3",children:[(0,t.jsx)("label",{children:"Supervisor / Manager Contact No"}),(0,t.jsx)("input",{type:"text",className:"form-control",name:"supervisor_or_manager_contact",placeholder:"Enter Supervisor / Manager name",autoComplete:"off",required:!0})]})})]}),(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-12",style:{textAlign:"right"},children:(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})})})]})})]})})})})})})}}}]);
//# sourceMappingURL=9188.26b10af8.chunk.js.map