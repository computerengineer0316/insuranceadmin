{"version":3,"file":"static/js/6474.8f54fcbe.chunk.js","mappings":"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","sources":["views/line-of-business/EditLineOfBusiness.js"],"sourcesContent":["import React from 'react'\nimport { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport Multiselect from 'multiselect-react-dropdown'\nimport Swal from 'sweetalert2'\n\nconst EditLineOfBusiness = () => {\n  const [selectedOption, setSelectedOption] = useState([])\n  const [line_of_business_name, setLineOfBusinessName] = useState('')\n  const [line_of_business_status, setLineOfBusinessStatus] = useState('')\n  const [line_of_business_id, setLineOfBusinessId] = useState('')\n  const [location, setLocation] = useState([])\n  const navigate = useNavigate()\n\n  useEffect(() => {\n    if (\n      localStorage.getItem('token') == null ||\n      localStorage.getItem('token') == '' ||\n      localStorage.getItem('token') == undefined\n    ) {\n      navigate('/login')\n    } else {\n      const url = window.location.href\n      const url1 = url.split('/')[3]\n      const url2 = url1.split('?')[1]\n      const id = url2.split('=')[1]\n      setLineOfBusinessId(id)\n      const requestOptions = {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      }\n      fetch(\n        `https://insuranceapi-3o5t.onrender.com/api/get_line_of_business_by_id/${id}`,\n        requestOptions,\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          const line_of_business = data.data\n          setLineOfBusinessName(line_of_business.line_of_business_name)\n          const locationid = line_of_business.line_of_business_location\n          const location_id = locationid.split(',')\n          const location_id_len = location_id.length\n          const location_name = []\n          for (let i = 0; i < location_id_len; i++) {\n            const requestOptions = {\n              method: 'GET',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n            }\n            fetch(\n              `https://insuranceapi-3o5t.onrender.com/api/get_location_by_id/${location_id[i]}`,\n              requestOptions,\n            )\n              .then((response) => response.json())\n              .then((data) => {\n                location_name.push(data.data.location_name)\n                const location_name_len = location_name.length\n                if (location_name_len === location_id_len) {\n                  const location_name_str = location_name.join(',')\n                  const location_name_arr = location_name_str.split(',')\n                  const location_name_arr_len = location_name_arr.length\n                  const location_name_arr_obj = []\n                  for (let i = 0; i < location_name_arr_len; i++) {\n                    const location_name_arr_obj_obj = {\n                      label: location_name_arr[i],\n                      value: location_id[i],\n                    }\n                    location_name_arr_obj.push(location_name_arr_obj_obj)\n                  }\n                  setSelectedOption(location_name_arr_obj)\n                }\n              })\n          }\n          setLineOfBusinessStatus(line_of_business.line_of_business_status)\n        })\n      locationList()\n    }\n  }, [])\n\n  const locationList = () => {\n    const requestOptions = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n    fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location`, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        const locationdt = data.data\n        const location_len = locationdt.length\n        const location_list = []\n        for (let i = 0; i < location_len; i++) {\n          const location_obj = { label: locationdt[i].location_name, value: locationdt[i]._id }\n          location_list.push(location_obj)\n        }\n        setLocation(location_list)\n      })\n  }\n\n  const handleChange = (selectedOption) => {\n    setSelectedOption(selectedOption)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const data = new FormData(e.target)\n    const line_of_business_name = data.get('line_of_business_name')\n    const line_of_business_location = selectedOption\n    const line_of_business_location_len = line_of_business_location.length\n    const line_of_business_location_str = []\n    for (let i = 0; i < line_of_business_location_len; i++) {\n      line_of_business_location_str.push(line_of_business_location[i].value)\n    }\n    const line_of_business_status = data.get('status')\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        line_of_business_name: line_of_business_name,\n        line_of_business_location: line_of_business_location_str.toString(),\n        line_of_business_status: line_of_business_status,\n        line_of_business_id: line_of_business_id,\n      }),\n    }\n    fetch(`https://insuranceapi-3o5t.onrender.com/api/update_line_of_business`, requestOptions)\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.status === 200) {\n          Swal.fire({\n            title: 'Success!',\n            text: data.message,\n            icon: 'success',\n            confirmButtonText: 'Ok',\n          }).then((result) => {\n            if (result.isConfirmed) {\n              navigate('/line-of-business')\n            }\n          })\n        } else {\n          Swal.fire({\n            title: 'Error!',\n            text: data.message,\n            icon: 'error',\n            confirmButtonText: 'Ok',\n          }).then((result) => {\n            if (result.isConfirmed) {\n              navigate('/line-of-business')\n            }\n          })\n        }\n      })\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <div className=\"card\">\n            <div className=\"card-header\">\n              <h4 className=\"card-title\">Edit Line Of Business</h4>\n            </div>\n            <div className=\"card-body\">\n              <form action=\"/\" method=\"POST\" onSubmit={handleSubmit}>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <div className=\"form-group\">\n                      <label>Line Of Business Name</label>\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        name=\"line_of_business_name\"\n                        defaultValue={line_of_business_name}\n                        autoComplete=\"off\"\n                        required\n                      />\n                    </div>\n                  </div>\n                  <div className=\"col-md-6\">\n                    <div className=\"form-group\">\n                      <label>Line Of Business Location</label>\n                      <Multiselect\n                        options={location}\n                        selectedValues={selectedOption}\n                        onSelect={handleChange}\n                        onRemove={handleChange}\n                        displayValue=\"label\"\n                        placeholder=\"Select Location\"\n                        closeOnSelect={false}\n                        avoidHighlightFirstOption={true}\n                        showCheckbox={true}\n                        style={{ chips: { background: '#007bff' } }}\n                        required\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-6\">\n                    <div className=\"form-group\">\n                      <label>Status</label>\n                      <select className=\"form-control\" name=\"status\" required>\n                        <option value=\"\">Select Status</option>\n                        <option value=\"1\" selected={line_of_business_status == 1 ? true : false}>\n                          Active\n                        </option>\n                        <option value=\"0\" selected={line_of_business_status == 0 ? true : false}>\n                          Inactive\n                        </option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"col-md-12\">\n                    <button\n                      type=\"submit\"\n                      className=\"btn btn-primary mt-2\"\n                      style={{ float: 'right' }}\n                    >\n                      Update\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default EditLineOfBusiness\n"],"names":["EditLineOfBusiness","selectedOption","setSelectedOption","useState","line_of_business_name","setLineOfBusinessName","line_of_business_status","setLineOfBusinessStatus","line_of_business_id","setLineOfBusinessId","location","setLocation","navigate","useNavigate","useEffect","localStorage","getItem","undefined","id","window","href","split","fetch","method","headers","then","response","json","data","line_of_business","location_id","line_of_business_location","location_id_len","length","location_name","i","requestOptions","push","location_name_arr","join","location_name_arr_len","location_name_arr_obj","location_name_arr_obj_obj","label","value","locationList","locationdt","location_len","location_list","location_obj","_id","handleChange","_jsx","className","children","_jsxs","action","onSubmit","e","preventDefault","FormData","target","get","line_of_business_location_len","line_of_business_location_str","body","JSON","stringify","toString","status","Swal","title","text","message","icon","confirmButtonText","result","isConfirmed","type","name","defaultValue","autoComplete","required","Multiselect","options","selectedValues","onSelect","onRemove","displayValue","placeholder","closeOnSelect","avoidHighlightFirstOption","showCheckbox","style","chips","background","selected","float"],"sourceRoot":""}