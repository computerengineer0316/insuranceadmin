{"version":3,"file":"static/js/7523.b1a29996.chunk.js","mappings":"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","sources":["views/motor-make/EditMakeMotor.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Swal from \"sweetalert2\";\nimport Multiselect from \"multiselect-react-dropdown\";\n\nconst EditMakeMotor = () => {\n\n    useEffect(() => {\n        if (localStorage.getItem('token') == null || localStorage.getItem('token') == '' || localStorage.getItem('token') == undefined) {\n            navigate('/login')\n        }\n        else {\n            const url = window.location.href;\n            const url1 = url.split(\"/\")[3];\n            const url2 = url1.split(\"?\")[1];\n            const id = url2.split(\"=\")[1];\n            setMakeMotorId(id);\n            makeMotorDetails(id);\n            locationList();\n        }\n    }, []);\n\n    const navigate = useNavigate();\n    const [location, setLocation] = useState([]);\n    const [selectedOption, setSelectedOption] = useState(null);\n    const [make_motor_name, setMakeMotorName] = useState('');\n    const [make_motor_status, setMakeMotorStatus] = useState('');\n    const [make_motor_id, setMakeMotorId] = useState('');\n\n    const locationList = () => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                const locationdt = data.data;\n                const location_len = locationdt.length;\n                const location_list = [];\n                for (let i = 0; i < location_len; i++) {\n                    const location_obj = { label: locationdt[i].location_name, value: locationdt[i]._id };\n\n                    location_list.push(location_obj);\n                }\n                setLocation(location_list);\n            });\n    }\n\n    const makeMotorDetails = (id) => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/get_make_motor_details/${id}`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                const make_motor_details = data.data;\n                setMakeMotorName(make_motor_details.make_motor_name);\n                const locationid = make_motor_details.make_motor_location;\n                const location_id = locationid.split(\",\");\n                const location_id_len = location_id.length;\n                const location_name = [];\n                for (let i = 0; i < location_id_len; i++) {\n                    const requestOptions = {\n                        method: \"GET\",\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        },\n                    };\n                    fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location_by_id/${location_id[i]}`, requestOptions)\n                        .then((response) => response.json())\n                        .then((data) => {\n                            location_name.push(data.data.location_name);\n                            const location_name_len = location_name.length;\n                            if (location_name_len === location_id_len) {\n                                const location_name_str = location_name.join(\",\");\n                                const location_name_arr = location_name_str.split(\",\");\n                                const location_name_arr_len = location_name_arr.length;\n                                const location_name_arr_obj = [];\n                                for (let i = 0; i < location_name_arr_len; i++) {\n                                    const location_name_arr_obj_obj = { label: location_name_arr[i], value: location_id[i] };\n                                    location_name_arr_obj.push(location_name_arr_obj_obj);\n                                }\n                                setSelectedOption(location_name_arr_obj);\n                            }\n                        });\n                }\n                setMakeMotorStatus(make_motor_details.make_motor_status);\n            });\n    }\n\n    const handleChange = (selectedOption) => {\n        setSelectedOption(selectedOption);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const data = new FormData(e.target);\n        const make_motor_name = data.get('make_motor_name');\n        const make_motor_location = selectedOption;\n        const make_motor_location_len = make_motor_location.length;\n        const make_motor_location_id = [];\n        for (let i = 0; i < make_motor_location_len; i++) {\n            make_motor_location_id.push(make_motor_location[i].value);\n        }\n        const make_motor_status = data.get('make_motor_status');\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                make_motor_name: make_motor_name,\n                make_motor_location: make_motor_location_id.toString(),\n                make_motor_status: make_motor_status,\n                make_motor_id: make_motor_id\n            })\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/update_make_motor`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status === 200) {\n                    Swal.fire({\n                        title: \"Success!\",\n                        text: data.message,\n                        icon: \"success\",\n                        confirmButtonText: \"Ok\",\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            navigate(\"/motor-make\");\n                        }\n                    });\n                }\n                else {\n                    Swal.fire({\n                        title: \"Error!\",\n                        text: data.message,\n                        icon: \"error\",\n                        confirmButtonText: \"Ok\",\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            navigate(\"/motor-make\");\n                        }\n                    });\n                }\n            });\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">\n                            <h4 className=\"card-title\">Edit Make Motor</h4>\n                        </div>\n                        <div className=\"card-body\">\n                            <form action=\"/\" method=\"POST\" onSubmit={handleSubmit}>\n                                <div className=\"row\">\n                                    <div className=\"col-md-6\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Make Motor Name</label>\n                                            <input type=\"text\" className=\"form-control\" name=\"make_motor_name\" placeholder=\"Make Motor Name\" defaultValue={make_motor_name} autoComplete=\"off\" required />\n                                        </div>\n                                    </div>\n                                    <div className=\"col-md-6\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Location</label>\n                                            <Multiselect\n                                                options={location}\n                                                selectedValues={selectedOption}\n                                                onSelect={handleChange}\n                                                onRemove={handleChange}\n                                                displayValue=\"label\"\n                                                placeholder=\"Select Location\"\n                                                closeOnSelect={false}\n                                                avoidHighlightFirstOption={true}\n                                                showCheckbox={true}\n                                                style={{ chips: { background: \"#007bff\" } }}\n                                                required\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-md-6\">\n                                        <div className=\"form-group\">\n                                            <label className=\"form-label\">Status</label>\n                                            <select className=\"form-control\" name=\"make_motor_status\" required>\n                                                <option value=\"\">Select Status</option>\n                                                <option value=\"1\" selected={make_motor_status == 1 ? true : false}>Active</option>\n                                                <option value=\"0\" selected={make_motor_status == 0 ? true : false}>Inactive</option>\n                                            </select>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"row\">\n                                    <div className=\"col-md-12\">\n                                        <button type=\"submit\" className=\"btn btn-primary mt-2\" style={{ float: \"right\" }}>Update</button>\n                                    </div>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default EditMakeMotor\n"],"names":["EditMakeMotor","useEffect","localStorage","getItem","undefined","navigate","id","window","location","href","split","setMakeMotorId","makeMotorDetails","locationList","useNavigate","setLocation","useState","selectedOption","setSelectedOption","make_motor_name","setMakeMotorName","make_motor_status","setMakeMotorStatus","make_motor_id","fetch","method","headers","then","response","json","data","locationdt","location_len","length","location_list","i","location_obj","label","location_name","value","_id","push","make_motor_details","location_id","make_motor_location","location_id_len","requestOptions","location_name_arr","join","location_name_arr_len","location_name_arr_obj","location_name_arr_obj_obj","handleChange","_jsx","className","children","_jsxs","action","onSubmit","e","preventDefault","FormData","target","get","make_motor_location_len","make_motor_location_id","body","JSON","stringify","toString","status","Swal","title","text","message","icon","confirmButtonText","result","isConfirmed","type","name","placeholder","defaultValue","autoComplete","required","Multiselect","options","selectedValues","onSelect","onRemove","displayValue","closeOnSelect","avoidHighlightFirstOption","showCheckbox","style","chips","background","selected","float"],"sourceRoot":""}