"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[656,9182,4844,2528],{92463:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var i=l(65043),n=(l(92157),l(73216)),s=l(1177),r=(l(86178),l(30710)),o=l(70579);const d=function(e){let{filterOptions:t,defaultOptions:l}=e;const d=(0,n.Zp)(),[a,c]=(0,i.useState)([]),[h,u]=(0,i.useState)(null),[v,m]=(0,i.useState)([]),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?d("/login"):b()}),[]),(0,i.useEffect)((()=>{console.log("filterOptions>>>> ",t),b()}),[t]);const b=()=>{var e,i,n;const s={method:"POST",body:JSON.stringify({location:null===(e=t.location)||void 0===e?void 0:e.map((e=>e.value)),lob:null===(i=t.lob)||void 0===i?void 0:i.map((e=>e.value)),business_type:null===(n=t.businessType)||void 0===n?void 0:n.map((e=>e.value)),dateRange:t.dateRange,startdate:l.startdate,enddate:l.enddate}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};fetch("https://insuranceapi-3o5t.onrender.com/api/getInsurancePrimiumEarnedByLob",s).then((e=>e.json())).then((e=>{console.log(e,"premium earned Data"),c(e.data)}))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.A,{className:"neww",children:(0,o.jsxs)(s.A.Item,{eventKey:"1",children:[(0,o.jsx)(s.A.Header,{children:(0,o.jsx)("div",{className:"card-header new_leads",children:(0,o.jsx)("strong",{children:"Best Rate Comparison"})})}),(0,o.jsx)(s.A.Body,{style:{padding:"2px"},children:(0,o.jsx)("table",{className:"table table-bordered striped ",children:(0,o.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map(((e,i)=>{var n;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{style:{borderLeft:"hidden",borderRight:"hidden"},children:(0,o.jsx)(s.A,{className:"col-md-8",children:(0,o.jsxs)(s.A.Item,{eventKey:i+1,children:[(0,o.jsx)(s.A.Header,{className:"headersss",onClick:n=>{var s;return((e,i,n)=>{if("accordion-button"!=n){var s,r;g(!0),m([]);const n={method:"POST",body:JSON.stringify({location:null===(s=t.location)||void 0===s?void 0:s.map((e=>e.value)),lob:null===(r=t.lob)||void 0===r?void 0:r.map((e=>e.value)),business_type:t.businessType,dateRange:t.dateRange,startdate:l.startdate,enddate:l.enddate}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};let o;"Motor"==e?o="getMotorBestRate":"Travel"==e?o="getTravelBestrate":"Yacht"==e?o="getYachtBestrate":"Home"==e?o="getHomeBestRate":"Medical"==e&&(o="getIndivialMedicalBestRate"),fetch(`https://insuranceapi-3o5t.onrender.com/api/${o}`,n).then((e=>e.json())).then((t=>{if(console.log(t.data,"api data"),g(!1),"Motor"==e||"Yacht"==e){var l;const e=null===(l=t.data)||void 0===l?void 0:l.map((e=>{var t,l,i,n;let s,r,o,d;return null===(t=e.rate)||void 0===t||t.map((e=>{e.hasOwnProperty("comprehenshivRate")&&(s=e.comprehenshivRate)})),null===(l=e.rate)||void 0===l||l.map((e=>{e.hasOwnProperty("comprehenshivRateAll")&&(r=e.comprehenshivRateAll)})),null===(i=e.rate)||void 0===i||i.map((e=>{e.hasOwnProperty("tplRate")&&(o=e.tplRate)})),null===(n=e.rate)||void 0===n||n.map((e=>{e.hasOwnProperty("tplRateAll")&&(d=e.tplRateAll)})),{body_type:e._id,rate:{comprehenshivRate:s||0,tplRate:o||0,comprehenshivRateAll:r||0,tplRateAll:d||0}}}));console.log(e,">>>>>> generated data"),m(e)}else("Travel"==e||"Home"==e||"Medical"==e)&&m(t.data);u(i),j(e)}))}})(null===(s=e.Lob[0])||void 0===s?void 0:s.line_of_business_name,i,n.target.className)},children:(0,o.jsx)("div",{className:"d-flex justify-content-center",children:null===(n=e.Lob[0])||void 0===n?void 0:n.line_of_business_name})}),(0,o.jsxs)(s.A.Body,{style:{padding:"2px"},children:[1==p&&h==i?(0,o.jsx)(r.A,{color:"#0D2F92",loading:p,size:50}):"","Travel"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Travel For"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"No Of Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Best Rate on LMP"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i,n,s,r,d;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e._id}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(l=e.primiumAll[0])||void 0===l||null===(i=l.rate)||void 0===i?void 0:i.map(((e,t)=>(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.noOdDays})},t)))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(n=e.primiumAll[0])||void 0===n||null===(s=n.rate)||void 0===s?void 0:s.map(((e,t)=>(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.total.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},t)))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(r=e.primiumAll[0])||void 0===r||null===(d=r.rate)||void 0===d?void 0:d.map(((t,l)=>{var i,n,s;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e||null===(i=e.primiumAll[1])||void 0===i||null===(n=i.rateAll)||void 0===n||null===(s=n.find((e=>e.noOdDays==t.noOdDays)))||void 0===s?void 0:s.totalAll.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},l)}))})})]},t)}))})]}):"Motor"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Body Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Best Rate on LMP"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i,n,s,r,d,a,c,h,u,v,m,x,j,p,g,b,y,f,S,R,A,N,T,_,D,O,P,w,F,B,k;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.body_type}),(0,o.jsxs)("td",{children:[0==(null===(l=e.rate)||void 0===l?void 0:l.comprehenshivRate)&&0==(null===(i=e.rate)||void 0===i?void 0:i.comprehenshivRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:"Comprehensivee"})}),0==(null===(n=e.rate)||void 0===n?void 0:n.tplRate)&&0==(null===(s=e.rate)||void 0===s?void 0:s.tplRateAll)||0==(null===(r=e.rate)||void 0===r?void 0:r.comprehenshivRate)&&0==(null===(d=e.rate)||void 0===d?void 0:d.comprehenshivRateAll)?"":(0,o.jsx)("hr",{}),0==(null===(a=e.rate)||void 0===a?void 0:a.tplRate)&&0==(null===(c=e.rate)||void 0===c?void 0:c.tplRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:"Third Party Liability (TPL)"})})]}),(0,o.jsxs)("td",{children:[0==(null===(h=e.rate)||void 0===h?void 0:h.comprehenshivRate)&&0==(null===(u=e.rate)||void 0===u?void 0:u.comprehenshivRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===(v=e.rate)||void 0===v||null===(m=v.comprehenshivRate)||void 0===m?void 0:m.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})}),0==(null===(x=e.rate)||void 0===x?void 0:x.tplRate)&&0==(null===(j=e.rate)||void 0===j?void 0:j.tplRateAll)||0==(null===(p=e.rate)||void 0===p?void 0:p.comprehenshivRate)&&0==(null===(g=e.rate)||void 0===g?void 0:g.comprehenshivRateAll)?"":(0,o.jsx)("hr",{}),0==(null===(b=e.rate)||void 0===b?void 0:b.tplRate)&&0==(null===(y=e.rate)||void 0===y?void 0:y.tplRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===(f=e.rate)||void 0===f||null===(S=f.tplRate)||void 0===S?void 0:S.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})})]}),(0,o.jsxs)("td",{children:[0==(null===(R=e.rate)||void 0===R?void 0:R.comprehenshivRate)&&0==(null===(A=e.rate)||void 0===A?void 0:A.comprehenshivRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===(N=e.rate)||void 0===N||null===(T=N.comprehenshivRateAll)||void 0===T?void 0:T.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})}),0==(null===(_=e.rate)||void 0===_?void 0:_.tplRate)&&0==(null===(D=e.rate)||void 0===D?void 0:D.tplRateAll)||0==(null===(O=e.rate)||void 0===O?void 0:O.comprehenshivRate)&&0==(null===(P=e.rate)||void 0===P?void 0:P.comprehenshivRateAll)?"":(0,o.jsx)("hr",{}),0==(null===(w=e.rate)||void 0===w?void 0:w.tplRate)&&0==(null===(F=e.rate)||void 0===F?void 0:F.tplRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===(B=e.rate)||void 0===B||null===(k=B.tplRateAll)||void 0===k?void 0:k.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})})]})]},t)}))})]}):"Medical"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"TPA"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Network"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Best Rate on LMP"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i,n,s,r;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e._id}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(l=e.primiumAll[0].rate)||void 0===l?void 0:l.map(((e,t)=>(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.network})},t)))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(i=e.primiumAll[0])||void 0===i||null===(n=i.rate)||void 0===n?void 0:n.map(((e,t)=>{var l;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e||null===(l=e.total)||void 0===l?void 0:l.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},t)}))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(s=e.primiumAll[0])||void 0===s||null===(r=s.rate)||void 0===r?void 0:r.map(((t,l)=>{var i,n,s;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e||null===(i=e.primiumAll[1])||void 0===i||null===(n=i.rateAll)||void 0===n||null===(s=n.find((e=>e.network[0]==t.network[0])))||void 0===s?void 0:s.totalAll.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},l)}))})})]},t)}))})]}):"Home"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Plan Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Plan Category"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Best Rate on LMP"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i,n,s,r,d,a;return null!==e&&void 0!==e&&null!==(l=e.primiumAll[0])&&void 0!==l&&l.rate?(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e._id}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(i=e.primiumAll[0])||void 0===i||null===(n=i.rate)||void 0===n?void 0:n.map(((e,t)=>(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.categori})},t)))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(s=e.primiumAll[0])||void 0===s||null===(r=s.rate)||void 0===r?void 0:r.map(((e,t)=>(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.total.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},t)))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(d=e.primiumAll[0])||void 0===d||null===(a=d.rate)||void 0===a?void 0:a.map(((t,l)=>{var i,n,s;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e||null===(i=e.primiumAll[1])||void 0===i||null===(n=i.rateAll)||void 0===n||null===(s=n.find((e=>e.categori==t.categori)))||void 0===s?void 0:s.totalAll.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},l)}))})})]},t):""}))})]}):"Yacht"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Body Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Best Rate on LMP"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i,n,s,r,d,a,c,h,u,v,m,x,j,p,g,b,y,f,S,R,A,N,T,_,D,O,P,w,F,B,k;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.body_type}),(0,o.jsxs)("td",{children:[0==(null===(l=e.rate)||void 0===l?void 0:l.comprehenshivRate)&&0==(null===(i=e.rate)||void 0===i?void 0:i.comprehenshivRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:"Comprehensivee"})}),0==(null===(n=e.rate)||void 0===n?void 0:n.tplRate)&&0==(null===(s=e.rate)||void 0===s?void 0:s.tplRateAll)||0==(null===(r=e.rate)||void 0===r?void 0:r.comprehenshivRate)&&0==(null===(d=e.rate)||void 0===d?void 0:d.comprehenshivRateAll)?"":(0,o.jsx)("hr",{}),0==(null===(a=e.rate)||void 0===a?void 0:a.tplRate)&&0==(null===(c=e.rate)||void 0===c?void 0:c.tplRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:"TPL"})})]}),(0,o.jsxs)("td",{children:[0==(null===(h=e.rate)||void 0===h?void 0:h.comprehenshivRate)&&0==(null===(u=e.rate)||void 0===u?void 0:u.comprehenshivRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===(v=e.rate)||void 0===v||null===(m=v.comprehenshivRate)||void 0===m?void 0:m.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})}),0==(null===(x=e.rate)||void 0===x?void 0:x.tplRate)&&0==(null===(j=e.rate)||void 0===j?void 0:j.tplRateAll)||0==(null===(p=e.rate)||void 0===p?void 0:p.comprehenshivRate)&&0==(null===(g=e.rate)||void 0===g?void 0:g.comprehenshivRateAll)?"":(0,o.jsx)("hr",{}),0==(null===(b=e.rate)||void 0===b?void 0:b.tplRate)&&0==(null===(y=e.rate)||void 0===y?void 0:y.tplRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===(f=e.rate)||void 0===f||null===(S=f.tplRate)||void 0===S?void 0:S.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})})]}),(0,o.jsxs)("td",{children:[0==(null===(R=e.rate)||void 0===R?void 0:R.comprehenshivRate)&&0==(null===(A=e.rate)||void 0===A?void 0:A.comprehenshivRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===(N=e.rate)||void 0===N||null===(T=N.comprehenshivRateAll)||void 0===T?void 0:T.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})}),0==(null===(_=e.rate)||void 0===_?void 0:_.tplRate)&&0==(null===(D=e.rate)||void 0===D?void 0:D.tplRateAll)||0==(null===(O=e.rate)||void 0===O?void 0:O.comprehenshivRate)&&0==(null===(P=e.rate)||void 0===P?void 0:P.comprehenshivRateAll)?"":(0,o.jsx)("hr",{}),0==(null===(w=e.rate)||void 0===w?void 0:w.tplRate)&&0==(null===(F=e.rate)||void 0===F?void 0:F.tplRateAll)?"":(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===(B=e.rate)||void 0===B||null===(k=B.tplRateAll)||void 0===k?void 0:k.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})})]})]},t)}))})]}):""]})]})})})},i)}))})})})]})})})}},99969:(e,t,l)=>{l.r(t),l.d(t,{default:()=>x});var i=l(65043),n=l(73216),s=(l(93204),l(66097),l(93946)),r=l(61072),o=l(78602),d=(l(90504),l(54168)),a=l(19182),c=l(92463),h=l(2528),u=(l(82768),l(91033),l(98465),l(12488)),v=(l(84596),l(70579));const m=function(e){let{filterOptions:t,defaultOptions:l}=e;const r=(0,n.Zp)(),[o,d]=(0,i.useState)(0),[a,c]=(0,i.useState)(0),[h,m]=(0,i.useState)(0),[x,j]=(0,i.useState)(0),[p,g]=(0,i.useState)(0);(0,i.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?r("/login"):b()}),[t,t.dateRange]);const b=async()=>{const e=JSON.parse(localStorage.getItem("user"));let i=t.location,n=t.lob,s=t.businessType,r=t.agent,o=t.dateRange,a=l.startdate,h=l.enddate,u=e.assign_staff,v=l.userType;i=null!=i&&void 0!=i&&Array.isArray(i)&&0!==i.length?i.map((e=>e.value)):l.defaultlocation.map((e=>e.value)),n=null!=n&&void 0!=n&&Array.isArray(n)&&0!==n.length?n.map((e=>e.value)):l.defaultlob.map((e=>e.value)),s=null!=s&&void 0!=s&&Array.isArray(s)&&0!==s.length?s.map((e=>e.value)):l.defaultbusinessType.map((e=>e.value)),r=null!=r&&void 0!=r&&Array.isArray(r)&&0!==r.length?r.map((e=>e.value)):l.defaultagent.map((e=>e.value));const x=localStorage.getItem("token"),p=JSON.parse(localStorage.getItem("user")).usertype;console.log("loginusertype",p);const b={method:"POST",body:JSON.stringify({location:i,lob:n,business_type:s,newagent:r,dateRange:o,startdate:a,enddate:h,assign_staff:u,userType:v}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+x}};"653604248028cba2487f7d2a"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/getInsurancetopLeagentCount",b).then((e=>e.json())).then((e=>{console.log("top legend data >>>",e.data),d(e.data.noOfSellingLobs),c(e.data.besSellingPolicy),m(e.data.totalPrimium),g(e.data.closingRatio),j(e.data.closePolicy)})).catch((e=>{console.log(e)})),"64622470b201a6f07b2dff22"==p&&await fetch("https://insuranceapi-3o5t.onrender.com/api/getInsurancetopLeagentCount",b).then((e=>e.json())).then((e=>{var t,l,i,n,s;console.log(" top legend data data",e.data),d(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.noOfSellingLobs),c(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.besSellingPolicy),m(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.totalPrimium),g(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.closingRatio),j(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.closePolicy)})).catch((e=>{console.log(e)}))};return console.log("totalcount",o),console.log("closeLeadCount",a),console.log("totalPremiumEarned",h),console.log("lost",p),console.log("pending",x),(0,v.jsx)("div",{children:(0,v.jsxs)(u.default,{className:"carousel_abcds",margin:30,swipeable:!1,draggable:!0,showDots:!0,responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:6},desktop:{breakpoint:{max:3e3,min:1024},items:6},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:[(0,v.jsx)(s.UF,{xs:2,class:"item",children:(0,v.jsx)(s.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Total Premium Earned",value:null!=h?function(e){if(null!==e){const t=parseFloat(e.toString().replace(/,/g,""));return isNaN(t)?"":t.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})}return""}(h):"0"})}),(0,v.jsx)(s.UF,{xs:2,class:"item",children:(0,v.jsx)(s.U0,{className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:"Best Selling LOB",value:null!=a?a.toString():"0"})}),(0,v.jsx)(s.UF,{xs:2,class:"item",children:(0,v.jsx)(s.U0,{className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Number Of LOB's Sold",value:null!=o?o.toString():"0"})}),(0,v.jsx)(s.UF,{xs:2,class:"item",children:(0,v.jsx)(s.U0,{width:50,className:"mb-3",progress:{color:"danger",value:100},text:"Widget helper text",title:"Total No. Of Policies Closed/Sold",value:null!=x?x.toString():"0"})}),(0,v.jsx)(s.UF,{xs:2,class:"item",children:(0,v.jsx)(s.U0,{width:36,className:"mb-3",progress:{color:"primary",value:100},text:"Widget helper text",title:"Online Closing ratio",value:null!=p?p.toString():"0"})})]})})};const x=function(){const e=(0,n.Zp)(),[t,l]=(0,i.useState)(!1),[s,u]=(0,i.useState)([]),[x,j]=(0,i.useState)(),[p,g]=(0,i.useState)([]),[b,y]=(0,i.useState)(),[f,S]=(0,i.useState)([{label:"New Business",value:"New"},{label:"Renewal Business",value:"Renewal"}]),[R,A]=(0,i.useState)(),[N,T]=(0,i.useState)([]),[_,D]=(0,i.useState)(),[O,P]=(0,i.useState)("daily");(0,i.useEffect)((()=>{const t=localStorage.getItem("token");null===t||void 0===t||""===t?e("/login"):(w(),F(),B())}),[]);const w=()=>{const e=JSON.parse(localStorage.getItem("user")),t=e.location;if(""!=e.insurance_company){const t={method:"GET",headers:{"Content-Type":"application/json"}};fetch(`https://insuranceapi-3o5t.onrender.com/api/getCompanyDetailsbyid/${e.insurance_company}`,t).then((e=>e.json())).then((e=>{P(e.data.default_time)}))}if(void 0!=t){const e=t,l=e.length,i=[];for(let t=0;t<l;t++){const l={label:e[t].loc_name,value:e[t].loc_id};i.push(l)}u(i)}else{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,l=t.length,i=[];for(let n=0;n<l;n++){const e={label:t[n].location_name,value:t[n]._id};i.push(e)}u(i)}))}},F=()=>{const e=JSON.parse(localStorage.getItem("user")).line_of_business;if(void 0!=e){const t=e,l=t.length,i=[];for(let e=0;e<l;e++){const l={label:t[e].lob_name,value:t[e].lob_id};i.push(l)}g(i)}else{fetch("https://insuranceapi-3o5t.onrender.com/api/get_LOB",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,l=t.length,i=[];for(let n=0;n<l;n++){const e={label:t[n].line_of_business_name,value:t[n].line_of_business_name};i.push(e)}g(i)}))}},B=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/getMultiStaff",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const t=e.data,l=t.length,i=[];for(let n=0;n<l;n++){const e={label:t[n].name,value:t[n]._id};i.push(e)}T(i),console.log(i)}))},k=e=>{P(e)},[L,C]=(0,i.useState)(!1),[I,U]=(0,i.useState)(new Date),[M,E]=(0,i.useState)(new Date),G={defaultlocation:s,defaultlob:p,defaultbusinessType:f,defaultagent:N,defaultdateRange:O};console.log(G.defaultbusinessType);const H=(e,t)=>{switch(e){case"location":j(t);break;case"lob":y(t);break;case"businessType":A(t);break;case"agent":D(t)}},Y={location:x,lob:b,businessType:R,agent:_,dateRange:O};return console.log(Y.businessType),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("section",{className:"mb-2",children:(0,v.jsxs)(r.A,{children:[(0,v.jsx)(o.A,{className:"",sm:5,children:(0,v.jsx)("h4",{id:"dashboard",className:"card-title mb-0",children:"Dashboard"})}),(0,v.jsx)(o.A,{sm:7,className:"d-none d-md-block",children:(0,v.jsxs)("div",{className:"float-end me-3",children:[(0,v.jsx)("button",{onClick:()=>k("daily"),className:""+("daily"===O?"btn btn-selected":"btn btn-light"),children:"Daily"}),(0,v.jsx)("button",{onClick:()=>k("weekly"),className:""+("weekly"===O?"btn btn-selected":"btn btn-light"),children:"Weekly"}),(0,v.jsx)("button",{onClick:()=>k("monthly"),className:""+("monthly"===O?"btn btn-selected":"btn btn-light"),children:"Monthly"}),(0,v.jsx)("button",{onClick:()=>k("yearly"),className:""+("yearly"===O?"btn btn-selected":"btn btn-light"),children:"Yearly"}),(0,v.jsx)("button",{onClick:()=>{},className:""+("customized"===O?"btn btn-selected":"btn btn-light"),children:"Customized"})]})}),(0,v.jsx)(o.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:(0,v.jsx)(d.default,{options:G.defaultlocation,displayValue:"label",onSelect:e=>H("location",e),onRemove:e=>H("location",e),placeholder:"Select location",selectedValues:x,showArrow:!0})})}),(0,v.jsx)(o.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:(0,v.jsx)(d.default,{options:G.defaultbusinessType,displayValue:"label",onSelect:e=>H("businessType",e),onRemove:e=>H("businessType",e),placeholder:"Select business type",selectedValues:R,showArrow:!0})})}),(0,v.jsx)(o.A,{className:"mb-3",sm:3,children:(0,v.jsx)("div",{children:(0,v.jsx)(d.default,{options:G.defaultlob,displayValue:"label",onSelect:e=>H("lob",e),onRemove:e=>H("lob",e),placeholder:"Select line of business",selectedValues:b,showArrow:!0})})}),(0,v.jsx)(o.A,{children:(0,v.jsx)("div",{className:"mb-3",children:(0,v.jsx)("button",{style:{width:"auto"},className:"btn btn-light",onClick:()=>e("/AddCompanyUsers"),children:"Add User Request"})})})]})}),(0,v.jsx)("section",{className:"mb-3",children:(0,v.jsx)(m,{defaultOptions:G,filterOptions:Y})}),(0,v.jsx)("section",{className:"tables",children:(0,v.jsxs)(r.A,{children:[(0,v.jsx)(o.A,{className:"",lg:12,children:(0,v.jsx)(a.default,{defaultOptions:G,filterOptions:Y})}),(0,v.jsx)(o.A,{className:"",lg:12,children:(0,v.jsx)(c.default,{defaultOptions:G,filterOptions:Y})}),(0,v.jsx)(o.A,{className:"",lg:12,children:(0,v.jsx)(h.default,{defaultOptions:G,filterOptions:Y})})]})})]})}},19182:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var i=l(65043),n=(l(92157),l(73216)),s=l(1177),r=(l(86178),l(30710)),o=l(70579);const d=function(e){let{filterOptions:t,defaultOptions:l}=e;const d=(0,n.Zp)(),[a,c]=(0,i.useState)([]),[h,u]=(0,i.useState)(null),[v,m]=(0,i.useState)([]),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?d("/login"):b()}),[]),(0,i.useEffect)((()=>{console.log("filterOptions>>>> ",t),b()}),[t]);const b=()=>{var e,i,n;const s={method:"POST",body:JSON.stringify({location:null===(e=t.location)||void 0===e?void 0:e.map((e=>e.value)),lob:null===(i=t.lob)||void 0===i?void 0:i.map((e=>e.value)),business_type:null===(n=t.businessType)||void 0===n?void 0:n.map((e=>e.value)),dateRange:t.dateRange,startdate:l.startdate,enddate:l.enddate}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};fetch("https://insuranceapi-3o5t.onrender.com/api/getInsurancePrimiumEarnedByLob",s).then((e=>e.json())).then((e=>{console.log(e,"premium earned Data"),c(e.data)}))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.A,{className:"neww",defaultActiveKey:"1",children:(0,o.jsxs)(s.A.Item,{eventKey:"1",children:[(0,o.jsx)(s.A.Header,{children:(0,o.jsx)("div",{className:"card-header new_leads",children:(0,o.jsx)("strong",{children:"Premium Earned"})})}),(0,o.jsx)(s.A.Body,{style:{padding:"2px"},children:(0,o.jsxs)("table",{className:"table table-bordered striped ",children:[(0,o.jsx)("thead",{className:"thead-dark",children:(0,o.jsxs)("tr",{className:"table-info",children:[(0,o.jsx)("th",{scope:"col",style:{width:"70%"},children:(0,o.jsx)("strong",{children:"Line Of Business"})}),(0,o.jsx)("th",{scope:"col",children:(0,o.jsx)("strong",{children:"Premium"})})]})}),(0,o.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map(((e,i)=>{var n,d;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{style:{borderLeft:"hidden",borderRight:"hidden"},children:(0,o.jsx)(s.A,{children:(0,o.jsxs)(s.A.Item,{eventKey:i,children:[(0,o.jsx)(s.A.Header,{className:"headersss",onClick:n=>{var s;return((e,i,n)=>{if("accordion-button"!=n){var s,r,o;u(i),g(!0),m([]),j(e);const n={method:"POST",body:JSON.stringify({location:null===(s=t.location)||void 0===s?void 0:s.map((e=>e.value)),lob:null===(r=t.lob)||void 0===r?void 0:r.map((e=>e.value)),business_type:null===(o=t.businessType)||void 0===o?void 0:o.map((e=>e.value)),dateRange:t.dateRange,startdate:l.startdate,enddate:l.enddate}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};let d;"Motor"==e?d="insurancePrimiumByBodyType":"Travel"==e?d="getInsurancePrimiumEarnedByTravelCoverType":"Yacht"==e?d="getInsurancePrimiumEarnedByYachtBodyType":"Home"==e?d="insurancePrimiumByHomePlaneType":"Medical"==e&&(d="getInsurancePrimiumEarnedByIndiviualLob"),fetch(`https://insuranceapi-3o5t.onrender.com/api/${d}`,n).then((e=>e.json())).then((e=>{m(e.data),g(!1)}))}})(null===(s=e.Lob[0])||void 0===s?void 0:s.line_of_business_name,i,n.target.className)},children:(0,o.jsx)("div",{className:"d-flex justify-content-center",children:null===(n=e.Lob[0])||void 0===n?void 0:n.line_of_business_name})}),(0,o.jsxs)(s.A.Body,{style:{padding:"2px"},children:[1==p&&h==i?(0,o.jsx)(r.A,{color:"#0D2F92",loading:p,size:50}):"","Travel"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Travel For"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"No Of Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Premium"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e._id}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(l=e.primium)||void 0===l?void 0:l.map(((e,t)=>{var l;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null!==e&&void 0!==e&&null!==(l=e.noOfDays)&&void 0!==l&&l.length?null===e||void 0===e?void 0:e.noOfDays:""})},t)}))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(i=e.primium)||void 0===i?void 0:i.map(((e,t)=>{var l;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e||null===(l=e.total)||void 0===l?void 0:l.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},t)}))})})]},t)}))})]}):"Motor"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Body Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Premium"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e._id}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(l=e.primium)||void 0===l?void 0:l.map(((e,t)=>(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null!==e&&void 0!==e&&e.policyType?null===e||void 0===e?void 0:e.policyType:""})},t)))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(i=e.primium)||void 0===i?void 0:i.map(((e,t)=>{var l;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e||null===(l=e.total)||void 0===l?void 0:l.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},t)}))})})]},t)}))})]}):"Medical"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"TPA"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Network"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Premium"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e._id}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(l=e.primium)||void 0===l?void 0:l.map(((e,t)=>{var l;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null!==e&&void 0!==e&&null!==(l=e.network)&&void 0!==l&&l.length?null===e||void 0===e?void 0:e.network:""})},t)}))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(i=e.primium)||void 0===i?void 0:i.map(((e,t)=>{var l;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e||null===(l=e.total)||void 0===l?void 0:l.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},t)}))})})]},t)}))})]}):"Home"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Plan Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Plan Category"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Premium"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e._id}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(l=e.primium)||void 0===l?void 0:l.map(((e,t)=>(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e?void 0:e.categori})},t)))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(i=e.primium)||void 0===i?void 0:i.map(((e,t)=>{var l;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e||null===(l=e.total)||void 0===l?void 0:l.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},t)}))})})]},t)}))})]}):"Yacht"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Body Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Premium"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,t)=>{var l,i;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e._id}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(l=e.primium)||void 0===l?void 0:l.map(((e,t)=>{var l;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null!==e&&void 0!==e&&null!==(l=e.policyType)&&void 0!==l&&l.length?null===e||void 0===e?void 0:e.policyType:""})},t)}))})}),(0,o.jsx)("td",{children:(0,o.jsx)("table",{className:"table",children:null===e||void 0===e||null===(i=e.primium)||void 0===i?void 0:i.map(((e,t)=>{var l;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:null===e||void 0===e||null===(l=e.total)||void 0===l?void 0:l.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})},t)}))})})]},t)}))})]}):""]})]})})}),(0,o.jsx)("td",{children:null===(d=e.total)||void 0===d?void 0:d.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})})]},i)}))})]})})]})})})}},2528:(e,t,l)=>{l.r(t),l.d(t,{default:()=>d});var i=l(65043),n=(l(92157),l(73216)),s=l(1177),r=(l(86178),l(73023),l(30710)),o=l(70579);const d=function(e){let{filterOptions:t,defaultOptions:l}=e;const d=(0,n.Zp)(),[a,c]=(0,i.useState)([]),[h,u]=(0,i.useState)(null),[v,m]=(0,i.useState)([]),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(!1),[b,y]=(0,i.useState)([]);(0,i.useEffect)((()=>{const e=localStorage.getItem("token");null===e||void 0===e||""===e?d("/login"):f()}),[]),(0,i.useEffect)((()=>{console.log("filterOptions>>>> ",t),f()}),[t]);const f=()=>{var e,i,n;const s={method:"POST",body:JSON.stringify({location:null===(e=t.location)||void 0===e?void 0:e.map((e=>e.value)),lob:null===(i=t.lob)||void 0===i?void 0:i.map((e=>e.value)),business_type:null===(n=t.businessType)||void 0===n?void 0:n.map((e=>e.value)),dateRange:t.dateRange,startdate:l.startdate,enddate:l.enddate}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};fetch("https://insuranceapi-3o5t.onrender.com/api/getInsurancePrimiumEarnedByLob",s).then((e=>e.json())).then((e=>{console.log(e,"premium earned Data"),c(e.data)}))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.A,{className:"neww",children:(0,o.jsxs)(s.A.Item,{eventKey:"1",children:[(0,o.jsx)(s.A.Header,{children:(0,o.jsx)("div",{className:"card-header new_leads",children:(0,o.jsx)("strong",{children:"Projected Business Analysis"})})}),(0,o.jsx)(s.A.Body,{style:{padding:"2px"},children:(0,o.jsxs)("table",{className:"table table-bordered striped ",children:[(0,o.jsx)("thead",{className:"thead-dark",children:(0,o.jsx)("tr",{className:"table-info"})}),(0,o.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map(((e,i)=>{var n;return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{style:{borderLeft:"hidden",borderRight:"hidden"},children:(0,o.jsx)(s.A,{className:"col-md-12",children:(0,o.jsxs)(s.A.Item,{eventKey:i+1,children:[(0,o.jsx)(s.A.Header,{className:"headersss",onClick:n=>{var s;return((e,i,n)=>{if("accordion-button"!=n){var s,r;g(!0),y([]),m([]);const n={method:"POST",body:JSON.stringify({location:null===(s=t.location)||void 0===s?void 0:s.map((e=>e.value)),lob:null===(r=t.lob)||void 0===r?void 0:r.map((e=>e.value)),business_type:t.businessType,dateRange:t.dateRange,startdate:l.startdate,enddate:l.enddate}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};let o;"Motor"==e?o="getMotorProjectBusiness":"Travel"==e?o="getTravelProjectBusiness":"Yacht"==e?o="getYachtProjectBusiness":"Home"==e?o="getHomeProjectBusiness":"Medical"==e&&(o="getMedicalProjectBusiness"),fetch(`https://insuranceapi-3o5t.onrender.com/api/${o}`,n).then((e=>e.json())).then((t=>{if(console.log(t.data,"api data"),g(!1),"Motor"==e||"Yacht"==e){const e=t.data;console.log(e," yacht projection data ><><><>>>>>>>><<<<<<<>");const i=[],n=[];for(let t=0;t<e.length;t++){const s=e[t].rate;for(let r=0;r<s.length;r++){let o,d,a;var l;s[r].hasOwnProperty("comprehenshivRate")?(o="Comprehensive",d=s[r].comprehenshivRate,a=s[r].primiumCom):(o="Third Party Liability (TPL)",d=null===(l=s[r])||void 0===l?void 0:l.tplRate,a=s[r].primiumTpl);const c={body_type:0==r?e[t]._id:"",_id:e[t]._id,len:s.length,type:o,value:d,primium:a};let h={first:"",second:"",third:"",fourth:"",fifth:"",total:""};n.push(h),i.push(c)}}y(n),m(i)}else if("Travel"==e){const e=t.data,l=[],i=[];for(let t=0;t<e.length;t++){const n=e[t].primium;for(let s=0;s<n.length;s++){const r={...n[s],travel_for:0==s?e[t]._id[0]:"",_id:e[t]._id[0],len:n.length};let o={first:"",second:"",third:"",fourth:"",fifth:"",total:""};i.push(o),l.push(r)}}y(i),m(l)}else if("Home"==e){const e=t.data,l=[],i=[];for(let t=0;t<e.length;t++){var n;const s=null===(n=e[t])||void 0===n?void 0:n.primium;for(let n=0;n<s.length;n++){const r={...s[n],home_type:0==n?e[t]._id:"",_id:e[t]._id,len:s.length};let o={first:"",second:"",third:"",fourth:"",fifth:"",total:""};i.push(o),l.push(r)}}console.log(l,"home rate comparision data"),y(i),m(l)}else if("Medical"==e){const e=t.data;console.log(e,">>>>>>>>>><<<<<<<<<<>>>>>>>>>><<<<<<<<<<>>>>>>>>>");const l=[],i=[];for(let t=0;t<e.length;t++){var s;const n=null===(s=e[t])||void 0===s?void 0:s.primium;for(let s=0;s<n.length;s++){const r={...n[s],medical_type:0==s?e[t]._id[0]:"",_id:e[t]._id[0],len:n.length};let o={first:"",second:"",third:"",fourth:"",fifth:"",total:""};i.push(o),l.push(r)}}console.log(l,"medical rate comparision data"),y(i),m(l)}u(i),j(e)}))}})(null===(s=e.Lob[0])||void 0===s?void 0:s.line_of_business_name,i,n.target.className)},children:(0,o.jsx)("div",{className:"d-flex justify-content-center",children:null===(n=e.Lob[0])||void 0===n?void 0:n.line_of_business_name})}),(0,o.jsxs)(s.A.Body,{style:{padding:"2px"},children:[1==p&&h==i?(0,o.jsx)(r.A,{color:"#0D2F92",loading:p,size:50}):"","Travel"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Travel For"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"No Of Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Existing Premium"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Projected Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"1-90 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"91-180 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"181-270 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"271-360 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"360+ Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Total"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,l)=>{var i,n,s,r,d,a,c;return(0,o.jsxs)("tr",{children:[""!=e.travel_for?(0,o.jsx)("td",{rowSpan:e.len,children:e.travel_for}):"",(0,o.jsx)("td",{children:e.noOdDays}),(0,o.jsx)("td",{children:null===(i=e.total)||void 0===i?void 0:i.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})}),(0,o.jsx)("td",{children:e.primium}),(0,o.jsx)("td",{children:(0,o.jsx)("input",{onChange:i=>((e,l,i)=>{var n;const s={method:"POST",body:JSON.stringify({rate:e,noOfDays:l.noOdDays,travelFor:l._id,location:null===(n=t.location)||void 0===n?void 0:n.map((e=>e.value)),business_type:t.businessType}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};fetch("https://insuranceapi-3o5t.onrender.com/api/getTravelHypothitcalBusiness",s).then((e=>e.json())).then((e=>{if(200==e.status){let t=e.data,l=[...b];l[i].first=t["1-90"],l[i].second=t["91-180"],l[i].third=t["181-270"],l[i].fourth=t["271-360"],l[i].fifth=t["360+"],l[i].total=t["1-90"]+t["91-180"]+t["181-270"]+t["271-360"]+t["360+"],y(l)}console.log(e," >>>>>>>>>>>projected input rate")}))})(i.target.value,e,l),type:"text",className:"form-control"})}),(0,o.jsx)("td",{children:null===(n=b[l])||void 0===n?void 0:n.first}),(0,o.jsx)("td",{children:null===(s=b[l])||void 0===s?void 0:s.second}),(0,o.jsx)("td",{children:null===(r=b[l])||void 0===r?void 0:r.third}),(0,o.jsx)("td",{children:null===(d=b[l])||void 0===d?void 0:d.fourth}),(0,o.jsx)("td",{children:null===(a=b[l])||void 0===a?void 0:a.fifth}),(0,o.jsx)("td",{children:null===(c=b[l])||void 0===c?void 0:c.total})]},l)}))})]}):"Motor"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Body Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Existing Premium"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Project Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"1-90 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"91-180 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"181-270 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"271-360 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"360+ Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Total"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,l)=>{var i,n,s,r,d,a;return(0,o.jsxs)("tr",{children:[""!=e.body_type?(0,o.jsx)("td",{rowSpan:e.len,children:e.body_type}):"",(0,o.jsx)("td",{children:e.type}),(0,o.jsx)("td",{children:e.value}),(0,o.jsx)("td",{children:e.primium}),(0,o.jsx)("td",{children:(0,o.jsx)("input",{onChange:i=>((e,l,i)=>{var n;const s={method:"POST",body:JSON.stringify({rate:e,policyType:l.type,bodyName:l._id,location:null===(n=t.location)||void 0===n?void 0:n.map((e=>e.value)),business_type:t.businessType}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};fetch("https://insuranceapi-3o5t.onrender.com/api/getMotorHypothitcalBusiness",s).then((e=>e.json())).then((e=>{if(200==e.status){let t=e.data,l=[...b];l[i].first=t["1-90"],l[i].second=t["91-180"],l[i].third=t["181-270"],l[i].fourth=t["271-360"],l[i].fifth=t["360+"],l[i].total=t["1-90"]+t["91-180"]+t["181-270"]+t["271-360"]+t["360+"],y(l)}console.log(e," >>>>>>>>>>>projected input rate")}))})(i.target.value,e,l),type:"text",className:"form-control"})}),(0,o.jsx)("td",{children:null===(i=b[l])||void 0===i?void 0:i.first}),(0,o.jsx)("td",{children:null===(n=b[l])||void 0===n?void 0:n.second}),(0,o.jsx)("td",{children:null===(s=b[l])||void 0===s?void 0:s.third}),(0,o.jsx)("td",{children:null===(r=b[l])||void 0===r?void 0:r.fourth}),(0,o.jsx)("td",{children:null===(d=b[l])||void 0===d?void 0:d.fifth}),(0,o.jsx)("td",{children:null===(a=b[l])||void 0===a?void 0:a.total})]},l)}))})]}):"Medical"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"TPA"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Network"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Existing Premium"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Projected Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"1-90 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"91-180 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"181-270 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"271-360 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"360+ Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Total"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,l)=>{var i,n,s,r,d,a;return(0,o.jsxs)("tr",{children:[""!=e.medical_type?(0,o.jsx)("td",{rowSpan:e.len,children:e.medical_type}):"",(0,o.jsx)("td",{children:e.network[0]}),(0,o.jsx)("td",{children:e.total}),(0,o.jsx)("td",{children:e.primium}),(0,o.jsx)("td",{children:(0,o.jsx)("input",{onChange:i=>((e,l,i)=>{var n;const s={method:"POST",body:JSON.stringify({rate:e,TPA:l.medical_type,network:l.network[0],location:null===(n=t.location)||void 0===n?void 0:n.map((e=>e.value)),business_type:t.businessType}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};fetch("https://insuranceapi-3o5t.onrender.com/api/getMedicalHypothitcalBusiness",s).then((e=>e.json())).then((e=>{if(200==e.status){let t=e.data,l=[...b];l[i].first=t["1-90"],l[i].second=t["91-180"],l[i].third=t["181-270"],l[i].fourth=t["271-360"],l[i].fifth=t["360+"],l[i].total=t["1-90"]+t["91-180"]+t["181-270"]+t["271-360"]+t["360+"],y(l)}console.log(e," >>>>>>>>>>>projected input rate")}))})(i.target.value,e,l),type:"text",className:"form-control"})}),(0,o.jsx)("td",{children:null===(i=b[l])||void 0===i?void 0:i.first}),(0,o.jsx)("td",{children:null===(n=b[l])||void 0===n?void 0:n.second}),(0,o.jsx)("td",{children:null===(s=b[l])||void 0===s?void 0:s.third}),(0,o.jsx)("td",{children:null===(r=b[l])||void 0===r?void 0:r.fourth}),(0,o.jsx)("td",{children:null===(d=b[l])||void 0===d?void 0:d.fifth}),(0,o.jsx)("td",{children:null===(a=b[l])||void 0===a?void 0:a.total})]},l)}))})]}):"Home"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Plan Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Plan Category"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Existing Premium"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Project Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"1-90 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"91-180 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"181-270 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"271-360 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"360+ Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Total"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,l)=>{var i,n,s,r,d,a;return(0,o.jsxs)("tr",{children:[""!=e.home_type?(0,o.jsx)("td",{rowSpan:e.len,children:e.home_type}):"",(0,o.jsx)("td",{children:e.categori}),(0,o.jsx)("td",{children:e.rate}),(0,o.jsx)("td",{children:e.primium}),(0,o.jsx)("td",{children:(0,o.jsx)("input",{onChange:i=>((e,l,i)=>{var n;const s={method:"POST",body:JSON.stringify({rate:e,planCategory:l.categori,buldingType:l._id,location:null===(n=t.location)||void 0===n?void 0:n.map((e=>e.value)),business_type:t.businessType}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};fetch("https://insuranceapi-3o5t.onrender.com/api/getHomeHypothitcalBusiness",s).then((e=>e.json())).then((e=>{if(200==e.status){let t=e.data,l=[...b];l[i].first=t["1-90"],l[i].second=t["91-180"],l[i].third=t["181-270"],l[i].fourth=t["271-360"],l[i].fifth=t["360+"],l[i].total=t["1-90"]+t["91-180"]+t["181-270"]+t["271-360"]+t["360+"],y(l)}console.log(e," >>>>>>>>>>>projected input rate")}))})(i.target.value,e,l),type:"text",className:"form-control"})}),(0,o.jsx)("td",{children:null===(i=b[l])||void 0===i?void 0:i.first}),(0,o.jsx)("td",{children:null===(n=b[l])||void 0===n?void 0:n.second}),(0,o.jsx)("td",{children:null===(s=b[l])||void 0===s?void 0:s.third}),(0,o.jsx)("td",{children:null===(r=b[l])||void 0===r?void 0:r.fourth}),(0,o.jsx)("td",{children:null===(d=b[l])||void 0===d?void 0:d.fifth}),(0,o.jsx)("td",{children:null===(a=b[l])||void 0===a?void 0:a.total})]},l)}))})]}):"Yacht"==x&&h==i?(0,o.jsxs)("table",{className:"table table-bordered striped",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Body Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Type"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Your Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Existing Premium"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Project Rate"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"1-90 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"91-180 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"181-270 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"271-360 Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"360+ Days"})}),(0,o.jsx)("th",{children:(0,o.jsx)("strong",{children:"Total"})})]})}),(0,o.jsx)("tbody",{children:null===v||void 0===v?void 0:v.map(((e,l)=>{var i,n,s,r,d,a;return(0,o.jsxs)("tr",{children:[""!=e.body_type?(0,o.jsx)("td",{rowSpan:e.len,children:e.body_type}):"",(0,o.jsx)("td",{children:e.type}),(0,o.jsx)("td",{children:e.value.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:!0})}),(0,o.jsx)("td",{children:e.primium}),(0,o.jsx)("td",{children:(0,o.jsx)("input",{onChange:i=>((e,l,i)=>{var n;const s={method:"POST",body:JSON.stringify({rate:e,policyType:l.type,bodyName:l._id,location:null===(n=t.location)||void 0===n?void 0:n.map((e=>e.value)),business_type:t.businessType}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}};fetch("https://insuranceapi-3o5t.onrender.com/api/getYachtHypothitcalBusiness",s).then((e=>e.json())).then((e=>{if(200==e.status){let t=e.data;console.log(t," yatch response data ");let l=[...b];l[i].first=t["1-90"],l[i].second=t["91-180"],l[i].third=t["181-270"],l[i].fourth=t["271-360"],l[i].fifth=t["360+"],l[i].total=t["1-90"]+t["91-180"]+t["181-270"]+t["271-360"]+t["360+"],y(l)}console.log(e," >>>>>>>>>>>projected input rate")}))})(i.target.value,e,l),type:"text",className:"form-control"})}),(0,o.jsx)("td",{children:null===(i=b[l])||void 0===i?void 0:i.first}),(0,o.jsx)("td",{children:null===(n=b[l])||void 0===n?void 0:n.second}),(0,o.jsx)("td",{children:null===(s=b[l])||void 0===s?void 0:s.third}),(0,o.jsx)("td",{children:null===(r=b[l])||void 0===r?void 0:r.fourth}),(0,o.jsx)("td",{children:null===(d=b[l])||void 0===d?void 0:d.fifth}),(0,o.jsx)("td",{children:null===(a=b[l])||void 0===a?void 0:a.total})]},l)}))})]}):""]})]})})})},i)}))})]})})]})})})}},30710:(e,t,l)=>{l.d(t,{A:()=>a});var i=l(65043),n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function s(e){var t=function(e){if("number"===typeof e)return{value:e,unit:"px"};var t,l=(e.match(/^[0-9.]*/)||"").toString();t=l.includes(".")?parseFloat(l):parseInt(l,10);var i=(e.match(/[^0-9]*$/)||"").toString();return n[i]?{value:t,unit:i}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var r=function(){return r=Object.assign||function(e){for(var t,l=1,i=arguments.length;l<i;l++)for(var n in t=arguments[l])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},r.apply(this,arguments)},o=function(e,t){var l={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(l[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(l[i[n]]=e[i[n]])}return l},d=function(e,t,l){var i="react-spinners-".concat(e,"-").concat(l);if("undefined"==typeof window||!window.document)return i;var n=document.createElement("style");document.head.appendChild(n);var s=n.sheet,r="\n    @keyframes ".concat(i," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(r,0),i}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");const a=function(e){var t=e.loading,l=void 0===t||t,n=e.color,a=void 0===n?"#000000":n,c=e.speedMultiplier,h=void 0===c?1:c,u=e.cssOverride,v=void 0===u?{}:u,m=e.size,x=void 0===m?35:m,j=o(e,["loading","color","speedMultiplier","cssOverride","size"]),p=r({background:"transparent !important",width:s(x),height:s(x),borderRadius:"100%",border:"2px solid",borderTopColor:a,borderBottomColor:"transparent",borderLeftColor:a,borderRightColor:a,display:"inline-block",animation:"".concat(d," ").concat(.75/h,"s 0s infinite linear"),animationFillMode:"both"},v);return l?i.createElement("span",r({style:p},j)):null}}}]);
//# sourceMappingURL=656.fe8e4886.chunk.js.map