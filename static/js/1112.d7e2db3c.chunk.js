"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[1112],{31112:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var n=s(65043),c=s(73216),r=s(73023),a=s.n(r),i=s(70579);const l=()=>{const e=(0,c.Zp)(),[t,s]=(0,n.useState)([]),[r,l]=(0,n.useState)({});(0,n.useEffect)((()=>{const t=localStorage.getItem("token");null!==t&&void 0!==t&&""!==t||e("/login")}),[]);const o=(e,n)=>{const{name:c,value:r}=n.target;""===r.trim()?l((e=>({...e,[c]:"This is required"}))):l((e=>({...e,[c]:""})));const a=[...t];a[e][c]=r,s(a)};return(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-md-12",children:(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("div",{className:"card-header",children:[(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-md-12",children:(0,i.jsx)("h4",{className:"card-title",children:"Add Table Benefits"})})}),(0,i.jsx)("div",{className:"card-body addmotorplans",style:{overflowX:"scroll"},children:(0,i.jsxs)("table",{className:"table table-bordered",style:{width:"auto"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:(0,i.jsx)("button",{className:"btn btn-outline-success",onClick:()=>{s([...t,{feature:"",description:""}])},children:"+"})}),(0,i.jsx)("th",{children:"Feature"}),(0,i.jsx)("th",{children:"Description"})]})}),(0,i.jsx)("tbody",{children:t.map(((e,n)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(e=>{const n=[...t];n.splice(e,1),s(n)})(n),children:"x"})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",onChange:e=>o(n,e),className:"form-control",name:"feature",placeholder:"Medical Benefits",autoComplete:"off",required:!0})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"text",onChange:e=>o(n,e),className:"form-control",name:"description",placeholder:"Description",autoComplete:"off",required:!0})})]},n)))})]})}),(0,i.jsx)("div",{className:"card-footer",children:(0,i.jsx)("button",{className:"btn btn-outline-success",onClick:s=>{s.preventDefault();try{if(t.some((e=>""===e.feature.trim()||""===e.description.trim())))return void a()({title:"Warning!",text:"Please fill in all fields for each row.",type:"warning",icon:"warning"});const s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};fetch("https://insuranceapi-3o5t.onrender.com/api/add_table_benefits",s).then((e=>e.json())).then((t=>{200==t.status?(a()({text:t.message,type:"success",icon:"success",button:!1}),e("/tablebenefits"),setTimeout((()=>{a().close()}),"1000")):(console.log(t.status,">>>>>>>>>>>status"),a()({title:"Error!",text:t.message,type:"error",icon:"error",button:!1}),setTimeout((()=>{a().close()}),"1000"))}))}catch(n){console.log(n)}},children:"Submit"})})]})})})})})}}}]);
//# sourceMappingURL=1112.d7e2db3c.chunk.js.map