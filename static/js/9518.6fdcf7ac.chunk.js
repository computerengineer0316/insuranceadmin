"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[9518],{69518:(e,s,r)=>{r.r(s),r.d(s,{default:()=>i});var a=r(65043),o=r(73216),t=r(73023),c=r.n(t),d=r(70579);const i=()=>{const e=(0,o.Zp)(),[s,r]=(0,a.useState)([]);(0,a.useEffect)((()=>{const s=localStorage.getItem("token");if(null===s||void 0===s||""===s)e("/login");else{const e=JSON.parse(localStorage.getItem("user"));r(e)}}),[]);return(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsx)("div",{className:"card",style:{marginTop:"20px"},children:(0,d.jsx)("div",{className:"card-header",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsx)("h4",{className:"card-title",children:"Change Password"})}),(0,d.jsx)("hr",{}),(0,d.jsx)("div",{className:"card-body",children:(0,d.jsxs)("form",{action:"/",method:"POST",onSubmit:e=>{e.preventDefault();const s=new FormData(e.target),r=s.get("password"),a=s.get("cpassword"),o=s.get("profile_id");if(r!==a)c()({title:"Error!",text:"Password and Confirm Password does not match",type:"error",icon:"error"});else{const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:r,profileid:o})};fetch("https://insuranceapi-3o5t.onrender.com/api/changepassword",e).then((e=>e.json())).then((e=>{200===e.status?c()({title:"Success!",text:e.message,type:"success",icon:"success"}).then((function(){window.location.href="/ChangePassword"})):c()({title:"Error!",text:e.message,type:"error",icon:"error"}).then((function(){window.location.href="/ChangePassword"}))}))}},children:[(0,d.jsxs)("div",{className:"row",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)("label",{children:"Password"}),(0,d.jsx)("input",{type:"password",name:"password",className:"form-control",placeholder:"Password",required:!0})]})}),(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"form-group mb-3",children:[(0,d.jsx)("label",{children:"Confirm Password"}),(0,d.jsx)("input",{type:"password",name:"cpassword",className:"form-control",placeholder:"Confirm Password",required:!0})]})})]}),(0,d.jsx)("input",{type:"hidden",name:"profile_id",defaultValue:s._id}),(0,d.jsx)("div",{className:"row",children:(0,d.jsx)("div",{className:"col-md-12",children:(0,d.jsx)("button",{type:"submit",className:"btn btn-primary",style:{float:"right"},children:"Change Password"})})})]})})]})})})})})})}}}]);
//# sourceMappingURL=9518.6fdcf7ac.chunk.js.map