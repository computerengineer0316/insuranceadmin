"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[8937],{38937:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(65043),n=t(73216),l=t(73023),i=t.n(l),o=t(54168),c=t(70579);const r=()=>{(0,a.useEffect)((()=>{null==localStorage.getItem("token")||""==localStorage.getItem("token")||void 0==localStorage.getItem("token")?e("/login"):d()}),[]);const e=(0,n.Zp)(),[s,t]=(0,a.useState)([]),[l,r]=(0,a.useState)(null),d=()=>{fetch("https://insuranceapi-3o5t.onrender.com/api/get_location",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{const s=e.data,a=s.length,n=[];for(let t=0;t<a;t++){const e={label:s[t].location_name,value:s[t]._id};n.push(e)}t(n)}))};return(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsxs)("div",{className:"card",children:[(0,c.jsx)("div",{className:"card-header",children:(0,c.jsx)("h4",{className:"card-title",children:"Add Line Of Business"})}),(0,c.jsx)("div",{className:"card-body",children:(0,c.jsxs)("form",{action:"/",method:"POST",onSubmit:s=>{s.preventDefault();const t=new FormData(s.target),a=t.get("line_of_business_name"),n=l,o=n.length,c=[];for(let e=0;e<o;e++)c.push(n[e].value);const r=t.get("status"),d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_of_business_name:a,line_of_business_location:c.toString(),line_of_business_status:r})};fetch("https://insuranceapi-3o5t.onrender.com/api/add_line_of_business",d).then((e=>e.json())).then((s=>{200==s.status?i()({title:"Wow!",text:s.message,type:"success",icon:"success"}).then((function(){e("/line-of-business")})):i()({title:"Error!",text:s.message,type:"error",icon:"error"}).then((function(){e("/line-of-business/AddLineOfBusiness")}))}))},children:[(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Line Of Business Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",name:"line_of_business_name",placeholder:"Line Of Business Name",autoComplete:"off",required:!0})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Location"}),(0,c.jsx)(o.default,{options:s,displayValue:"label",onSelect:r,onRemove:r,placeholder:"Select Location",showCheckbox:!0,required:!0})]})})]}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{className:"form-label",children:"Status"}),(0,c.jsxs)("select",{className:"form-control",name:"status",required:!0,children:[(0,c.jsx)("option",{value:"",children:"Select Status"}),(0,c.jsx)("option",{value:"1",children:"Active"}),(0,c.jsx)("option",{value:"0",children:"Inactive"})]})]})})}),(0,c.jsx)("div",{className:"row",children:(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",style:{float:"right"},children:"Submit"})})})]})})]})})})})}}}]);
//# sourceMappingURL=8937.8f0c7214.chunk.js.map