{"version":3,"file":"static/js/4357.64765013.chunk.js","mappings":"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","sources":["views/motor-model/EditModelMotor.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Swal from \"sweetalert2\";\nimport Multiselect from \"multiselect-react-dropdown\";\n\nconst EditModelMotor = () => {\n    const navigate = useNavigate();\n    const [make_motor, setMakeMotor] = useState([]);\n    const [location, setLocation] = useState([]);\n    const [selectedOption, setSelectedOption] = useState(null);\n    const [model_motor_id, setModelMotorId] = useState('');\n    const [model_motor_name, setModelMotorName] = useState('');\n    const [model_motor_make, setModelMotorMake] = useState('');\n    const [model_motor_status, setModelMotorStatus] = useState('');\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token === null || token === undefined || token === '') {\n            navigate('/login')\n        }\n        else {\n            const url = window.location.href;\n            const url1 = url.split(\"/\")[3];\n            const url2 = url1.split(\"?\")[1];\n            const id = url2.split(\"=\")[1];\n            setModelMotorId(id);\n            getModelMotor(id);\n            getlistMakeMotor();\n            locationList();\n        }\n    }, [])\n\n    const getlistMakeMotor = () => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch('https://insuranceapi-3o5t.onrender.com/api/getlistMakeMotor', requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                console.log(data.data);\n                setMakeMotor(data.data);\n            });\n    }\n\n    const locationList = () => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                const locationdt = data.data;\n                const location_len = locationdt.length;\n                const location_list = [];\n                for (let i = 0; i < location_len; i++) {\n                    const location_obj = { label: locationdt[i].location_name, value: locationdt[i]._id };\n\n                    location_list.push(location_obj);\n                }\n                setLocation(location_list);\n            });\n    }\n\n    const getModelMotor = (id) => {\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch(`https://insuranceapi-3o5t.onrender.com/api/getModelMotorDetails/${id}`, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                setModelMotorName(data.data.motor_model_name);\n                setModelMotorMake(data.data.motor_model_make_id);\n                const locationid = data.data.motor_model_location;\n                const location_id = locationid.split(\",\");\n                const location_id_len = location_id.length;\n                const location_name = [];\n                for (let i = 0; i < location_id_len; i++) {\n                    const requestOptions = {\n                        method: \"GET\",\n                        headers: {\n                            \"Content-Type\": \"application/json\",\n                        },\n                    };\n                    fetch(`https://insuranceapi-3o5t.onrender.com/api/get_location_by_id/${location_id[i]}`, requestOptions)\n                        .then((response) => response.json())\n                        .then((data) => {\n                            location_name.push(data.data.location_name);\n                            const location_name_len = location_name.length;\n                            if (location_name_len === location_id_len) {\n                                const location_name_str = location_name.join(\",\");\n                                const location_name_arr = location_name_str.split(\",\");\n                                const location_name_arr_len = location_name_arr.length;\n                                const location_name_arr_obj = [];\n                                for (let i = 0; i < location_name_arr_len; i++) {\n                                    const location_name_arr_obj_obj = { label: location_name_arr[i], value: location_id[i] };\n                                    location_name_arr_obj.push(location_name_arr_obj_obj);\n                                }\n                                setSelectedOption(location_name_arr_obj);\n                            }\n                        });\n                }\n                setModelMotorStatus(data.data.motor_model_status);\n            });\n    }\n\n    const handleChange = (selectedOption) => {\n        setSelectedOption(selectedOption);\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const data = new FormData(e.target);\n        const model_motor_name = data.get('model_motor_name');\n        const make_motor = data.get('make_motor');\n        const location = selectedOption;\n        const location_len = location.length;\n        const location_id = [];\n        for (let i = 0; i < location_len; i++) {\n            location_id.push(location[i].value);\n        }\n        const location_id_str = location_id.join(\",\");\n        const model_motor_status = data.get('status');\n        const requestOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                model_motor_name: model_motor_name,\n                make_motor: make_motor,\n                model_motor_location: location_id_str.toString(),\n                model_motor_status: model_motor_status,\n                model_motor_id: model_motor_id\n            })\n        };\n        fetch('/updateModelMotor', requestOptions)\n            .then(response => response.json())\n            .then(data => {\n                if (data.status === 200) {\n                    Swal.fire({\n                        title: \"Success!\",\n                        text: data.message,\n                        icon: \"success\",\n                        confirmButtonText: \"Ok\",\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            navigate(\"/motor-model\");\n                        }\n                    });\n                }\n                else {\n                    Swal.fire({\n                        title: \"Error!\",\n                        text: data.message,\n                        icon: \"error\",\n                        confirmButtonText: \"Ok\",\n                    }).then((result) => {\n                        if (result.isConfirmed) {\n                            navigate(\"/motor-model\");\n                        }\n                    });\n                }\n            });\n    }\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <div className=\"card\">\n                        <div className=\"card-header\">\n                            <div className=\"row\">\n                                <div className=\"col-md-12\">\n                                    <h4 className=\"card-title\">Edit Model Motor</h4>\n                                </div>\n                            </div>\n                            <div className=\"card-body\">\n                                <form action=\"/\" method=\"POST\" onSubmit={handleSubmit}>\n                                    <div className=\"row\">\n                                        <div className=\"col-md-6\">\n                                            <div className=\"form-group\">\n                                                <label className=\"form-label\">Model Motor Name</label>\n                                                <input type=\"text\" className=\"form-control\" placeholder=\"Model Motor Name\" name=\"model_motor_name\" defaultValue={model_motor_name} autoComplete=\"off\" required />\n                                            </div>\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <div className=\"form-group\">\n                                                <label className=\"form-label\">Make Motor</label>\n                                                <select className=\"form-control\" name=\"make_motor\" required>\n                                                    <option value=\"\">Select Make Motor</option>\n                                                    {make_motor.map((item, index) => (\n                                                        <option key={index} value={item._id} selected={model_motor_make == item._id ? true : false}>{item.make_motor_name}</option>\n                                                    ))}\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"row\">\n                                        <div className=\"col-md-6\">\n                                            <div className=\"form-group\">\n                                                <label className=\"form-label\">Location</label>\n                                                <Multiselect\n                                                    options={location}\n                                                    selectedValues={selectedOption}\n                                                    onSelect={handleChange}\n                                                    onRemove={handleChange}\n                                                    displayValue=\"label\"\n                                                    placeholder=\"Select Location\"\n                                                    closeOnSelect={false}\n                                                    avoidHighlightFirstOption={true}\n                                                    showCheckbox={true}\n                                                    style={{ chips: { background: \"#007bff\" } }}\n                                                    required\n                                                />\n                                            </div>\n                                        </div>\n                                        <div className=\"col-md-6\">\n                                            <div className=\"form-group\">\n                                                <label className=\"form-label\">Status</label>\n                                                <select className=\"form-control\" name=\"status\" required>\n                                                    <option value=\"\">Select Status</option>\n                                                    <option value=\"1\" selected={model_motor_status == 1 ? true : false}>Active</option>\n                                                    <option value=\"0\" selected={model_motor_status == 0 ? true : false}>Inactive</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"row\">\n                                        <div className=\"col-md-12\">\n                                            <button type=\"submit\" className=\"btn btn-primary mt-2\" style={{ float: \"right\" }}>Submit</button>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default EditModelMotor\n"],"names":["EditModelMotor","navigate","useNavigate","make_motor","setMakeMotor","useState","location","setLocation","selectedOption","setSelectedOption","model_motor_id","setModelMotorId","model_motor_name","setModelMotorName","model_motor_make","setModelMotorMake","model_motor_status","setModelMotorStatus","useEffect","token","localStorage","getItem","undefined","id","window","href","split","getModelMotor","getlistMakeMotor","locationList","fetch","method","headers","then","response","json","data","console","log","locationdt","location_len","length","location_list","i","location_obj","label","location_name","value","_id","push","motor_model_name","motor_model_make_id","location_id","motor_model_location","location_id_len","requestOptions","location_name_arr","join","location_name_arr_len","location_name_arr_obj","location_name_arr_obj_obj","motor_model_status","handleChange","_jsx","className","children","_jsxs","action","onSubmit","e","preventDefault","FormData","target","get","location_id_str","body","JSON","stringify","model_motor_location","toString","status","Swal","title","text","message","icon","confirmButtonText","result","isConfirmed","type","placeholder","name","defaultValue","autoComplete","required","map","item","index","selected","make_motor_name","Multiselect","options","selectedValues","onSelect","onRemove","displayValue","closeOnSelect","avoidHighlightFirstOption","showCheckbox","style","chips","background","float"],"sourceRoot":""}