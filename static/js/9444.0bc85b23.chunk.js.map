{"version":3,"file":"static/js/9444.0bc85b23.chunk.js","mappings":"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","sources":["views/business_entity/ViewBusinessEntity.js"],"sourcesContent":["import React from 'react';\nimport { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport ReactPaginate from \"react-paginate\";\nimport swal from 'sweetalert';\n\nconst ViewBusinessEntity = () => {\n    const navigate = useNavigate();\n    const [businessentity, setBusinessentity] = useState([]);\n    const [perPage] = useState(5);\n    const [pageCount, setPageCount] = useState(0);\n    const [page, setPage] = useState(1);\n    const [masterpermission, setMasterpermission] = useState([]);\n\n    useEffect(() => {\n        const token = localStorage.getItem('token');\n        if (token === null || token === undefined || token === '') {\n            navigate('/login')\n        }\n        else {\n            getBusinessEntity(page, perPage);\n            const userdata = JSON.parse(localStorage.getItem('user'));\n            const master_permission = userdata?.master_permission?.[0] || {};\n            setMasterpermission(master_permission);\n        }\n    }, []);\n\n    const getBusinessEntity = (page, perPage) => {\n        setBusinessentity([]);\n        const requestOptions = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch('https://insuranceapi-3o5t.onrender.com/api/businessEntity?page=' + page + '&limit=' + perPage, requestOptions)\n            .then((response) => response.json())\n            .then((data) => {\n                const total = data.total;\n                const slice = total / perPage;\n                const pages = Math.ceil(slice);\n                setPageCount(pages);\n                const list = data.data;\n                const list_dt = list.length;\n                const list_obj = [];\n                for (let i = 0; i < list_dt; i++) {\n                    const lob = list[i]['lob'];\n                    const lob_dt = lob.length;\n                    const lob_obj = [];\n                    for (let i = 0; i < lob_dt; i++) {\n                        const lob_obj1 = lob[i]['label'];\n                        lob_obj.push(lob_obj1);\n                    }\n                    var lobValues = lob_obj.join(', ');\n\n                    const list_obj1 = {\n                        id: list[i]['_id'],\n                        business_entity_name: list[i]['location_name'],\n                        lob: lobValues,\n                        business_entity_status: list[i]['location_status'],\n                    };\n                    list_obj.push(list_obj1);\n                }\n                setBusinessentity(list_obj);\n            });\n    }\n\n    const handlePageClick = (e) => {\n        const selectedPage = e.selected + 1;\n        setPage(selectedPage);\n        getBusinessEntity(selectedPage, perPage);\n    };\n\n    const deactivatebusinessentity = (id, status) => {\n        const requestOptions = {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        fetch('https://insuranceapi-3o5t.onrender.com/api/businessEntity?id=' + id + '&status=' + status, requestOptions)\n            .then((response) => response.json())\n            .then((data) => {\n                if (data.status === 200) {\n                    swal({\n                        title: \"Success\",\n                        text: data.message,\n                        type: \"success\",\n                        icon: \"success\"\n                    }).then(function () {\n                        getBusinessEntity(page, perPage);\n                    });\n                }\n                else {\n                    swal({\n                        title: \"Error\",\n                        text: data.message,\n                        type: \"error\",\n                        icon: \"error\"\n                    }).then(function () {\n                        getBusinessEntity(page, perPage);\n                    });\n                }\n            });\n    }\n\n    const startFrom = (page - 1) * perPage;\n\n    return (\n        <div className=\"container\">\n            <div className=\"row\">\n                <div className=\"col-md-12\">\n                    <div className=\"row\">\n                        <div className=\"col-md-12\">\n                            <div className=\"card\">\n                                <div className=\"card-header\">\n                                    <div className=\"row\">\n                                        <div className=\"col-md-6\">\n                                            <h4 className=\"card-title\">Location List</h4>\n                                        </div>\n                                        {masterpermission.location?.includes('create') ?\n                                            <div className=\"col-md-6\">\n                                                <a href=\"/AddBusinessEntity\" className=\"btn btn-primary\" style={{ float: 'right' }}>Add Location</a>\n                                            </div>\n                                            : \"\"\n                                        }\n                                    </div>\n                                </div>\n                                <div className=\"card-body\">\n                                    <div className=\"row\">\n                                        <div className=\"col-md-12\">\n                                            <table className=\"table table-bordered\">\n                                                <thead>\n                                                    <tr>\n                                                        <th>Sr No.</th>\n                                                        <th>Location Name</th>\n                                                        <th>Line Of Business</th>\n                                                        <th>Action</th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody>\n                                                    {\n                                                        businessentity.map((item, index) => (\n                                                            <tr key={index}>\n                                                                <td>{startFrom + index + 1}</td>\n                                                                <td>{item.business_entity_name}</td>\n                                                                <td>{item.lob}</td>\n                                                                <td>\n                                                                    {masterpermission.location?.includes('edit') ?\n                                                                        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                                                            <a href={`/ViewBusinessEntityBank?id=${item.id}`} className=\"btn btn-success\">Bank</a>\n                                                                        </div>\n                                                                        : \"\"\n                                                                    }\n                                                                    &nbsp;&nbsp;\n\n                                                                    {masterpermission.location?.includes('edit') ?\n                                                                        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                                                                            <a href={`/EditBusinessEntity?id=${item.id}`} className=\"btn btn-primary\">Edit</a>&nbsp;&nbsp;\n                                                                        </div>\n                                                                        : \"\"\n                                                                    }\n                                                                    {masterpermission.location?.includes('delete') ?\n                                                                        item.business_entity_status\n                                                                            === 1 ?\n                                                                            <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\"><button className=\"btn btn-danger\" onClick={() => { if (window.confirm('Are you sure you wish to deactivate this item?')) deactivatebusinessentity(item.id, 0) }}>Deactivate</button></div> :\n                                                                            <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\"><button className=\"btn btn-success\" onClick={() => { if (window.confirm('Are you sure you wish to activate this item?')) deactivatebusinessentity(item.id, 1) }}>Activate</button></div>\n                                                                        : \"\"\n                                                                    }\n                                                                </td>\n                                                            </tr>\n                                                        ))\n                                                    }\n                                                </tbody>\n                                            </table>\n                                            <ReactPaginate\n                                                previousLabel={\"Previous\"}\n                                                nextLabel={\"Next\"}\n                                                breakLabel={\"...\"}\n                                                pageCount={pageCount}\n                                                marginPagesDisplayed={2}\n                                                pageRangeDisplayed={3}\n                                                onPageChange={handlePageClick}\n                                                containerClassName={\"pagination justify-content-end\"}\n                                                pageClassName={\"page-item\"}\n                                                pageLinkClassName={\"page-link\"}\n                                                previousClassName={\"page-item\"}\n                                                previousLinkClassName={\"page-link\"}\n                                                nextClassName={\"page-item\"}\n                                                nextLinkClassName={\"page-link\"}\n                                                breakClassName={\"page-item\"}\n                                                breakLinkClassName={\"page-link\"}\n                                                activeClassName={\"active\"}\n                                            />\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ViewBusinessEntity\n"],"names":["ViewBusinessEntity","_masterpermission$loc","navigate","useNavigate","businessentity","setBusinessentity","useState","perPage","pageCount","setPageCount","page","setPage","masterpermission","setMasterpermission","useEffect","token","localStorage","getItem","undefined","_userdata$master_perm","getBusinessEntity","userdata","JSON","parse","master_permission","fetch","method","headers","then","response","json","data","slice","total","pages","Math","ceil","list","list_dt","length","list_obj","i","lob","lob_dt","lob_obj","lob_obj1","push","lobValues","join","list_obj1","id","business_entity_name","business_entity_status","deactivatebusinessentity","status","swal","title","text","message","type","icon","startFrom","_jsx","className","children","_jsxs","location","includes","href","style","float","map","item","index","_masterpermission$loc2","_masterpermission$loc3","_masterpermission$loc4","role","onClick","window","confirm","ReactPaginate","previousLabel","nextLabel","breakLabel","marginPagesDisplayed","pageRangeDisplayed","onPageChange","e","selectedPage","selected","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","breakClassName","breakLinkClassName","activeClassName"],"sourceRoot":""}